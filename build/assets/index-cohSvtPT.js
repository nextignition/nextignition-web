(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Mf={exports:{}},Fo={},bf={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function Yw(){if(sx)return yt;sx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,T={};function w(O,le,Ie){this.props=O,this.context=le,this.refs=T,this.updater=Ie||S}w.prototype.isReactComponent={},w.prototype.setState=function(O,le){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,le,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=w.prototype;function R(O,le,Ie){this.props=O,this.context=le,this.refs=T,this.updater=Ie||S}var N=R.prototype=new _;N.constructor=R,M(N,w.prototype),N.isPureReactComponent=!0;var I=Array.isArray,D=Object.prototype.hasOwnProperty,k={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function j(O,le,Ie){var Ze,et={},re=null,he=null;if(le!=null)for(Ze in le.ref!==void 0&&(he=le.ref),le.key!==void 0&&(re=""+le.key),le)D.call(le,Ze)&&!F.hasOwnProperty(Ze)&&(et[Ze]=le[Ze]);var be=arguments.length-2;if(be===1)et.children=Ie;else if(1<be){for(var ze=Array(be),Fe=0;Fe<be;Fe++)ze[Fe]=arguments[Fe+2];et.children=ze}if(O&&O.defaultProps)for(Ze in be=O.defaultProps,be)et[Ze]===void 0&&(et[Ze]=be[Ze]);return{$$typeof:n,type:O,key:re,ref:he,props:et,_owner:k.current}}function A(O,le){return{$$typeof:n,type:O.type,key:le,ref:O.ref,props:O.props,_owner:O._owner}}function P(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function H(O){var le={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ie){return le[Ie]})}var ae=/\/+/g;function te(O,le){return typeof O=="object"&&O!==null&&O.key!=null?H(""+O.key):le.toString(36)}function pe(O,le,Ie,Ze,et){var re=typeof O;(re==="undefined"||re==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(re){case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case n:case e:he=!0}}if(he)return he=O,et=et(he),O=Ze===""?"."+te(he,0):Ze,I(et)?(Ie="",O!=null&&(Ie=O.replace(ae,"$&/")+"/"),pe(et,le,Ie,"",function(Fe){return Fe})):et!=null&&(P(et)&&(et=A(et,Ie+(!et.key||he&&he.key===et.key?"":(""+et.key).replace(ae,"$&/")+"/")+O)),le.push(et)),1;if(he=0,Ze=Ze===""?".":Ze+":",I(O))for(var be=0;be<O.length;be++){re=O[be];var ze=Ze+te(re,be);he+=pe(re,le,Ie,ze,et)}else if(ze=y(O),typeof ze=="function")for(O=ze.call(O),be=0;!(re=O.next()).done;)re=re.value,ze=Ze+te(re,be++),he+=pe(re,le,Ie,ze,et);else if(re==="object")throw le=String(O),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return he}function de(O,le,Ie){if(O==null)return O;var Ze=[],et=0;return pe(O,Ze,"","",function(re){return le.call(Ie,re,et++)}),Ze}function ce(O){if(O._status===-1){var le=O._result;le=le(),le.then(function(Ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ie)},function(Ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ie)}),O._status===-1&&(O._status=0,O._result=le)}if(O._status===1)return O._result.default;throw O._result}var K={current:null},$={transition:null},fe={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:$,ReactCurrentOwner:k};function ie(){throw Error("act(...) is not supported in production builds of React.")}return yt.Children={map:de,forEach:function(O,le,Ie){de(O,function(){le.apply(this,arguments)},Ie)},count:function(O){var le=0;return de(O,function(){le++}),le},toArray:function(O){return de(O,function(le){return le})||[]},only:function(O){if(!P(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},yt.Component=w,yt.Fragment=t,yt.Profiler=a,yt.PureComponent=R,yt.StrictMode=r,yt.Suspense=h,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,yt.act=ie,yt.cloneElement=function(O,le,Ie){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ze=M({},O.props),et=O.key,re=O.ref,he=O._owner;if(le!=null){if(le.ref!==void 0&&(re=le.ref,he=k.current),le.key!==void 0&&(et=""+le.key),O.type&&O.type.defaultProps)var be=O.type.defaultProps;for(ze in le)D.call(le,ze)&&!F.hasOwnProperty(ze)&&(Ze[ze]=le[ze]===void 0&&be!==void 0?be[ze]:le[ze])}var ze=arguments.length-2;if(ze===1)Ze.children=Ie;else if(1<ze){be=Array(ze);for(var Fe=0;Fe<ze;Fe++)be[Fe]=arguments[Fe+2];Ze.children=be}return{$$typeof:n,type:O.type,key:et,ref:re,props:Ze,_owner:he}},yt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},yt.createElement=j,yt.createFactory=function(O){var le=j.bind(null,O);return le.type=O,le},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:d,render:O}},yt.isValidElement=P,yt.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ce}},yt.memo=function(O,le){return{$$typeof:p,type:O,compare:le===void 0?null:le}},yt.startTransition=function(O){var le=$.transition;$.transition={};try{O()}finally{$.transition=le}},yt.unstable_act=ie,yt.useCallback=function(O,le){return K.current.useCallback(O,le)},yt.useContext=function(O){return K.current.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O){return K.current.useDeferredValue(O)},yt.useEffect=function(O,le){return K.current.useEffect(O,le)},yt.useId=function(){return K.current.useId()},yt.useImperativeHandle=function(O,le,Ie){return K.current.useImperativeHandle(O,le,Ie)},yt.useInsertionEffect=function(O,le){return K.current.useInsertionEffect(O,le)},yt.useLayoutEffect=function(O,le){return K.current.useLayoutEffect(O,le)},yt.useMemo=function(O,le){return K.current.useMemo(O,le)},yt.useReducer=function(O,le,Ie){return K.current.useReducer(O,le,Ie)},yt.useRef=function(O){return K.current.useRef(O)},yt.useState=function(O){return K.current.useState(O)},yt.useSyncExternalStore=function(O,le,Ie){return K.current.useSyncExternalStore(O,le,Ie)},yt.useTransition=function(){return K.current.useTransition()},yt.version="18.3.1",yt}var ax;function Wp(){return ax||(ax=1,bf.exports=Yw()),bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function qw(){if(ox)return Fo;ox=1;var n=Wp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var m,x={},y=null,S=null;p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(x[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)x[m]===void 0&&(x[m]=h[m]);return{$$typeof:e,type:d,key:y,ref:S,props:x,_owner:a.current}}return Fo.Fragment=t,Fo.jsx=c,Fo.jsxs=c,Fo}var lx;function Kw(){return lx||(lx=1,Mf.exports=qw()),Mf.exports}var u=Kw(),Ic={},Ef={exports:{}},Kn={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function Zw(){return cx||(cx=1,(function(n){function e($,fe){var ie=$.length;$.push(fe);e:for(;0<ie;){var O=ie-1>>>1,le=$[O];if(0<a(le,fe))$[O]=fe,$[ie]=le,ie=O;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var fe=$[0],ie=$.pop();if(ie!==fe){$[0]=ie;e:for(var O=0,le=$.length,Ie=le>>>1;O<Ie;){var Ze=2*(O+1)-1,et=$[Ze],re=Ze+1,he=$[re];if(0>a(et,ie))re<le&&0>a(he,et)?($[O]=he,$[re]=ie,O=re):($[O]=et,$[Ze]=ie,O=Ze);else if(re<le&&0>a(he,ie))$[O]=he,$[re]=ie,O=re;else break e}}return fe}function a($,fe){var ie=$.sortIndex-fe.sortIndex;return ie!==0?ie:$.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],p=[],m=1,x=null,y=3,S=!1,M=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=$)r(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(p)}}function I($){if(T=!1,N($),!M)if(t(h)!==null)M=!0,ce(D);else{var fe=t(p);fe!==null&&K(I,fe.startTime-$)}}function D($,fe){M=!1,T&&(T=!1,_(j),j=-1),S=!0;var ie=y;try{for(N(fe),x=t(h);x!==null&&(!(x.expirationTime>fe)||$&&!H());){var O=x.callback;if(typeof O=="function"){x.callback=null,y=x.priorityLevel;var le=O(x.expirationTime<=fe);fe=n.unstable_now(),typeof le=="function"?x.callback=le:x===t(h)&&r(h),N(fe)}else r(h);x=t(h)}if(x!==null)var Ie=!0;else{var Ze=t(p);Ze!==null&&K(I,Ze.startTime-fe),Ie=!1}return Ie}finally{x=null,y=ie,S=!1}}var k=!1,F=null,j=-1,A=5,P=-1;function H(){return!(n.unstable_now()-P<A)}function ae(){if(F!==null){var $=n.unstable_now();P=$;var fe=!0;try{fe=F(!0,$)}finally{fe?te():(k=!1,F=null)}}else k=!1}var te;if(typeof R=="function")te=function(){R(ae)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,de=pe.port2;pe.port1.onmessage=ae,te=function(){de.postMessage(null)}}else te=function(){w(ae,0)};function ce($){F=$,k||(k=!0,te())}function K($,fe){j=w(function(){$(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){M||S||(M=!0,ce(D))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function($){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ie=y;y=fe;try{return $()}finally{y=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,fe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=y;y=$;try{return fe()}finally{y=ie}},n.unstable_scheduleCallback=function($,fe,ie){var O=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?O+ie:O):ie=O,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ie+le,$={id:m++,callback:fe,priorityLevel:$,startTime:ie,expirationTime:le,sortIndex:-1},ie>O?($.sortIndex=ie,e(p,$),t(h)===null&&$===t(p)&&(T?(_(j),j=-1):T=!0,K(I,ie-O))):($.sortIndex=le,e(h,$),M||S||(M=!0,ce(D))),$},n.unstable_shouldYield=H,n.unstable_wrapCallback=function($){var fe=y;return function(){var ie=y;y=fe;try{return $.apply(this,arguments)}finally{y=ie}}}})(Af)),Af}var ux;function Jw(){return ux||(ux=1,Tf.exports=Zw()),Tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function Qw(){if(dx)return Kn;dx=1;var n=Wp(),e=Jw();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(i,s){c(i,s),c(i+"Capture",s)}function c(i,s){for(a[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function y(i){return h.call(x,i)?!0:h.call(m,i)?!1:p.test(i)?x[i]=!0:(m[i]=!0,!1)}function S(i,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,s,l,f){if(s===null||typeof s>"u"||S(i,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(i,s,l,f,g,v,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=E}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){w[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];w[s]=new T(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){w[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){w[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){w[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){w[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){w[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){w[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){w[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(_,R);w[s]=new T(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(_,R);w[s]=new T(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(_,R);w[s]=new T(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){w[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),w.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){w[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,s,l,f){var g=w.hasOwnProperty(s)?w[s]:null;(g!==null?g.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,l,g,f)&&(l=null),f||g===null?y(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):g.mustUseProperty?i[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,f=g.attributeNamespace,l===null?i.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?i.setAttributeNS(f,s,l):i.setAttribute(s,l))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),$=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,O;function le(i){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+i}var Ie=!1;function Ze(i,s){if(!i||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(se){var f=se}Reflect.construct(i,[],s)}else{try{s.call()}catch(se){f=se}i.call(s.prototype)}else{try{throw Error()}catch(se){f=se}i()}}catch(se){if(se&&f&&typeof se.stack=="string"){for(var g=se.stack.split(`
`),v=f.stack.split(`
`),E=g.length-1,U=v.length-1;1<=E&&0<=U&&g[E]!==v[U];)U--;for(;1<=E&&0<=U;E--,U--)if(g[E]!==v[U]){if(E!==1||U!==1)do if(E--,U--,0>U||g[E]!==v[U]){var V=`
`+g[E].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=E&&0<=U);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?le(i):""}function et(i){switch(i.tag){case 5:return le(i.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return i=Ze(i.type,!1),i;case 11:return i=Ze(i.type.render,!1),i;case 1:return i=Ze(i.type,!0),i;default:return""}}function re(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case k:return"Portal";case A:return"Profiler";case j:return"StrictMode";case te:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case H:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case ae:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case de:return s=i.displayName||null,s!==null?s:re(i.type)||"Memo";case ce:s=i._payload,i=i._init;try{return re(i(s))}catch{}}return null}function he(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(s);case 8:return s===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ze(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fe(i){var s=ze(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,v.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function vt(i){i._valueTracker||(i._valueTracker=Fe(i))}function rn(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=ze(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function xt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function bt(i,s){var l=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Lt(i,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=be(s.value!=null?s.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ht(i,s){s=s.checked,s!=null&&N(i,"checked",s,!1)}function Xt(i,s){ht(i,s);var l=be(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?$t(i,s.type,l):s.hasOwnProperty("defaultValue")&&$t(i,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function z(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function $t(i,s,l){(s!=="number"||xt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var St=Array.isArray;function Et(i,s,l,f){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+be(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function L(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(St(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:be(l)}}function b(i,s){var l=be(s.value),f=be(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function Y(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function me(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?me(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ue,Je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,g){MSApp.execUnsafeLocalFunction(function(){return i(s,l,f,g)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(ue=ue||document.createElement("div"),ue.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ue.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Ae(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(i){ot.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),He[s]=He[i]})});function we(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||He.hasOwnProperty(i)&&He[i]?(""+s).trim():s+"px"}function Pe(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=we(l,s[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,g):i[l]=g}}var Xe=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(i,s){if(s){if(Xe[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ne(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ft=null;function G(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Le=null,Ee=null,ke=null;function _e(i){if(i=wo(i)){if(typeof Le!="function")throw Error(t(280));var s=i.stateNode;s&&(s=$l(s),Le(i.stateNode,i.type,s))}}function ge(i){Ee?ke?ke.push(i):ke=[i]:Ee=i}function Re(){if(Ee){var i=Ee,s=ke;if(ke=Ee=null,_e(i),s)for(i=0;i<s.length;i++)_e(s[i])}}function lt(i,s){return i(s)}function Ot(){}var Tt=!1;function Qn(i,s,l){if(Tt)return i(s,l);Tt=!0;try{return lt(i,s,l)}finally{Tt=!1,(Ee!==null||ke!==null)&&(Ot(),Re())}}function Un(i,s){var l=i.stateNode;if(l===null)return null;var f=$l(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var eo=!1;if(d)try{var br={};Object.defineProperty(br,"passive",{get:function(){eo=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{eo=!1}function to(i,s,l,f,g,v,E,U,V){var se=Array.prototype.slice.call(arguments,3);try{s.apply(l,se)}catch(ve){this.onError(ve)}}var rs=!1,ss=null,as=!1,wi=null,no={onError:function(i){rs=!0,ss=i}};function Tl(i,s,l,f,g,v,E,U,V){rs=!1,ss=null,to.apply(no,arguments)}function Al(i,s,l,f,g,v,E,U,V){if(Tl.apply(this,arguments),rs){if(rs){var se=ss;rs=!1,ss=null}else throw Error(t(198));as||(as=!0,wi=se)}}function ci(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function io(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function os(i){if(ci(i)!==i)throw Error(t(188))}function Cl(i){var s=i.alternate;if(!s){if(s=ci(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,f=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return os(g),i;if(v===f)return os(g),s;v=v.sibling}throw Error(t(188))}if(l.return!==f.return)l=g,f=v;else{for(var E=!1,U=g.child;U;){if(U===l){E=!0,l=g,f=v;break}if(U===f){E=!0,f=g,l=v;break}U=U.sibling}if(!E){for(U=v.child;U;){if(U===l){E=!0,l=v,f=g;break}if(U===f){E=!0,f=v,l=g;break}U=U.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ro(i){return i=Cl(i),i!==null?Nl(i):null}function Nl(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Nl(i);if(s!==null)return s;i=i.sibling}return null}var Rl=e.unstable_scheduleCallback,Pl=e.unstable_cancelCallback,Wu=e.unstable_shouldYield,Xu=e.unstable_requestPaint,qt=e.unstable_now,C=e.unstable_getCurrentPriorityLevel,q=e.unstable_ImmediatePriority,oe=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,J=e.unstable_LowPriority,De=e.unstable_IdlePriority,Oe=null,Ce=null;function We(i){if(Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Oe,i,void 0,(i.current.flags&128)===128)}catch{}}var je=Math.clz32?Math.clz32:mt,at=Math.log,nt=Math.LN2;function mt(i){return i>>>=0,i===0?32:31-(at(i)/nt|0)|0}var At=64,zt=4194304;function jt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Pt(i,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,g=i.suspendedLanes,v=i.pingedLanes,E=l&268435455;if(E!==0){var U=E&~g;U!==0?f=jt(U):(v&=E,v!==0&&(f=jt(v)))}else E=l&~g,E!==0?f=jt(E):v!==0&&(f=jt(v));if(f===0)return 0;if(s!==0&&s!==f&&(s&g)===0&&(g=f&-f,v=s&-s,g>=v||g===16&&(v&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)l=31-je(s),g=1<<l,f|=i[l],s&=~g;return f}function it(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-je(v),U=1<<E,V=g[E];V===-1?((U&l)===0||(U&f)!==0)&&(g[E]=it(U,s)):V<=s&&(i.expiredLanes|=U),v&=~U}}function wt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Tn(){var i=At;return At<<=1,(At&4194240)===0&&(At=64),i}function ji(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function cn(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-je(s),i[s]=l}function ls(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var g=31-je(l),v=1<<g;s[g]=0,f[g]=-1,i[g]=-1,l&=~v}}function kt(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-je(l),g=1<<f;g&s|i[f]&s&&(i[f]|=s),l&=~g}}var ut=0;function Fn(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var mn,gn,js,Vi,Vm,$u=!1,Il=[],Er=null,Tr=null,Ar=null,so=new Map,ao=new Map,Cr=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(i,s){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":so.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(s.pointerId)}}function oo(i,s,l,f,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},s!==null&&(s=wo(s),s!==null&&gn(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function xS(i,s,l,f,g){switch(s){case"focusin":return Er=oo(Er,i,s,l,f,g),!0;case"dragenter":return Tr=oo(Tr,i,s,l,f,g),!0;case"mouseover":return Ar=oo(Ar,i,s,l,f,g),!0;case"pointerover":var v=g.pointerId;return so.set(v,oo(so.get(v)||null,i,s,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,ao.set(v,oo(ao.get(v)||null,i,s,l,f,g)),!0}return!1}function Hm(i){var s=cs(i.target);if(s!==null){var l=ci(s);if(l!==null){if(s=l.tag,s===13){if(s=io(l),s!==null){i.blockedOn=s,Vm(i.priority,function(){js(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=qu(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);ft=f,l.target.dispatchEvent(f),ft=null}else return s=wo(l),s!==null&&gn(s),i.blockedOn=l,!1;s.shift()}return!0}function Gm(i,s,l){Dl(i)&&l.delete(s)}function yS(){$u=!1,Er!==null&&Dl(Er)&&(Er=null),Tr!==null&&Dl(Tr)&&(Tr=null),Ar!==null&&Dl(Ar)&&(Ar=null),so.forEach(Gm),ao.forEach(Gm)}function lo(i,s){i.blockedOn===s&&(i.blockedOn=null,$u||($u=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yS)))}function co(i){function s(g){return lo(g,i)}if(0<Il.length){lo(Il[0],i);for(var l=1;l<Il.length;l++){var f=Il[l];f.blockedOn===i&&(f.blockedOn=null)}}for(Er!==null&&lo(Er,i),Tr!==null&&lo(Tr,i),Ar!==null&&lo(Ar,i),so.forEach(s),ao.forEach(s),l=0;l<Cr.length;l++)f=Cr[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<Cr.length&&(l=Cr[0],l.blockedOn===null);)Hm(l),l.blockedOn===null&&Cr.shift()}var Vs=I.ReactCurrentBatchConfig,Ll=!0;function vS(i,s,l,f){var g=ut,v=Vs.transition;Vs.transition=null;try{ut=1,Yu(i,s,l,f)}finally{ut=g,Vs.transition=v}}function _S(i,s,l,f){var g=ut,v=Vs.transition;Vs.transition=null;try{ut=4,Yu(i,s,l,f)}finally{ut=g,Vs.transition=v}}function Yu(i,s,l,f){if(Ll){var g=qu(i,s,l,f);if(g===null)fd(i,s,f,kl,l),zm(i,f);else if(xS(g,i,s,l,f))f.stopPropagation();else if(zm(i,f),s&4&&-1<gS.indexOf(i)){for(;g!==null;){var v=wo(g);if(v!==null&&mn(v),v=qu(i,s,l,f),v===null&&fd(i,s,f,kl,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else fd(i,s,f,null,l)}}var kl=null;function qu(i,s,l,f){if(kl=null,i=G(f),i=cs(i),i!==null)if(s=ci(i),s===null)i=null;else if(l=s.tag,l===13){if(i=io(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return kl=i,null}function Wm(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C()){case q:return 1;case oe:return 4;case ne:case J:return 16;case De:return 536870912;default:return 16}default:return 16}}var Nr=null,Ku=null,Ul=null;function Xm(){if(Ul)return Ul;var i,s=Ku,l=s.length,f,g="value"in Nr?Nr.value:Nr.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var E=l-i;for(f=1;f<=E&&s[l-f]===g[v-f];f++);return Ul=g.slice(i,1<f?1-f:void 0)}function Fl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ol(){return!0}function $m(){return!1}function ei(i){function s(l,f,g,v,E){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(l=i[U],this[U]=l?l(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ol:$m,this.isPropagationStopped=$m,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),s}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=ei(zs),uo=ie({},zs,{view:0,detail:0}),SS=ei(uo),Ju,Qu,fo,Bl=ie({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fo&&(fo&&i.type==="mousemove"?(Ju=i.screenX-fo.screenX,Qu=i.screenY-fo.screenY):Qu=Ju=0,fo=i),Ju)},movementY:function(i){return"movementY"in i?i.movementY:Qu}}),Ym=ei(Bl),wS=ie({},Bl,{dataTransfer:0}),MS=ei(wS),bS=ie({},uo,{relatedTarget:0}),ed=ei(bS),ES=ie({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),TS=ei(ES),AS=ie({},zs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),CS=ei(AS),NS=ie({},zs,{data:0}),qm=ei(NS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=IS[i])?!!s[i]:!1}function td(){return DS}var LS=ie({},uo,{key:function(i){if(i.key){var s=RS[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Fl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?PS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(i){return i.type==="keypress"?Fl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kS=ei(LS),US=ie({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=ei(US),FS=ie({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),OS=ei(FS),BS=ie({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=ei(BS),VS=ie({},Bl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=ei(VS),HS=[9,13,27,32],nd=d&&"CompositionEvent"in window,ho=null;d&&"documentMode"in document&&(ho=document.documentMode);var GS=d&&"TextEvent"in window&&!ho,Zm=d&&(!nd||ho&&8<ho&&11>=ho),Jm=" ",Qm=!1;function eg(i,s){switch(i){case"keyup":return HS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hs=!1;function WS(i,s){switch(i){case"compositionend":return tg(s);case"keypress":return s.which!==32?null:(Qm=!0,Jm);case"textInput":return i=s.data,i===Jm&&Qm?null:i;default:return null}}function XS(i,s){if(Hs)return i==="compositionend"||!nd&&eg(i,s)?(i=Xm(),Ul=Ku=Nr=null,Hs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zm&&s.locale!=="ko"?null:s.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!$S[i.type]:s==="textarea"}function ig(i,s,l,f){ge(f),s=Gl(s,"onChange"),0<s.length&&(l=new Zu("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var po=null,mo=null;function YS(i){Sg(i,0)}function jl(i){var s=Ys(i);if(rn(s))return i}function qS(i,s){if(i==="change")return s}var rg=!1;if(d){var id;if(d){var rd="oninput"in document;if(!rd){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),rd=typeof sg.oninput=="function"}id=rd}else id=!1;rg=id&&(!document.documentMode||9<document.documentMode)}function ag(){po&&(po.detachEvent("onpropertychange",og),mo=po=null)}function og(i){if(i.propertyName==="value"&&jl(mo)){var s=[];ig(s,mo,i,G(i)),Qn(YS,s)}}function KS(i,s,l){i==="focusin"?(ag(),po=s,mo=l,po.attachEvent("onpropertychange",og)):i==="focusout"&&ag()}function ZS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jl(mo)}function JS(i,s){if(i==="click")return jl(s)}function QS(i,s){if(i==="input"||i==="change")return jl(s)}function ew(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mi=typeof Object.is=="function"?Object.is:ew;function go(i,s){if(Mi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!h.call(s,g)||!Mi(i[g],s[g]))return!1}return!0}function lg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cg(i,s){var l=lg(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lg(l)}}function ug(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ug(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dg(){for(var i=window,s=xt();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=xt(i.document)}return s}function sd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function tw(i){var s=dg(),l=i.focusedElem,f=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&ug(l.ownerDocument.documentElement,l)){if(f!==null&&sd(l)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var g=l.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!i.extend&&v>f&&(g=f,f=v,v=g),g=cg(l,v);var E=cg(l,f);g&&E&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),i.removeAllRanges(),v>f?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var nw=d&&"documentMode"in document&&11>=document.documentMode,Gs=null,ad=null,xo=null,od=!1;function fg(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;od||Gs==null||Gs!==xt(f)||(f=Gs,"selectionStart"in f&&sd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xo&&go(xo,f)||(xo=f,f=Gl(ad,"onSelect"),0<f.length&&(s=new Zu("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=Gs)))}function Vl(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ws={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},ld={},hg={};d&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function zl(i){if(ld[i])return ld[i];if(!Ws[i])return i;var s=Ws[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in hg)return ld[i]=s[l];return i}var pg=zl("animationend"),mg=zl("animationiteration"),gg=zl("animationstart"),xg=zl("transitionend"),yg=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,s){yg.set(i,s),o(s,[i])}for(var cd=0;cd<vg.length;cd++){var ud=vg[cd],iw=ud.toLowerCase(),rw=ud[0].toUpperCase()+ud.slice(1);Rr(iw,"on"+rw)}Rr(pg,"onAnimationEnd"),Rr(mg,"onAnimationIteration"),Rr(gg,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(xg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function _g(i,s,l){var f=i.type||"unknown-event";i.currentTarget=l,Al(f,s,void 0,i),i.currentTarget=null}function Sg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var E=f.length-1;0<=E;E--){var U=f[E],V=U.instance,se=U.currentTarget;if(U=U.listener,V!==v&&g.isPropagationStopped())break e;_g(g,U,se),v=V}else for(E=0;E<f.length;E++){if(U=f[E],V=U.instance,se=U.currentTarget,U=U.listener,V!==v&&g.isPropagationStopped())break e;_g(g,U,se),v=V}}}if(as)throw i=wi,as=!1,wi=null,i}function Gt(i,s){var l=s[yd];l===void 0&&(l=s[yd]=new Set);var f=i+"__bubble";l.has(f)||(wg(s,i,2,!1),l.add(f))}function dd(i,s,l){var f=0;s&&(f|=4),wg(l,i,f,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function vo(i){if(!i[Hl]){i[Hl]=!0,r.forEach(function(l){l!=="selectionchange"&&(sw.has(l)||dd(l,!1,i),dd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,dd("selectionchange",!1,s))}}function wg(i,s,l,f){switch(Wm(s)){case 1:var g=vS;break;case 4:g=_S;break;default:g=Yu}l=g.bind(null,s,l,i),g=void 0,!eo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function fd(i,s,l,f,g){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var U=f.stateNode.containerInfo;if(U===g||U.nodeType===8&&U.parentNode===g)break;if(E===4)for(E=f.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;E=E.return}for(;U!==null;){if(E=cs(U),E===null)return;if(V=E.tag,V===5||V===6){f=v=E;continue e}U=U.parentNode}}f=f.return}Qn(function(){var se=v,ve=G(l),Se=[];e:{var ye=yg.get(i);if(ye!==void 0){var Be=Zu,$e=i;switch(i){case"keypress":if(Fl(l)===0)break e;case"keydown":case"keyup":Be=kS;break;case"focusin":$e="focus",Be=ed;break;case"focusout":$e="blur",Be=ed;break;case"beforeblur":case"afterblur":Be=ed;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=OS;break;case pg:case mg:case gg:Be=TS;break;case xg:Be=jS;break;case"scroll":Be=SS;break;case"wheel":Be=zS;break;case"copy":case"cut":case"paste":Be=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Km}var Ke=(s&4)!==0,sn=!Ke&&i==="scroll",Z=Ke?ye!==null?ye+"Capture":null:ye;Ke=[];for(var W=se,Q;W!==null;){Q=W;var Te=Q.stateNode;if(Q.tag===5&&Te!==null&&(Q=Te,Z!==null&&(Te=Un(W,Z),Te!=null&&Ke.push(_o(W,Te,Q)))),sn)break;W=W.return}0<Ke.length&&(ye=new Be(ye,$e,null,l,ve),Se.push({event:ye,listeners:Ke}))}}if((s&7)===0){e:{if(ye=i==="mouseover"||i==="pointerover",Be=i==="mouseout"||i==="pointerout",ye&&l!==ft&&($e=l.relatedTarget||l.fromElement)&&(cs($e)||$e[nr]))break e;if((Be||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Be?($e=l.relatedTarget||l.toElement,Be=se,$e=$e?cs($e):null,$e!==null&&(sn=ci($e),$e!==sn||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Be=null,$e=se),Be!==$e)){if(Ke=Ym,Te="onMouseLeave",Z="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=Km,Te="onPointerLeave",Z="onPointerEnter",W="pointer"),sn=Be==null?ye:Ys(Be),Q=$e==null?ye:Ys($e),ye=new Ke(Te,W+"leave",Be,l,ve),ye.target=sn,ye.relatedTarget=Q,Te=null,cs(ve)===se&&(Ke=new Ke(Z,W+"enter",$e,l,ve),Ke.target=Q,Ke.relatedTarget=sn,Te=Ke),sn=Te,Be&&$e)t:{for(Ke=Be,Z=$e,W=0,Q=Ke;Q;Q=Xs(Q))W++;for(Q=0,Te=Z;Te;Te=Xs(Te))Q++;for(;0<W-Q;)Ke=Xs(Ke),W--;for(;0<Q-W;)Z=Xs(Z),Q--;for(;W--;){if(Ke===Z||Z!==null&&Ke===Z.alternate)break t;Ke=Xs(Ke),Z=Xs(Z)}Ke=null}else Ke=null;Be!==null&&Mg(Se,ye,Be,Ke,!1),$e!==null&&sn!==null&&Mg(Se,sn,$e,Ke,!0)}}e:{if(ye=se?Ys(se):window,Be=ye.nodeName&&ye.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ye.type==="file")var Qe=qS;else if(ng(ye))if(rg)Qe=QS;else{Qe=ZS;var rt=KS}else(Be=ye.nodeName)&&Be.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Qe=JS);if(Qe&&(Qe=Qe(i,se))){ig(Se,Qe,l,ve);break e}rt&&rt(i,ye,se),i==="focusout"&&(rt=ye._wrapperState)&&rt.controlled&&ye.type==="number"&&$t(ye,"number",ye.value)}switch(rt=se?Ys(se):window,i){case"focusin":(ng(rt)||rt.contentEditable==="true")&&(Gs=rt,ad=se,xo=null);break;case"focusout":xo=ad=Gs=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,fg(Se,l,ve);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":fg(Se,l,ve)}var st;if(nd)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Hs?eg(i,l)&&(ct="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ct="onCompositionStart");ct&&(Zm&&l.locale!=="ko"&&(Hs||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Hs&&(st=Xm()):(Nr=ve,Ku="value"in Nr?Nr.value:Nr.textContent,Hs=!0)),rt=Gl(se,ct),0<rt.length&&(ct=new qm(ct,i,null,l,ve),Se.push({event:ct,listeners:rt}),st?ct.data=st:(st=tg(l),st!==null&&(ct.data=st)))),(st=GS?WS(i,l):XS(i,l))&&(se=Gl(se,"onBeforeInput"),0<se.length&&(ve=new qm("onBeforeInput","beforeinput",null,l,ve),Se.push({event:ve,listeners:se}),ve.data=st))}Sg(Se,s)})}function _o(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Gl(i,s){for(var l=s+"Capture",f=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Un(i,l),v!=null&&f.unshift(_o(i,v,g)),v=Un(i,s),v!=null&&f.push(_o(i,v,g))),i=i.return}return f}function Xs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mg(i,s,l,f,g){for(var v=s._reactName,E=[];l!==null&&l!==f;){var U=l,V=U.alternate,se=U.stateNode;if(V!==null&&V===f)break;U.tag===5&&se!==null&&(U=se,g?(V=Un(l,v),V!=null&&E.unshift(_o(l,V,U))):g||(V=Un(l,v),V!=null&&E.push(_o(l,V,U)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function bg(i){return(typeof i=="string"?i:""+i).replace(aw,`
`).replace(ow,"")}function Wl(i,s,l){if(s=bg(s),bg(i)!==s&&l)throw Error(t(425))}function Xl(){}var hd=null,pd=null;function md(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(i){return Eg.resolve(null).then(i).catch(uw)}:gd;function uw(i){setTimeout(function(){throw i})}function xd(i,s){var l=s,f=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){i.removeChild(g),co(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);co(s)}function Pr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Tg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var $s=Math.random().toString(36).slice(2),zi="__reactFiber$"+$s,So="__reactProps$"+$s,nr="__reactContainer$"+$s,yd="__reactEvents$"+$s,dw="__reactListeners$"+$s,fw="__reactHandles$"+$s;function cs(i){var s=i[zi];if(s)return s;for(var l=i.parentNode;l;){if(s=l[nr]||l[zi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Tg(i);i!==null;){if(l=i[zi])return l;i=Tg(i)}return s}i=l,l=i.parentNode}return null}function wo(i){return i=i[zi]||i[nr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ys(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function $l(i){return i[So]||null}var vd=[],qs=-1;function Ir(i){return{current:i}}function Wt(i){0>qs||(i.current=vd[qs],vd[qs]=null,qs--)}function Ht(i,s){qs++,vd[qs]=i.current,i.current=s}var Dr={},An=Ir(Dr),Wn=Ir(!1),us=Dr;function Ks(i,s){var l=i.type.contextTypes;if(!l)return Dr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=s[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=g),g}function Xn(i){return i=i.childContextTypes,i!=null}function Yl(){Wt(Wn),Wt(An)}function Ag(i,s,l){if(An.current!==Dr)throw Error(t(168));Ht(An,s),Ht(Wn,l)}function Cg(i,s,l){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in s))throw Error(t(108,he(i)||"Unknown",g));return ie({},l,f)}function ql(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Dr,us=An.current,Ht(An,i),Ht(Wn,Wn.current),!0}function Ng(i,s,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=Cg(i,s,us),f.__reactInternalMemoizedMergedChildContext=i,Wt(Wn),Wt(An),Ht(An,i)):Wt(Wn),Ht(Wn,l)}var ir=null,Kl=!1,_d=!1;function Rg(i){ir===null?ir=[i]:ir.push(i)}function hw(i){Kl=!0,Rg(i)}function Lr(){if(!_d&&ir!==null){_d=!0;var i=0,s=ut;try{var l=ir;for(ut=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}ir=null,Kl=!1}catch(g){throw ir!==null&&(ir=ir.slice(i+1)),Rl(q,Lr),g}finally{ut=s,_d=!1}}return null}var Zs=[],Js=0,Zl=null,Jl=0,ui=[],di=0,ds=null,rr=1,sr="";function fs(i,s){Zs[Js++]=Jl,Zs[Js++]=Zl,Zl=i,Jl=s}function Pg(i,s,l){ui[di++]=rr,ui[di++]=sr,ui[di++]=ds,ds=i;var f=rr;i=sr;var g=32-je(f)-1;f&=~(1<<g),l+=1;var v=32-je(s)+g;if(30<v){var E=g-g%5;v=(f&(1<<E)-1).toString(32),f>>=E,g-=E,rr=1<<32-je(s)+g|l<<g|f,sr=v+i}else rr=1<<v|l<<g|f,sr=i}function Sd(i){i.return!==null&&(fs(i,1),Pg(i,1,0))}function wd(i){for(;i===Zl;)Zl=Zs[--Js],Zs[Js]=null,Jl=Zs[--Js],Zs[Js]=null;for(;i===ds;)ds=ui[--di],ui[di]=null,sr=ui[--di],ui[di]=null,rr=ui[--di],ui[di]=null}var ti=null,ni=null,Yt=!1,bi=null;function Ig(i,s){var l=mi(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Dg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,ti=i,ni=Pr(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,ti=i,ni=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ds!==null?{id:rr,overflow:sr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=mi(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,ti=i,ni=null,!0):!1;default:return!1}}function Md(i){return(i.mode&1)!==0&&(i.flags&128)===0}function bd(i){if(Yt){var s=ni;if(s){var l=s;if(!Dg(i,s)){if(Md(i))throw Error(t(418));s=Pr(l.nextSibling);var f=ti;s&&Dg(i,s)?Ig(f,l):(i.flags=i.flags&-4097|2,Yt=!1,ti=i)}}else{if(Md(i))throw Error(t(418));i.flags=i.flags&-4097|2,Yt=!1,ti=i}}}function Lg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ti=i}function Ql(i){if(i!==ti)return!1;if(!Yt)return Lg(i),Yt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!md(i.type,i.memoizedProps)),s&&(s=ni)){if(Md(i))throw kg(),Error(t(418));for(;s;)Ig(i,s),s=Pr(s.nextSibling)}if(Lg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){ni=Pr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}ni=null}}else ni=ti?Pr(i.stateNode.nextSibling):null;return!0}function kg(){for(var i=ni;i;)i=Pr(i.nextSibling)}function Qs(){ni=ti=null,Yt=!1}function Ed(i){bi===null?bi=[i]:bi.push(i)}var pw=I.ReactCurrentBatchConfig;function Mo(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var g=f,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(E){var U=g.refs;E===null?delete U[v]:U[v]=E},s._stringRef=v,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function ec(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ug(i){var s=i._init;return s(i._payload)}function Fg(i){function s(Z,W){if(i){var Q=Z.deletions;Q===null?(Z.deletions=[W],Z.flags|=16):Q.push(W)}}function l(Z,W){if(!i)return null;for(;W!==null;)s(Z,W),W=W.sibling;return null}function f(Z,W){for(Z=new Map;W!==null;)W.key!==null?Z.set(W.key,W):Z.set(W.index,W),W=W.sibling;return Z}function g(Z,W){return Z=zr(Z,W),Z.index=0,Z.sibling=null,Z}function v(Z,W,Q){return Z.index=Q,i?(Q=Z.alternate,Q!==null?(Q=Q.index,Q<W?(Z.flags|=2,W):Q):(Z.flags|=2,W)):(Z.flags|=1048576,W)}function E(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,W,Q,Te){return W===null||W.tag!==6?(W=xf(Q,Z.mode,Te),W.return=Z,W):(W=g(W,Q),W.return=Z,W)}function V(Z,W,Q,Te){var Qe=Q.type;return Qe===F?ve(Z,W,Q.props.children,Te,Q.key):W!==null&&(W.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ce&&Ug(Qe)===W.type)?(Te=g(W,Q.props),Te.ref=Mo(Z,W,Q),Te.return=Z,Te):(Te=bc(Q.type,Q.key,Q.props,null,Z.mode,Te),Te.ref=Mo(Z,W,Q),Te.return=Z,Te)}function se(Z,W,Q,Te){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=yf(Q,Z.mode,Te),W.return=Z,W):(W=g(W,Q.children||[]),W.return=Z,W)}function ve(Z,W,Q,Te,Qe){return W===null||W.tag!==7?(W=_s(Q,Z.mode,Te,Qe),W.return=Z,W):(W=g(W,Q),W.return=Z,W)}function Se(Z,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=xf(""+W,Z.mode,Q),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return Q=bc(W.type,W.key,W.props,null,Z.mode,Q),Q.ref=Mo(Z,null,W),Q.return=Z,Q;case k:return W=yf(W,Z.mode,Q),W.return=Z,W;case ce:var Te=W._init;return Se(Z,Te(W._payload),Q)}if(St(W)||fe(W))return W=_s(W,Z.mode,Q,null),W.return=Z,W;ec(Z,W)}return null}function ye(Z,W,Q,Te){var Qe=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Qe!==null?null:U(Z,W,""+Q,Te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===Qe?V(Z,W,Q,Te):null;case k:return Q.key===Qe?se(Z,W,Q,Te):null;case ce:return Qe=Q._init,ye(Z,W,Qe(Q._payload),Te)}if(St(Q)||fe(Q))return Qe!==null?null:ve(Z,W,Q,Te,null);ec(Z,Q)}return null}function Be(Z,W,Q,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Z=Z.get(Q)||null,U(W,Z,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case D:return Z=Z.get(Te.key===null?Q:Te.key)||null,V(W,Z,Te,Qe);case k:return Z=Z.get(Te.key===null?Q:Te.key)||null,se(W,Z,Te,Qe);case ce:var rt=Te._init;return Be(Z,W,Q,rt(Te._payload),Qe)}if(St(Te)||fe(Te))return Z=Z.get(Q)||null,ve(W,Z,Te,Qe,null);ec(W,Te)}return null}function $e(Z,W,Q,Te){for(var Qe=null,rt=null,st=W,ct=W=0,vn=null;st!==null&&ct<Q.length;ct++){st.index>ct?(vn=st,st=null):vn=st.sibling;var It=ye(Z,st,Q[ct],Te);if(It===null){st===null&&(st=vn);break}i&&st&&It.alternate===null&&s(Z,st),W=v(It,W,ct),rt===null?Qe=It:rt.sibling=It,rt=It,st=vn}if(ct===Q.length)return l(Z,st),Yt&&fs(Z,ct),Qe;if(st===null){for(;ct<Q.length;ct++)st=Se(Z,Q[ct],Te),st!==null&&(W=v(st,W,ct),rt===null?Qe=st:rt.sibling=st,rt=st);return Yt&&fs(Z,ct),Qe}for(st=f(Z,st);ct<Q.length;ct++)vn=Be(st,Z,ct,Q[ct],Te),vn!==null&&(i&&vn.alternate!==null&&st.delete(vn.key===null?ct:vn.key),W=v(vn,W,ct),rt===null?Qe=vn:rt.sibling=vn,rt=vn);return i&&st.forEach(function(Hr){return s(Z,Hr)}),Yt&&fs(Z,ct),Qe}function Ke(Z,W,Q,Te){var Qe=fe(Q);if(typeof Qe!="function")throw Error(t(150));if(Q=Qe.call(Q),Q==null)throw Error(t(151));for(var rt=Qe=null,st=W,ct=W=0,vn=null,It=Q.next();st!==null&&!It.done;ct++,It=Q.next()){st.index>ct?(vn=st,st=null):vn=st.sibling;var Hr=ye(Z,st,It.value,Te);if(Hr===null){st===null&&(st=vn);break}i&&st&&Hr.alternate===null&&s(Z,st),W=v(Hr,W,ct),rt===null?Qe=Hr:rt.sibling=Hr,rt=Hr,st=vn}if(It.done)return l(Z,st),Yt&&fs(Z,ct),Qe;if(st===null){for(;!It.done;ct++,It=Q.next())It=Se(Z,It.value,Te),It!==null&&(W=v(It,W,ct),rt===null?Qe=It:rt.sibling=It,rt=It);return Yt&&fs(Z,ct),Qe}for(st=f(Z,st);!It.done;ct++,It=Q.next())It=Be(st,Z,ct,It.value,Te),It!==null&&(i&&It.alternate!==null&&st.delete(It.key===null?ct:It.key),W=v(It,W,ct),rt===null?Qe=It:rt.sibling=It,rt=It);return i&&st.forEach(function($w){return s(Z,$w)}),Yt&&fs(Z,ct),Qe}function sn(Z,W,Q,Te){if(typeof Q=="object"&&Q!==null&&Q.type===F&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:e:{for(var Qe=Q.key,rt=W;rt!==null;){if(rt.key===Qe){if(Qe=Q.type,Qe===F){if(rt.tag===7){l(Z,rt.sibling),W=g(rt,Q.props.children),W.return=Z,Z=W;break e}}else if(rt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ce&&Ug(Qe)===rt.type){l(Z,rt.sibling),W=g(rt,Q.props),W.ref=Mo(Z,rt,Q),W.return=Z,Z=W;break e}l(Z,rt);break}else s(Z,rt);rt=rt.sibling}Q.type===F?(W=_s(Q.props.children,Z.mode,Te,Q.key),W.return=Z,Z=W):(Te=bc(Q.type,Q.key,Q.props,null,Z.mode,Te),Te.ref=Mo(Z,W,Q),Te.return=Z,Z=Te)}return E(Z);case k:e:{for(rt=Q.key;W!==null;){if(W.key===rt)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){l(Z,W.sibling),W=g(W,Q.children||[]),W.return=Z,Z=W;break e}else{l(Z,W);break}else s(Z,W);W=W.sibling}W=yf(Q,Z.mode,Te),W.return=Z,Z=W}return E(Z);case ce:return rt=Q._init,sn(Z,W,rt(Q._payload),Te)}if(St(Q))return $e(Z,W,Q,Te);if(fe(Q))return Ke(Z,W,Q,Te);ec(Z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(l(Z,W.sibling),W=g(W,Q),W.return=Z,Z=W):(l(Z,W),W=xf(Q,Z.mode,Te),W.return=Z,Z=W),E(Z)):l(Z,W)}return sn}var ea=Fg(!0),Og=Fg(!1),tc=Ir(null),nc=null,ta=null,Td=null;function Ad(){Td=ta=nc=null}function Cd(i){var s=tc.current;Wt(tc),i._currentValue=s}function Nd(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function na(i,s){nc=i,Td=ta=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&($n=!0),i.firstContext=null)}function fi(i){var s=i._currentValue;if(Td!==i)if(i={context:i,memoizedValue:s,next:null},ta===null){if(nc===null)throw Error(t(308));ta=i,nc.dependencies={lanes:0,firstContext:i}}else ta=ta.next=i;return s}var hs=null;function Rd(i){hs===null?hs=[i]:hs.push(i)}function Bg(i,s,l,f){var g=s.interleaved;return g===null?(l.next=l,Rd(s)):(l.next=g.next,g.next=l),s.interleaved=l,ar(i,f)}function ar(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var kr=!1;function Pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function or(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ur(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ct&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,ar(i,l)}return g=f.interleaved,g===null?(s.next=s,Rd(f)):(s.next=g.next,g.next=s),f.interleaved=s,ar(i,l)}function ic(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,kt(i,l)}}function Vg(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function rc(i,s,l,f){var g=i.updateQueue;kr=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,U=g.shared.pending;if(U!==null){g.shared.pending=null;var V=U,se=V.next;V.next=null,E===null?v=se:E.next=se,E=V;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,U=ve.lastBaseUpdate,U!==E&&(U===null?ve.firstBaseUpdate=se:U.next=se,ve.lastBaseUpdate=V))}if(v!==null){var Se=g.baseState;E=0,ve=se=V=null,U=v;do{var ye=U.lane,Be=U.eventTime;if((f&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var $e=i,Ke=U;switch(ye=s,Be=l,Ke.tag){case 1:if($e=Ke.payload,typeof $e=="function"){Se=$e.call(Be,Se,ye);break e}Se=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ke.payload,ye=typeof $e=="function"?$e.call(Be,Se,ye):$e,ye==null)break e;Se=ie({},Se,ye);break e;case 2:kr=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,ye=g.effects,ye===null?g.effects=[U]:ye.push(U))}else Be={eventTime:Be,lane:ye,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ve===null?(se=ve=Be,V=Se):ve=ve.next=Be,E|=ye;if(U=U.next,U===null){if(U=g.shared.pending,U===null)break;ye=U,U=ye.next,ye.next=null,g.lastBaseUpdate=ye,g.shared.pending=null}}while(!0);if(ve===null&&(V=Se),g.baseState=V,g.firstBaseUpdate=se,g.lastBaseUpdate=ve,s=g.shared.interleaved,s!==null){g=s;do E|=g.lane,g=g.next;while(g!==s)}else v===null&&(g.shared.lanes=0);gs|=E,i.lanes=E,i.memoizedState=Se}}function zg(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var bo={},Hi=Ir(bo),Eo=Ir(bo),To=Ir(bo);function ps(i){if(i===bo)throw Error(t(174));return i}function Id(i,s){switch(Ht(To,s),Ht(Eo,i),Ht(Hi,bo),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xe(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=xe(s,i)}Wt(Hi),Ht(Hi,s)}function ia(){Wt(Hi),Wt(Eo),Wt(To)}function Hg(i){ps(To.current);var s=ps(Hi.current),l=xe(s,i.type);s!==l&&(Ht(Eo,i),Ht(Hi,l))}function Dd(i){Eo.current===i&&(Wt(Hi),Wt(Eo))}var Kt=Ir(0);function sc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ld=[];function kd(){for(var i=0;i<Ld.length;i++)Ld[i]._workInProgressVersionPrimary=null;Ld.length=0}var ac=I.ReactCurrentDispatcher,Ud=I.ReactCurrentBatchConfig,ms=0,Zt=null,un=null,xn=null,oc=!1,Ao=!1,Co=0,mw=0;function Cn(){throw Error(t(321))}function Fd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Mi(i[l],s[l]))return!1;return!0}function Od(i,s,l,f,g,v){if(ms=v,Zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=i===null||i.memoizedState===null?vw:_w,i=l(f,g),Ao){v=0;do{if(Ao=!1,Co=0,25<=v)throw Error(t(301));v+=1,xn=un=null,s.updateQueue=null,ac.current=Sw,i=l(f,g)}while(Ao)}if(ac.current=uc,s=un!==null&&un.next!==null,ms=0,xn=un=Zt=null,oc=!1,s)throw Error(t(300));return i}function Bd(){var i=Co!==0;return Co=0,i}function Gi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Zt.memoizedState=xn=i:xn=xn.next=i,xn}function hi(){if(un===null){var i=Zt.alternate;i=i!==null?i.memoizedState:null}else i=un.next;var s=xn===null?Zt.memoizedState:xn.next;if(s!==null)xn=s,un=i;else{if(i===null)throw Error(t(310));un=i,i={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},xn===null?Zt.memoizedState=xn=i:xn=xn.next=i}return xn}function No(i,s){return typeof s=="function"?s(i):s}function jd(i){var s=hi(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=un,g=f.baseQueue,v=l.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}f.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,f=f.baseState;var U=E=null,V=null,se=v;do{var ve=se.lane;if((ms&ve)===ve)V!==null&&(V=V.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),f=se.hasEagerState?se.eagerState:i(f,se.action);else{var Se={lane:ve,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};V===null?(U=V=Se,E=f):V=V.next=Se,Zt.lanes|=ve,gs|=ve}se=se.next}while(se!==null&&se!==v);V===null?E=f:V.next=U,Mi(f,s.memoizedState)||($n=!0),s.memoizedState=f,s.baseState=E,s.baseQueue=V,l.lastRenderedState=f}if(i=l.interleaved,i!==null){g=i;do v=g.lane,Zt.lanes|=v,gs|=v,g=g.next;while(g!==i)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Vd(i){var s=hi(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do v=i(v,E.action),E=E.next;while(E!==g);Mi(v,s.memoizedState)||($n=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,f]}function Gg(){}function Wg(i,s){var l=Zt,f=hi(),g=s(),v=!Mi(f.memoizedState,g);if(v&&(f.memoizedState=g,$n=!0),f=f.queue,zd(Yg.bind(null,l,f,i),[i]),f.getSnapshot!==s||v||xn!==null&&xn.memoizedState.tag&1){if(l.flags|=2048,Ro(9,$g.bind(null,l,f,g,s),void 0,null),yn===null)throw Error(t(349));(ms&30)!==0||Xg(l,s,g)}return g}function Xg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Zt.updateQueue,s===null?(s={lastEffect:null,stores:null},Zt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function $g(i,s,l,f){s.value=l,s.getSnapshot=f,qg(s)&&Kg(i)}function Yg(i,s,l){return l(function(){qg(s)&&Kg(i)})}function qg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Mi(i,l)}catch{return!0}}function Kg(i){var s=ar(i,1);s!==null&&Ci(s,i,1,-1)}function Zg(i){var s=Gi();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:i},s.queue=i,i=i.dispatch=yw.bind(null,Zt,i),[s.memoizedState,i]}function Ro(i,s,l,f){return i={tag:i,create:s,destroy:l,deps:f,next:null},s=Zt.updateQueue,s===null?(s={lastEffect:null,stores:null},Zt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i)),i}function Jg(){return hi().memoizedState}function lc(i,s,l,f){var g=Gi();Zt.flags|=i,g.memoizedState=Ro(1|s,l,void 0,f===void 0?null:f)}function cc(i,s,l,f){var g=hi();f=f===void 0?null:f;var v=void 0;if(un!==null){var E=un.memoizedState;if(v=E.destroy,f!==null&&Fd(f,E.deps)){g.memoizedState=Ro(s,l,v,f);return}}Zt.flags|=i,g.memoizedState=Ro(1|s,l,v,f)}function Qg(i,s){return lc(8390656,8,i,s)}function zd(i,s){return cc(2048,8,i,s)}function e0(i,s){return cc(4,2,i,s)}function t0(i,s){return cc(4,4,i,s)}function n0(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function i0(i,s,l){return l=l!=null?l.concat([i]):null,cc(4,4,n0.bind(null,s,i),l)}function Hd(){}function r0(i,s){var l=hi();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Fd(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function s0(i,s){var l=hi();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Fd(s,f[1])?f[0]:(i=i(),l.memoizedState=[i,s],i)}function a0(i,s,l){return(ms&21)===0?(i.baseState&&(i.baseState=!1,$n=!0),i.memoizedState=l):(Mi(l,s)||(l=Tn(),Zt.lanes|=l,gs|=l,i.baseState=!0),s)}function gw(i,s){var l=ut;ut=l!==0&&4>l?l:4,i(!0);var f=Ud.transition;Ud.transition={};try{i(!1),s()}finally{ut=l,Ud.transition=f}}function o0(){return hi().memoizedState}function xw(i,s,l){var f=jr(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},l0(i))c0(s,l);else if(l=Bg(i,s,l,f),l!==null){var g=Bn();Ci(l,i,f,g),u0(l,s,f)}}function yw(i,s,l){var f=jr(i),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(l0(i))c0(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,U=v(E,l);if(g.hasEagerState=!0,g.eagerState=U,Mi(U,E)){var V=s.interleaved;V===null?(g.next=g,Rd(s)):(g.next=V.next,V.next=g),s.interleaved=g;return}}catch{}finally{}l=Bg(i,s,g,f),l!==null&&(g=Bn(),Ci(l,i,f,g),u0(l,s,f))}}function l0(i){var s=i.alternate;return i===Zt||s!==null&&s===Zt}function c0(i,s){Ao=oc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function u0(i,s,l){if((l&4194240)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,kt(i,l)}}var uc={readContext:fi,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},vw={readContext:fi,useCallback:function(i,s){return Gi().memoizedState=[i,s===void 0?null:s],i},useContext:fi,useEffect:Qg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,lc(4194308,4,n0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return lc(4194308,4,i,s)},useInsertionEffect:function(i,s){return lc(4,2,i,s)},useMemo:function(i,s){var l=Gi();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var f=Gi();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=xw.bind(null,Zt,i),[f.memoizedState,i]},useRef:function(i){var s=Gi();return i={current:i},s.memoizedState=i},useState:Zg,useDebugValue:Hd,useDeferredValue:function(i){return Gi().memoizedState=i},useTransition:function(){var i=Zg(!1),s=i[0];return i=gw.bind(null,i[1]),Gi().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var f=Zt,g=Gi();if(Yt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),yn===null)throw Error(t(349));(ms&30)!==0||Xg(f,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Qg(Yg.bind(null,f,v,i),[i]),f.flags|=2048,Ro(9,$g.bind(null,f,v,l,s),void 0,null),l},useId:function(){var i=Gi(),s=yn.identifierPrefix;if(Yt){var l=sr,f=rr;l=(f&~(1<<32-je(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Co++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=mw++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},_w={readContext:fi,useCallback:r0,useContext:fi,useEffect:zd,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:jd,useRef:Jg,useState:function(){return jd(No)},useDebugValue:Hd,useDeferredValue:function(i){var s=hi();return a0(s,un.memoizedState,i)},useTransition:function(){var i=jd(No)[0],s=hi().memoizedState;return[i,s]},useMutableSource:Gg,useSyncExternalStore:Wg,useId:o0,unstable_isNewReconciler:!1},Sw={readContext:fi,useCallback:r0,useContext:fi,useEffect:zd,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:Vd,useRef:Jg,useState:function(){return Vd(No)},useDebugValue:Hd,useDeferredValue:function(i){var s=hi();return un===null?s.memoizedState=i:a0(s,un.memoizedState,i)},useTransition:function(){var i=Vd(No)[0],s=hi().memoizedState;return[i,s]},useMutableSource:Gg,useSyncExternalStore:Wg,useId:o0,unstable_isNewReconciler:!1};function Ei(i,s){if(i&&i.defaultProps){s=ie({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Gd(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:ie({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var dc={isMounted:function(i){return(i=i._reactInternals)?ci(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var f=Bn(),g=jr(i),v=or(f,g);v.payload=s,l!=null&&(v.callback=l),s=Ur(i,v,g),s!==null&&(Ci(s,i,g,f),ic(s,i,g))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=Bn(),g=jr(i),v=or(f,g);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ur(i,v,g),s!==null&&(Ci(s,i,g,f),ic(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Bn(),f=jr(i),g=or(l,f);g.tag=2,s!=null&&(g.callback=s),s=Ur(i,g,f),s!==null&&(Ci(s,i,f,l),ic(s,i,f))}};function d0(i,s,l,f,g,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,E):s.prototype&&s.prototype.isPureReactComponent?!go(l,f)||!go(g,v):!0}function f0(i,s,l){var f=!1,g=Dr,v=s.contextType;return typeof v=="object"&&v!==null?v=fi(v):(g=Xn(s)?us:An.current,f=s.contextTypes,v=(f=f!=null)?Ks(i,g):Dr),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=dc,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),s}function h0(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&dc.enqueueReplaceState(s,s.state,null)}function Wd(i,s,l,f){var g=i.stateNode;g.props=l,g.state=i.memoizedState,g.refs={},Pd(i);var v=s.contextType;typeof v=="object"&&v!==null?g.context=fi(v):(v=Xn(s)?us:An.current,g.context=Ks(i,v)),g.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Gd(i,s,v,l),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&dc.enqueueReplaceState(g,g.state,null),rc(i,l,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ra(i,s){try{var l="",f=s;do l+=et(f),f=f.return;while(f);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:g,digest:null}}function Xd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function $d(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function p0(i,s,l){l=or(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){yc||(yc=!0,cf=f),$d(i,s)},l}function m0(i,s,l){l=or(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=s.value;l.payload=function(){return f(g)},l.callback=function(){$d(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){$d(i,s),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function g0(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new ww;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(g.add(l),i=Uw.bind(null,i,s,l),s.then(i,i))}function x0(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function y0(i,s,l,f,g){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=or(-1,1),s.tag=2,Ur(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Mw=I.ReactCurrentOwner,$n=!1;function On(i,s,l,f){s.child=i===null?Og(s,null,l,f):ea(s,i.child,l,f)}function v0(i,s,l,f,g){l=l.render;var v=s.ref;return na(s,g),f=Od(i,s,l,f,v,g),l=Bd(),i!==null&&!$n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,lr(i,s,g)):(Yt&&l&&Sd(s),s.flags|=1,On(i,s,f,g),s.child)}function _0(i,s,l,f,g){if(i===null){var v=l.type;return typeof v=="function"&&!gf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,S0(i,s,v,f,g)):(i=bc(l.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,(i.lanes&g)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:go,l(E,f)&&i.ref===s.ref)return lr(i,s,g)}return s.flags|=1,i=zr(v,f),i.ref=s.ref,i.return=s,s.child=i}function S0(i,s,l,f,g){if(i!==null){var v=i.memoizedProps;if(go(v,f)&&i.ref===s.ref)if($n=!1,s.pendingProps=f=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&($n=!0);else return s.lanes=i.lanes,lr(i,s,g)}return Yd(i,s,l,f,g)}function w0(i,s,l){var f=s.pendingProps,g=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(aa,ii),ii|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ht(aa,ii),ii|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,Ht(aa,ii),ii|=f}else v!==null?(f=v.baseLanes|l,s.memoizedState=null):f=l,Ht(aa,ii),ii|=f;return On(i,s,g,l),s.child}function M0(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Yd(i,s,l,f,g){var v=Xn(l)?us:An.current;return v=Ks(s,v),na(s,g),l=Od(i,s,l,f,v,g),f=Bd(),i!==null&&!$n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,lr(i,s,g)):(Yt&&f&&Sd(s),s.flags|=1,On(i,s,l,g),s.child)}function b0(i,s,l,f,g){if(Xn(l)){var v=!0;ql(s)}else v=!1;if(na(s,g),s.stateNode===null)hc(i,s),f0(s,l,f),Wd(s,l,f,g),f=!0;else if(i===null){var E=s.stateNode,U=s.memoizedProps;E.props=U;var V=E.context,se=l.contextType;typeof se=="object"&&se!==null?se=fi(se):(se=Xn(l)?us:An.current,se=Ks(s,se));var ve=l.getDerivedStateFromProps,Se=typeof ve=="function"||typeof E.getSnapshotBeforeUpdate=="function";Se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==f||V!==se)&&h0(s,E,f,se),kr=!1;var ye=s.memoizedState;E.state=ye,rc(s,f,E,g),V=s.memoizedState,U!==f||ye!==V||Wn.current||kr?(typeof ve=="function"&&(Gd(s,l,ve,f),V=s.memoizedState),(U=kr||d0(s,l,U,f,ye,V,se))?(Se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=V),E.props=f,E.state=V,E.context=se,f=U):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,jg(i,s),U=s.memoizedProps,se=s.type===s.elementType?U:Ei(s.type,U),E.props=se,Se=s.pendingProps,ye=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=fi(V):(V=Xn(l)?us:An.current,V=Ks(s,V));var Be=l.getDerivedStateFromProps;(ve=typeof Be=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==Se||ye!==V)&&h0(s,E,f,V),kr=!1,ye=s.memoizedState,E.state=ye,rc(s,f,E,g);var $e=s.memoizedState;U!==Se||ye!==$e||Wn.current||kr?(typeof Be=="function"&&(Gd(s,l,Be,f),$e=s.memoizedState),(se=kr||d0(s,l,se,f,ye,$e,V)||!1)?(ve||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,$e,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,$e,V)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||U===i.memoizedProps&&ye===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ye===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=$e),E.props=f,E.state=$e,E.context=V,f=se):(typeof E.componentDidUpdate!="function"||U===i.memoizedProps&&ye===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ye===i.memoizedState||(s.flags|=1024),f=!1)}return qd(i,s,l,f,v,g)}function qd(i,s,l,f,g,v){M0(i,s);var E=(s.flags&128)!==0;if(!f&&!E)return g&&Ng(s,l,!1),lr(i,s,v);f=s.stateNode,Mw.current=s;var U=E&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&E?(s.child=ea(s,i.child,null,v),s.child=ea(s,null,U,v)):On(i,s,U,v),s.memoizedState=f.state,g&&Ng(s,l,!0),s.child}function E0(i){var s=i.stateNode;s.pendingContext?Ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Ag(i,s.context,!1),Id(i,s.containerInfo)}function T0(i,s,l,f,g){return Qs(),Ed(g),s.flags|=256,On(i,s,l,f),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Zd(i){return{baseLanes:i,cachePool:null,transitions:null}}function A0(i,s,l){var f=s.pendingProps,g=Kt.current,v=!1,E=(s.flags&128)!==0,U;if((U=E)||(U=i!==null&&i.memoizedState===null?!1:(g&2)!==0),U?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ht(Kt,g&1),i===null)return bd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=f.children,i=f.fallback,v?(f=s.mode,v=s.child,E={mode:"hidden",children:E},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Ec(E,f,0,null),i=_s(i,f,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=Zd(l),s.memoizedState=Kd,i):Jd(s,E));if(g=i.memoizedState,g!==null&&(U=g.dehydrated,U!==null))return bw(i,s,E,f,U,g,l);if(v){v=f.fallback,E=s.mode,g=i.child,U=g.sibling;var V={mode:"hidden",children:f.children};return(E&1)===0&&s.child!==g?(f=s.child,f.childLanes=0,f.pendingProps=V,s.deletions=null):(f=zr(g,V),f.subtreeFlags=g.subtreeFlags&14680064),U!==null?v=zr(U,v):(v=_s(v,E,l,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,E=i.child.memoizedState,E=E===null?Zd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~l,s.memoizedState=Kd,f}return v=i.child,i=v.sibling,f=zr(v,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=f,s.memoizedState=null,f}function Jd(i,s){return s=Ec({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function fc(i,s,l,f){return f!==null&&Ed(f),ea(s,i.child,null,l),i=Jd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bw(i,s,l,f,g,v,E){if(l)return s.flags&256?(s.flags&=-257,f=Xd(Error(t(422))),fc(i,s,E,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=f.fallback,g=s.mode,f=Ec({mode:"visible",children:f.children},g,0,null),v=_s(v,g,E,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,(s.mode&1)!==0&&ea(s,i.child,null,E),s.child.memoizedState=Zd(E),s.memoizedState=Kd,v);if((s.mode&1)===0)return fc(i,s,E,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var U=f.dgst;return f=U,v=Error(t(419)),f=Xd(v,f,void 0),fc(i,s,E,f)}if(U=(E&i.childLanes)!==0,$n||U){if(f=yn,f!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|E))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,ar(i,g),Ci(f,i,g,-1))}return mf(),f=Xd(Error(t(421))),fc(i,s,E,f)}return g.data==="$?"?(s.flags|=128,s.child=i.child,s=Fw.bind(null,i),g._reactRetry=s,null):(i=v.treeContext,ni=Pr(g.nextSibling),ti=s,Yt=!0,bi=null,i!==null&&(ui[di++]=rr,ui[di++]=sr,ui[di++]=ds,rr=i.id,sr=i.overflow,ds=s),s=Jd(s,f.children),s.flags|=4096,s)}function C0(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Nd(i.return,s,l)}function Qd(i,s,l,f,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function N0(i,s,l){var f=s.pendingProps,g=f.revealOrder,v=f.tail;if(On(i,s,f.children,l),f=Kt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C0(i,l,s);else if(i.tag===19)C0(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ht(Kt,f),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&sc(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Qd(s,!1,g,l,v);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&sc(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Qd(s,!0,l,null,v);break;case"together":Qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function lr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),gs|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=zr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=zr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Ew(i,s,l){switch(s.tag){case 3:E0(s),Qs();break;case 5:Hg(s);break;case 1:Xn(s.type)&&ql(s);break;case 4:Id(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,g=s.memoizedProps.value;Ht(tc,f._currentValue),f._currentValue=g;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ht(Kt,Kt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?A0(i,s,l):(Ht(Kt,Kt.current&1),i=lr(i,s,l),i!==null?i.sibling:null);Ht(Kt,Kt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(i.flags&128)!==0){if(f)return N0(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ht(Kt,Kt.current),f)break;return null;case 22:case 23:return s.lanes=0,w0(i,s,l)}return lr(i,s,l)}var R0,ef,P0,I0;R0=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ef=function(){},P0=function(i,s,l,f){var g=i.memoizedProps;if(g!==f){i=s.stateNode,ps(Hi.current);var v=null;switch(l){case"input":g=bt(i,g),f=bt(i,f),v=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),v=[];break;case"textarea":g=Ye(i,g),f=Ye(i,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Xl)}qe(l,f);var E;l=null;for(se in g)if(!f.hasOwnProperty(se)&&g.hasOwnProperty(se)&&g[se]!=null)if(se==="style"){var U=g[se];for(E in U)U.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?v||(v=[]):(v=v||[]).push(se,null));for(se in f){var V=f[se];if(U=g?.[se],f.hasOwnProperty(se)&&V!==U&&(V!=null||U!=null))if(se==="style")if(U){for(E in U)!U.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&U[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(v||(v=[]),v.push(se,l)),l=V;else se==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,U=U?U.__html:void 0,V!=null&&U!==V&&(v=v||[]).push(se,V)):se==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(se,""+V):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(a.hasOwnProperty(se)?(V!=null&&se==="onScroll"&&Gt("scroll",i),v||U===V||(v=[])):(v=v||[]).push(se,V))}l&&(v=v||[]).push("style",l);var se=v;(s.updateQueue=se)&&(s.flags|=4)}},I0=function(i,s,l,f){l!==f&&(s.flags|=4)};function Po(i,s){if(!Yt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Nn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function Tw(i,s,l){var f=s.pendingProps;switch(wd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(s),null;case 1:return Xn(s.type)&&Yl(),Nn(s),null;case 3:return f=s.stateNode,ia(),Wt(Wn),Wt(An),kd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Ql(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bi!==null&&(ff(bi),bi=null))),ef(i,s),Nn(s),null;case 5:Dd(s);var g=ps(To.current);if(l=s.type,i!==null&&s.stateNode!=null)P0(i,s,l,f,g),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Nn(s),null}if(i=ps(Hi.current),Ql(s)){f=s.stateNode,l=s.type;var v=s.memoizedProps;switch(f[zi]=s,f[So]=v,i=(s.mode&1)!==0,l){case"dialog":Gt("cancel",f),Gt("close",f);break;case"iframe":case"object":case"embed":Gt("load",f);break;case"video":case"audio":for(g=0;g<yo.length;g++)Gt(yo[g],f);break;case"source":Gt("error",f);break;case"img":case"image":case"link":Gt("error",f),Gt("load",f);break;case"details":Gt("toggle",f);break;case"input":Lt(f,v),Gt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Gt("invalid",f);break;case"textarea":L(f,v),Gt("invalid",f)}qe(l,v),g=null;for(var E in v)if(v.hasOwnProperty(E)){var U=v[E];E==="children"?typeof U=="string"?f.textContent!==U&&(v.suppressHydrationWarning!==!0&&Wl(f.textContent,U,i),g=["children",U]):typeof U=="number"&&f.textContent!==""+U&&(v.suppressHydrationWarning!==!0&&Wl(f.textContent,U,i),g=["children",""+U]):a.hasOwnProperty(E)&&U!=null&&E==="onScroll"&&Gt("scroll",f)}switch(l){case"input":vt(f),z(f,v,!0);break;case"textarea":vt(f),Y(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Xl)}f=g,s.updateQueue=f,f!==null&&(s.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=me(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(l,{is:f.is}):(i=E.createElement(l),l==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,l),i[zi]=s,i[So]=f,R0(i,s,!1,!1),s.stateNode=i;e:{switch(E=Ne(l,f),l){case"dialog":Gt("cancel",i),Gt("close",i),g=f;break;case"iframe":case"object":case"embed":Gt("load",i),g=f;break;case"video":case"audio":for(g=0;g<yo.length;g++)Gt(yo[g],i);g=f;break;case"source":Gt("error",i),g=f;break;case"img":case"image":case"link":Gt("error",i),Gt("load",i),g=f;break;case"details":Gt("toggle",i),g=f;break;case"input":Lt(i,f),g=bt(i,f),Gt("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),Gt("invalid",i);break;case"textarea":L(i,f),g=Ye(i,f),Gt("invalid",i);break;default:g=f}qe(l,g),U=g;for(v in U)if(U.hasOwnProperty(v)){var V=U[v];v==="style"?Pe(i,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Je(i,V)):v==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&Ae(i,V):typeof V=="number"&&Ae(i,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?V!=null&&v==="onScroll"&&Gt("scroll",i):V!=null&&N(i,v,V,E))}switch(l){case"input":vt(i),z(i,f,!1);break;case"textarea":vt(i),Y(i);break;case"option":f.value!=null&&i.setAttribute("value",""+be(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Et(i,!!f.multiple,v,!1):f.defaultValue!=null&&Et(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Xl)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nn(s),null;case 6:if(i&&s.stateNode!=null)I0(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(l=ps(To.current),ps(Hi.current),Ql(s)){if(f=s.stateNode,l=s.memoizedProps,f[zi]=s,(v=f.nodeValue!==l)&&(i=ti,i!==null))switch(i.tag){case 3:Wl(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wl(f.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[zi]=s,s.stateNode=f}return Nn(s),null;case 13:if(Wt(Kt),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Yt&&ni!==null&&(s.mode&1)!==0&&(s.flags&128)===0)kg(),Qs(),s.flags|=98560,v=!1;else if(v=Ql(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[zi]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nn(s),v=!1}else bi!==null&&(ff(bi),bi=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Kt.current&1)!==0?dn===0&&(dn=3):mf())),s.updateQueue!==null&&(s.flags|=4),Nn(s),null);case 4:return ia(),ef(i,s),i===null&&vo(s.stateNode.containerInfo),Nn(s),null;case 10:return Cd(s.type._context),Nn(s),null;case 17:return Xn(s.type)&&Yl(),Nn(s),null;case 19:if(Wt(Kt),v=s.memoizedState,v===null)return Nn(s),null;if(f=(s.flags&128)!==0,E=v.rendering,E===null)if(f)Po(v,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(E=sc(i),E!==null){for(s.flags|=128,Po(v,!1),f=E.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)v=l,i=f,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ht(Kt,Kt.current&1|2),s.child}i=i.sibling}v.tail!==null&&qt()>oa&&(s.flags|=128,f=!0,Po(v,!1),s.lanes=4194304)}else{if(!f)if(i=sc(E),i!==null){if(s.flags|=128,f=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Po(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!Yt)return Nn(s),null}else 2*qt()-v.renderingStartTime>oa&&l!==1073741824&&(s.flags|=128,f=!0,Po(v,!1),s.lanes=4194304);v.isBackwards?(E.sibling=s.child,s.child=E):(l=v.last,l!==null?l.sibling=E:s.child=E,v.last=E)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=qt(),s.sibling=null,l=Kt.current,Ht(Kt,f?l&1|2:l&1),s):(Nn(s),null);case 22:case 23:return pf(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(ii&1073741824)!==0&&(Nn(s),s.subtreeFlags&6&&(s.flags|=8192)):Nn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Aw(i,s){switch(wd(s),s.tag){case 1:return Xn(s.type)&&Yl(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ia(),Wt(Wn),Wt(An),kd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Dd(s),null;case 13:if(Wt(Kt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Qs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Wt(Kt),null;case 4:return ia(),null;case 10:return Cd(s.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var pc=!1,Rn=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function sa(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){en(i,s,f)}else l.current=null}function tf(i,s,l){try{l()}catch(f){en(i,s,f)}}var D0=!1;function Nw(i,s){if(hd=Ll,i=dg(),sd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,U=-1,V=-1,se=0,ve=0,Se=i,ye=null;t:for(;;){for(var Be;Se!==l||g!==0&&Se.nodeType!==3||(U=E+g),Se!==v||f!==0&&Se.nodeType!==3||(V=E+f),Se.nodeType===3&&(E+=Se.nodeValue.length),(Be=Se.firstChild)!==null;)ye=Se,Se=Be;for(;;){if(Se===i)break t;if(ye===l&&++se===g&&(U=E),ye===v&&++ve===f&&(V=E),(Be=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=Be}l=U===-1||V===-1?null:{start:U,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(pd={focusedElem:i,selectionRange:l},Ll=!1,Ge=s;Ge!==null;)if(s=Ge,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ge=i;else for(;Ge!==null;){s=Ge;try{var $e=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Ke=$e.memoizedProps,sn=$e.memoizedState,Z=s.stateNode,W=Z.getSnapshotBeforeUpdate(s.elementType===s.type?Ke:Ei(s.type,Ke),sn);Z.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){en(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ge=i;break}Ge=s.return}return $e=D0,D0=!1,$e}function Io(i,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&tf(s,l,v)}g=g.next}while(g!==f)}}function mc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function nf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function L0(i){var s=i.alternate;s!==null&&(i.alternate=null,L0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[zi],delete s[So],delete s[yd],delete s[dw],delete s[fw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function k0(i){return i.tag===5||i.tag===3||i.tag===4}function U0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||k0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xl));else if(f!==4&&(i=i.child,i!==null))for(rf(i,s,l),i=i.sibling;i!==null;)rf(i,s,l),i=i.sibling}function sf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(sf(i,s,l),i=i.sibling;i!==null;)sf(i,s,l),i=i.sibling}var wn=null,Ti=!1;function Fr(i,s,l){for(l=l.child;l!==null;)F0(i,s,l),l=l.sibling}function F0(i,s,l){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Oe,l)}catch{}switch(l.tag){case 5:Rn||sa(l,s);case 6:var f=wn,g=Ti;wn=null,Fr(i,s,l),wn=f,Ti=g,wn!==null&&(Ti?(i=wn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):wn.removeChild(l.stateNode));break;case 18:wn!==null&&(Ti?(i=wn,l=l.stateNode,i.nodeType===8?xd(i.parentNode,l):i.nodeType===1&&xd(i,l),co(i)):xd(wn,l.stateNode));break;case 4:f=wn,g=Ti,wn=l.stateNode.containerInfo,Ti=!0,Fr(i,s,l),wn=f,Ti=g;break;case 0:case 11:case 14:case 15:if(!Rn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&tf(l,s,E),g=g.next}while(g!==f)}Fr(i,s,l);break;case 1:if(!Rn&&(sa(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(U){en(l,s,U)}Fr(i,s,l);break;case 21:Fr(i,s,l);break;case 22:l.mode&1?(Rn=(f=Rn)||l.memoizedState!==null,Fr(i,s,l),Rn=f):Fr(i,s,l);break;default:Fr(i,s,l)}}function O0(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new Cw),s.forEach(function(f){var g=Ow.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}}function Ai(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var v=i,E=s,U=E;e:for(;U!==null;){switch(U.tag){case 5:wn=U.stateNode,Ti=!1;break e;case 3:wn=U.stateNode.containerInfo,Ti=!0;break e;case 4:wn=U.stateNode.containerInfo,Ti=!0;break e}U=U.return}if(wn===null)throw Error(t(160));F0(v,E,g),wn=null,Ti=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(se){en(g,s,se)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)B0(s,i),s=s.sibling}function B0(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ai(s,i),Wi(i),f&4){try{Io(3,i,i.return),mc(3,i)}catch(Ke){en(i,i.return,Ke)}try{Io(5,i,i.return)}catch(Ke){en(i,i.return,Ke)}}break;case 1:Ai(s,i),Wi(i),f&512&&l!==null&&sa(l,l.return);break;case 5:if(Ai(s,i),Wi(i),f&512&&l!==null&&sa(l,l.return),i.flags&32){var g=i.stateNode;try{Ae(g,"")}catch(Ke){en(i,i.return,Ke)}}if(f&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,E=l!==null?l.memoizedProps:v,U=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{U==="input"&&v.type==="radio"&&v.name!=null&&ht(g,v),Ne(U,E);var se=Ne(U,v);for(E=0;E<V.length;E+=2){var ve=V[E],Se=V[E+1];ve==="style"?Pe(g,Se):ve==="dangerouslySetInnerHTML"?Je(g,Se):ve==="children"?Ae(g,Se):N(g,ve,Se,se)}switch(U){case"input":Xt(g,v);break;case"textarea":b(g,v);break;case"select":var ye=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Be=v.value;Be!=null?Et(g,!!v.multiple,Be,!1):ye!==!!v.multiple&&(v.defaultValue!=null?Et(g,!!v.multiple,v.defaultValue,!0):Et(g,!!v.multiple,v.multiple?[]:"",!1))}g[So]=v}catch(Ke){en(i,i.return,Ke)}}break;case 6:if(Ai(s,i),Wi(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(Ke){en(i,i.return,Ke)}}break;case 3:if(Ai(s,i),Wi(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{co(s.containerInfo)}catch(Ke){en(i,i.return,Ke)}break;case 4:Ai(s,i),Wi(i);break;case 13:Ai(s,i),Wi(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(lf=qt())),f&4&&O0(i);break;case 22:if(ve=l!==null&&l.memoizedState!==null,i.mode&1?(Rn=(se=Rn)||ve,Ai(s,i),Rn=se):Ai(s,i),Wi(i),f&8192){if(se=i.memoizedState!==null,(i.stateNode.isHidden=se)&&!ve&&(i.mode&1)!==0)for(Ge=i,ve=i.child;ve!==null;){for(Se=Ge=ve;Ge!==null;){switch(ye=Ge,Be=ye.child,ye.tag){case 0:case 11:case 14:case 15:Io(4,ye,ye.return);break;case 1:sa(ye,ye.return);var $e=ye.stateNode;if(typeof $e.componentWillUnmount=="function"){f=ye,l=ye.return;try{s=f,$e.props=s.memoizedProps,$e.state=s.memoizedState,$e.componentWillUnmount()}catch(Ke){en(f,l,Ke)}}break;case 5:sa(ye,ye.return);break;case 22:if(ye.memoizedState!==null){z0(Se);continue}}Be!==null?(Be.return=ye,Ge=Be):z0(Se)}ve=ve.sibling}e:for(ve=null,Se=i;;){if(Se.tag===5){if(ve===null){ve=Se;try{g=Se.stateNode,se?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(U=Se.stateNode,V=Se.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,U.style.display=we("display",E))}catch(Ke){en(i,i.return,Ke)}}}else if(Se.tag===6){if(ve===null)try{Se.stateNode.nodeValue=se?"":Se.memoizedProps}catch(Ke){en(i,i.return,Ke)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===i)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===i)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===i)break e;ve===Se&&(ve=null),Se=Se.return}ve===Se&&(ve=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Ai(s,i),Wi(i),f&4&&O0(i);break;case 21:break;default:Ai(s,i),Wi(i)}}function Wi(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(k0(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Ae(g,""),f.flags&=-33);var v=U0(i);sf(i,v,g);break;case 3:case 4:var E=f.stateNode.containerInfo,U=U0(i);rf(i,U,E);break;default:throw Error(t(161))}}catch(V){en(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Rw(i,s,l){Ge=i,j0(i)}function j0(i,s,l){for(var f=(i.mode&1)!==0;Ge!==null;){var g=Ge,v=g.child;if(g.tag===22&&f){var E=g.memoizedState!==null||pc;if(!E){var U=g.alternate,V=U!==null&&U.memoizedState!==null||Rn;U=pc;var se=Rn;if(pc=E,(Rn=V)&&!se)for(Ge=g;Ge!==null;)E=Ge,V=E.child,E.tag===22&&E.memoizedState!==null?H0(g):V!==null?(V.return=E,Ge=V):H0(g);for(;v!==null;)Ge=v,j0(v),v=v.sibling;Ge=g,pc=U,Rn=se}V0(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Ge=v):V0(i)}}function V0(i){for(;Ge!==null;){var s=Ge;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Rn||mc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Rn)if(l===null)f.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:Ei(s.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&zg(s,v,f);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}zg(s,E,l)}break;case 5:var U=s.stateNode;if(l===null&&s.flags&4){l=U;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var se=s.alternate;if(se!==null){var ve=se.memoizedState;if(ve!==null){var Se=ve.dehydrated;Se!==null&&co(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Rn||s.flags&512&&nf(s)}catch(ye){en(s,s.return,ye)}}if(s===i){Ge=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ge=l;break}Ge=s.return}}function z0(i){for(;Ge!==null;){var s=Ge;if(s===i){Ge=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ge=l;break}Ge=s.return}}function H0(i){for(;Ge!==null;){var s=Ge;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{mc(4,s)}catch(V){en(s,l,V)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var g=s.return;try{f.componentDidMount()}catch(V){en(s,g,V)}}var v=s.return;try{nf(s)}catch(V){en(s,v,V)}break;case 5:var E=s.return;try{nf(s)}catch(V){en(s,E,V)}}}catch(V){en(s,s.return,V)}if(s===i){Ge=null;break}var U=s.sibling;if(U!==null){U.return=s.return,Ge=U;break}Ge=s.return}}var Pw=Math.ceil,gc=I.ReactCurrentDispatcher,af=I.ReactCurrentOwner,pi=I.ReactCurrentBatchConfig,Ct=0,yn=null,an=null,Mn=0,ii=0,aa=Ir(0),dn=0,Do=null,gs=0,xc=0,of=0,Lo=null,Yn=null,lf=0,oa=1/0,cr=null,yc=!1,cf=null,Or=null,vc=!1,Br=null,_c=0,ko=0,uf=null,Sc=-1,wc=0;function Bn(){return(Ct&6)!==0?qt():Sc!==-1?Sc:Sc=qt()}function jr(i){return(i.mode&1)===0?1:(Ct&2)!==0&&Mn!==0?Mn&-Mn:pw.transition!==null?(wc===0&&(wc=Tn()),wc):(i=ut,i!==0||(i=window.event,i=i===void 0?16:Wm(i.type)),i)}function Ci(i,s,l,f){if(50<ko)throw ko=0,uf=null,Error(t(185));cn(i,l,f),((Ct&2)===0||i!==yn)&&(i===yn&&((Ct&2)===0&&(xc|=l),dn===4&&Vr(i,Mn)),qn(i,f),l===1&&Ct===0&&(s.mode&1)===0&&(oa=qt()+500,Kl&&Lr()))}function qn(i,s){var l=i.callbackNode;Dt(i,s);var f=Pt(i,i===yn?Mn:0);if(f===0)l!==null&&Pl(l),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(l!=null&&Pl(l),s===1)i.tag===0?hw(W0.bind(null,i)):Rg(W0.bind(null,i)),cw(function(){(Ct&6)===0&&Lr()}),l=null;else{switch(Fn(f)){case 1:l=q;break;case 4:l=oe;break;case 16:l=ne;break;case 536870912:l=De;break;default:l=ne}l=Q0(l,G0.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function G0(i,s){if(Sc=-1,wc=0,(Ct&6)!==0)throw Error(t(327));var l=i.callbackNode;if(la()&&i.callbackNode!==l)return null;var f=Pt(i,i===yn?Mn:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||s)s=Mc(i,f);else{s=f;var g=Ct;Ct|=2;var v=$0();(yn!==i||Mn!==s)&&(cr=null,oa=qt()+500,ys(i,s));do try{Lw();break}catch(U){X0(i,U)}while(!0);Ad(),gc.current=v,Ct=g,an!==null?s=0:(yn=null,Mn=0,s=dn)}if(s!==0){if(s===2&&(g=wt(i),g!==0&&(f=g,s=df(i,g))),s===1)throw l=Do,ys(i,0),Vr(i,f),qn(i,qt()),l;if(s===6)Vr(i,f);else{if(g=i.current.alternate,(f&30)===0&&!Iw(g)&&(s=Mc(i,f),s===2&&(v=wt(i),v!==0&&(f=v,s=df(i,v))),s===1))throw l=Do,ys(i,0),Vr(i,f),qn(i,qt()),l;switch(i.finishedWork=g,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:vs(i,Yn,cr);break;case 3:if(Vr(i,f),(f&130023424)===f&&(s=lf+500-qt(),10<s)){if(Pt(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){Bn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=gd(vs.bind(null,i,Yn,cr),s);break}vs(i,Yn,cr);break;case 4:if(Vr(i,f),(f&4194240)===f)break;for(s=i.eventTimes,g=-1;0<f;){var E=31-je(f);v=1<<E,E=s[E],E>g&&(g=E),f&=~v}if(f=g,f=qt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Pw(f/1960))-f,10<f){i.timeoutHandle=gd(vs.bind(null,i,Yn,cr),f);break}vs(i,Yn,cr);break;case 5:vs(i,Yn,cr);break;default:throw Error(t(329))}}}return qn(i,qt()),i.callbackNode===l?G0.bind(null,i):null}function df(i,s){var l=Lo;return i.current.memoizedState.isDehydrated&&(ys(i,s).flags|=256),i=Mc(i,s),i!==2&&(s=Yn,Yn=l,s!==null&&ff(s)),i}function ff(i){Yn===null?Yn=i:Yn.push.apply(Yn,i)}function Iw(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!Mi(v(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vr(i,s){for(s&=~of,s&=~xc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-je(s),f=1<<l;i[l]=-1,s&=~f}}function W0(i){if((Ct&6)!==0)throw Error(t(327));la();var s=Pt(i,0);if((s&1)===0)return qn(i,qt()),null;var l=Mc(i,s);if(i.tag!==0&&l===2){var f=wt(i);f!==0&&(s=f,l=df(i,f))}if(l===1)throw l=Do,ys(i,0),Vr(i,s),qn(i,qt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,vs(i,Yn,cr),qn(i,qt()),null}function hf(i,s){var l=Ct;Ct|=1;try{return i(s)}finally{Ct=l,Ct===0&&(oa=qt()+500,Kl&&Lr())}}function xs(i){Br!==null&&Br.tag===0&&(Ct&6)===0&&la();var s=Ct;Ct|=1;var l=pi.transition,f=ut;try{if(pi.transition=null,ut=1,i)return i()}finally{ut=f,pi.transition=l,Ct=s,(Ct&6)===0&&Lr()}}function pf(){ii=aa.current,Wt(aa)}function ys(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,lw(l)),an!==null)for(l=an.return;l!==null;){var f=l;switch(wd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Yl();break;case 3:ia(),Wt(Wn),Wt(An),kd();break;case 5:Dd(f);break;case 4:ia();break;case 13:Wt(Kt);break;case 19:Wt(Kt);break;case 10:Cd(f.type._context);break;case 22:case 23:pf()}l=l.return}if(yn=i,an=i=zr(i.current,null),Mn=ii=s,dn=0,Do=null,of=xc=gs=0,Yn=Lo=null,hs!==null){for(s=0;s<hs.length;s++)if(l=hs[s],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,v=l.pending;if(v!==null){var E=v.next;v.next=g,f.next=E}l.pending=f}hs=null}return i}function X0(i,s){do{var l=an;try{if(Ad(),ac.current=uc,oc){for(var f=Zt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}oc=!1}if(ms=0,xn=un=Zt=null,Ao=!1,Co=0,af.current=null,l===null||l.return===null){dn=1,Do=s,an=null;break}e:{var v=i,E=l.return,U=l,V=s;if(s=Mn,U.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=V,ve=U,Se=ve.tag;if((ve.mode&1)===0&&(Se===0||Se===11||Se===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Be=x0(E);if(Be!==null){Be.flags&=-257,y0(Be,E,U,v,s),Be.mode&1&&g0(v,se,s),s=Be,V=se;var $e=s.updateQueue;if($e===null){var Ke=new Set;Ke.add(V),s.updateQueue=Ke}else $e.add(V);break e}else{if((s&1)===0){g0(v,se,s),mf();break e}V=Error(t(426))}}else if(Yt&&U.mode&1){var sn=x0(E);if(sn!==null){(sn.flags&65536)===0&&(sn.flags|=256),y0(sn,E,U,v,s),Ed(ra(V,U));break e}}v=V=ra(V,U),dn!==4&&(dn=2),Lo===null?Lo=[v]:Lo.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var Z=p0(v,V,s);Vg(v,Z);break e;case 1:U=V;var W=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Or===null||!Or.has(Q)))){v.flags|=65536,s&=-s,v.lanes|=s;var Te=m0(v,U,s);Vg(v,Te);break e}}v=v.return}while(v!==null)}q0(l)}catch(Qe){s=Qe,an===l&&l!==null&&(an=l=l.return);continue}break}while(!0)}function $0(){var i=gc.current;return gc.current=uc,i===null?uc:i}function mf(){(dn===0||dn===3||dn===2)&&(dn=4),yn===null||(gs&268435455)===0&&(xc&268435455)===0||Vr(yn,Mn)}function Mc(i,s){var l=Ct;Ct|=2;var f=$0();(yn!==i||Mn!==s)&&(cr=null,ys(i,s));do try{Dw();break}catch(g){X0(i,g)}while(!0);if(Ad(),Ct=l,gc.current=f,an!==null)throw Error(t(261));return yn=null,Mn=0,dn}function Dw(){for(;an!==null;)Y0(an)}function Lw(){for(;an!==null&&!Wu();)Y0(an)}function Y0(i){var s=J0(i.alternate,i,ii);i.memoizedProps=i.pendingProps,s===null?q0(i):an=s,af.current=null}function q0(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=Tw(l,s,ii),l!==null){an=l;return}}else{if(l=Aw(l,s),l!==null){l.flags&=32767,an=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dn=6,an=null;return}}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);dn===0&&(dn=5)}function vs(i,s,l){var f=ut,g=pi.transition;try{pi.transition=null,ut=1,kw(i,s,l,f)}finally{pi.transition=g,ut=f}return null}function kw(i,s,l,f){do la();while(Br!==null);if((Ct&6)!==0)throw Error(t(327));l=i.finishedWork;var g=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(ls(i,v),i===yn&&(an=yn=null,Mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||vc||(vc=!0,Q0(ne,function(){return la(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=pi.transition,pi.transition=null;var E=ut;ut=1;var U=Ct;Ct|=4,af.current=null,Nw(i,l),B0(l,i),tw(pd),Ll=!!hd,pd=hd=null,i.current=l,Rw(l),Xu(),Ct=U,ut=E,pi.transition=v}else i.current=l;if(vc&&(vc=!1,Br=i,_c=g),v=i.pendingLanes,v===0&&(Or=null),We(l.stateNode),qn(i,qt()),s!==null)for(f=i.onRecoverableError,l=0;l<s.length;l++)g=s[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(yc)throw yc=!1,i=cf,cf=null,i;return(_c&1)!==0&&i.tag!==0&&la(),v=i.pendingLanes,(v&1)!==0?i===uf?ko++:(ko=0,uf=i):ko=0,Lr(),null}function la(){if(Br!==null){var i=Fn(_c),s=pi.transition,l=ut;try{if(pi.transition=null,ut=16>i?16:i,Br===null)var f=!1;else{if(i=Br,Br=null,_c=0,(Ct&6)!==0)throw Error(t(331));var g=Ct;for(Ct|=4,Ge=i.current;Ge!==null;){var v=Ge,E=v.child;if((Ge.flags&16)!==0){var U=v.deletions;if(U!==null){for(var V=0;V<U.length;V++){var se=U[V];for(Ge=se;Ge!==null;){var ve=Ge;switch(ve.tag){case 0:case 11:case 15:Io(8,ve,v)}var Se=ve.child;if(Se!==null)Se.return=ve,Ge=Se;else for(;Ge!==null;){ve=Ge;var ye=ve.sibling,Be=ve.return;if(L0(ve),ve===se){Ge=null;break}if(ye!==null){ye.return=Be,Ge=ye;break}Ge=Be}}}var $e=v.alternate;if($e!==null){var Ke=$e.child;if(Ke!==null){$e.child=null;do{var sn=Ke.sibling;Ke.sibling=null,Ke=sn}while(Ke!==null)}}Ge=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,Ge=E;else e:for(;Ge!==null;){if(v=Ge,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Io(9,v,v.return)}var Z=v.sibling;if(Z!==null){Z.return=v.return,Ge=Z;break e}Ge=v.return}}var W=i.current;for(Ge=W;Ge!==null;){E=Ge;var Q=E.child;if((E.subtreeFlags&2064)!==0&&Q!==null)Q.return=E,Ge=Q;else e:for(E=W;Ge!==null;){if(U=Ge,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:mc(9,U)}}catch(Qe){en(U,U.return,Qe)}if(U===E){Ge=null;break e}var Te=U.sibling;if(Te!==null){Te.return=U.return,Ge=Te;break e}Ge=U.return}}if(Ct=g,Lr(),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Oe,i)}catch{}f=!0}return f}finally{ut=l,pi.transition=s}}return!1}function K0(i,s,l){s=ra(l,s),s=p0(i,s,1),i=Ur(i,s,1),s=Bn(),i!==null&&(cn(i,1,s),qn(i,s))}function en(i,s,l){if(i.tag===3)K0(i,i,l);else for(;s!==null;){if(s.tag===3){K0(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))){i=ra(l,i),i=m0(s,i,1),s=Ur(s,i,1),i=Bn(),s!==null&&(cn(s,1,i),qn(s,i));break}}s=s.return}}function Uw(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),s=Bn(),i.pingedLanes|=i.suspendedLanes&l,yn===i&&(Mn&l)===l&&(dn===4||dn===3&&(Mn&130023424)===Mn&&500>qt()-lf?ys(i,0):of|=l),qn(i,s)}function Z0(i,s){s===0&&((i.mode&1)===0?s=1:(s=zt,zt<<=1,(zt&130023424)===0&&(zt=4194304)));var l=Bn();i=ar(i,s),i!==null&&(cn(i,s,l),qn(i,l))}function Fw(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Z0(i,l)}function Ow(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),Z0(i,l)}var J0;J0=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wn.current)$n=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return $n=!1,Ew(i,s,l);$n=(i.flags&131072)!==0}else $n=!1,Yt&&(s.flags&1048576)!==0&&Pg(s,Jl,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;hc(i,s),i=s.pendingProps;var g=Ks(s,An.current);na(s,l),g=Od(null,s,f,i,g,l);var v=Bd();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xn(f)?(v=!0,ql(s)):v=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Pd(s),g.updater=dc,s.stateNode=g,g._reactInternals=s,Wd(s,f,i,l),s=qd(null,s,f,!0,v,l)):(s.tag=0,Yt&&v&&Sd(s),On(null,s,g,l),s=s.child),s;case 16:f=s.elementType;e:{switch(hc(i,s),i=s.pendingProps,g=f._init,f=g(f._payload),s.type=f,g=s.tag=jw(f),i=Ei(f,i),g){case 0:s=Yd(null,s,f,i,l);break e;case 1:s=b0(null,s,f,i,l);break e;case 11:s=v0(null,s,f,i,l);break e;case 14:s=_0(null,s,f,Ei(f.type,i),l);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Ei(f,g),Yd(i,s,f,g,l);case 1:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Ei(f,g),b0(i,s,f,g,l);case 3:e:{if(E0(s),i===null)throw Error(t(387));f=s.pendingProps,v=s.memoizedState,g=v.element,jg(i,s),rc(s,f,null,l);var E=s.memoizedState;if(f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){g=ra(Error(t(423)),s),s=T0(i,s,f,l,g);break e}else if(f!==g){g=ra(Error(t(424)),s),s=T0(i,s,f,l,g);break e}else for(ni=Pr(s.stateNode.containerInfo.firstChild),ti=s,Yt=!0,bi=null,l=Og(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qs(),f===g){s=lr(i,s,l);break e}On(i,s,f,l)}s=s.child}return s;case 5:return Hg(s),i===null&&bd(s),f=s.type,g=s.pendingProps,v=i!==null?i.memoizedProps:null,E=g.children,md(f,g)?E=null:v!==null&&md(f,v)&&(s.flags|=32),M0(i,s),On(i,s,E,l),s.child;case 6:return i===null&&bd(s),null;case 13:return A0(i,s,l);case 4:return Id(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=ea(s,null,f,l):On(i,s,f,l),s.child;case 11:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Ei(f,g),v0(i,s,f,g,l);case 7:return On(i,s,s.pendingProps,l),s.child;case 8:return On(i,s,s.pendingProps.children,l),s.child;case 12:return On(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,g=s.pendingProps,v=s.memoizedProps,E=g.value,Ht(tc,f._currentValue),f._currentValue=E,v!==null)if(Mi(v.value,E)){if(v.children===g.children&&!Wn.current){s=lr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var U=v.dependencies;if(U!==null){E=v.child;for(var V=U.firstContext;V!==null;){if(V.context===f){if(v.tag===1){V=or(-1,l&-l),V.tag=2;var se=v.updateQueue;if(se!==null){se=se.shared;var ve=se.pending;ve===null?V.next=V:(V.next=ve.next,ve.next=V),se.pending=V}}v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),Nd(v.return,l,s),U.lanes|=l;break}V=V.next}}else if(v.tag===10)E=v.type===s.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,U=E.alternate,U!==null&&(U.lanes|=l),Nd(E,l,s),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===s){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}On(i,s,g.children,l),s=s.child}return s;case 9:return g=s.type,f=s.pendingProps.children,na(s,l),g=fi(g),f=f(g),s.flags|=1,On(i,s,f,l),s.child;case 14:return f=s.type,g=Ei(f,s.pendingProps),g=Ei(f.type,g),_0(i,s,f,g,l);case 15:return S0(i,s,s.type,s.pendingProps,l);case 17:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Ei(f,g),hc(i,s),s.tag=1,Xn(f)?(i=!0,ql(s)):i=!1,na(s,l),f0(s,f,g),Wd(s,f,g,l),qd(null,s,f,!0,i,l);case 19:return N0(i,s,l);case 22:return w0(i,s,l)}throw Error(t(156,s.tag))};function Q0(i,s){return Rl(i,s)}function Bw(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(i,s,l,f){return new Bw(i,s,l,f)}function gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function jw(i){if(typeof i=="function")return gf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ae)return 11;if(i===de)return 14}return 2}function zr(i,s){var l=i.alternate;return l===null?(l=mi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function bc(i,s,l,f,g,v){var E=2;if(f=i,typeof i=="function")gf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case F:return _s(l.children,g,v,s);case j:E=8,g|=8;break;case A:return i=mi(12,l,s,g|2),i.elementType=A,i.lanes=v,i;case te:return i=mi(13,l,s,g),i.elementType=te,i.lanes=v,i;case pe:return i=mi(19,l,s,g),i.elementType=pe,i.lanes=v,i;case K:return Ec(l,g,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:E=10;break e;case H:E=9;break e;case ae:E=11;break e;case de:E=14;break e;case ce:E=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=mi(E,l,s,g),s.elementType=i,s.type=f,s.lanes=v,s}function _s(i,s,l,f){return i=mi(7,i,f,s),i.lanes=l,i}function Ec(i,s,l,f){return i=mi(22,i,f,s),i.elementType=K,i.lanes=l,i.stateNode={isHidden:!1},i}function xf(i,s,l){return i=mi(6,i,null,s),i.lanes=l,i}function yf(i,s,l){return s=mi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Vw(i,s,l,f,g){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vf(i,s,l,f,g,v,E,U,V){return i=new Vw(i,s,l,U,V),s===1?(s=1,v===!0&&(s|=8)):s=0,v=mi(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(v),i}function zw(i,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:f==null?null:""+f,children:i,containerInfo:s,implementation:l}}function ex(i){if(!i)return Dr;i=i._reactInternals;e:{if(ci(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Xn(l))return Cg(i,l,s)}return s}function tx(i,s,l,f,g,v,E,U,V){return i=vf(l,f,!0,i,g,v,E,U,V),i.context=ex(null),l=i.current,f=Bn(),g=jr(l),v=or(f,g),v.callback=s??null,Ur(l,v,g),i.current.lanes=g,cn(i,g,f),qn(i,f),i}function Tc(i,s,l,f){var g=s.current,v=Bn(),E=jr(g);return l=ex(l),s.context===null?s.context=l:s.pendingContext=l,s=or(v,E),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Ur(g,s,E),i!==null&&(Ci(i,g,E,v),ic(i,g,E)),E}function Ac(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function nx(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function _f(i,s){nx(i,s),(i=i.alternate)&&nx(i,s)}function Hw(){return null}var ix=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sf(i){this._internalRoot=i}Cc.prototype.render=Sf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Tc(i,s,null,null)},Cc.prototype.unmount=Sf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xs(function(){Tc(null,i,null,null)}),s[nr]=null}};function Cc(i){this._internalRoot=i}Cc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Vi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Cr.length&&s!==0&&s<Cr[l].priority;l++);Cr.splice(l,0,i),l===0&&Hm(i)}};function wf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function rx(){}function Gw(i,s,l,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var se=Ac(E);v.call(se)}}var E=tx(s,f,i,0,null,!1,!1,"",rx);return i._reactRootContainer=E,i[nr]=E.current,vo(i.nodeType===8?i.parentNode:i),xs(),E}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var U=f;f=function(){var se=Ac(V);U.call(se)}}var V=vf(i,0,!1,null,null,!1,!1,"",rx);return i._reactRootContainer=V,i[nr]=V.current,vo(i.nodeType===8?i.parentNode:i),xs(function(){Tc(s,V,l,f)}),V}function Rc(i,s,l,f,g){var v=l._reactRootContainer;if(v){var E=v;if(typeof g=="function"){var U=g;g=function(){var V=Ac(E);U.call(V)}}Tc(s,E,i,g)}else E=Gw(l,s,i,g,f);return Ac(E)}mn=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=jt(s.pendingLanes);l!==0&&(kt(s,l|1),qn(s,qt()),(Ct&6)===0&&(oa=qt()+500,Lr()))}break;case 13:xs(function(){var f=ar(i,1);if(f!==null){var g=Bn();Ci(f,i,1,g)}}),_f(i,1)}},gn=function(i){if(i.tag===13){var s=ar(i,134217728);if(s!==null){var l=Bn();Ci(s,i,134217728,l)}_f(i,134217728)}},js=function(i){if(i.tag===13){var s=jr(i),l=ar(i,s);if(l!==null){var f=Bn();Ci(l,i,s,f)}_f(i,s)}},Vi=function(){return ut},Vm=function(i,s){var l=ut;try{return ut=i,s()}finally{ut=l}},Le=function(i,s,l){switch(s){case"input":if(Xt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var g=$l(f);if(!g)throw Error(t(90));rn(f),Xt(f,g)}}}break;case"textarea":b(i,l);break;case"select":s=l.value,s!=null&&Et(i,!!l.multiple,s,!1)}},lt=hf,Ot=xs;var Ww={usingClientEntryPoint:!1,Events:[wo,Ys,$l,ge,Re,hf]},Uo={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xw={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ro(i),i===null?null:i.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Hw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Oe=Pc.inject(Xw),Ce=Pc}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ww,Kn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(s))throw Error(t(200));return zw(i,s,null,l)},Kn.createRoot=function(i,s){if(!wf(i))throw Error(t(299));var l=!1,f="",g=ix;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=vf(i,1,!1,null,null,l,!1,f,g),i[nr]=s.current,vo(i.nodeType===8?i.parentNode:i),new Sf(s)},Kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ro(s),i=i===null?null:i.stateNode,i},Kn.flushSync=function(i){return xs(i)},Kn.hydrate=function(i,s,l){if(!Nc(s))throw Error(t(200));return Rc(null,i,s,!0,l)},Kn.hydrateRoot=function(i,s,l){if(!wf(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,g=!1,v="",E=ix;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=tx(s,null,i,1,l??null,g,!1,v,E),i[nr]=s.current,vo(i),f)for(i=0;i<f.length;i++)l=f[i],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new Cc(s)},Kn.render=function(i,s,l){if(!Nc(s))throw Error(t(200));return Rc(null,i,s,!1,l)},Kn.unmountComponentAtNode=function(i){if(!Nc(i))throw Error(t(40));return i._reactRootContainer?(xs(function(){Rc(null,null,i,!1,function(){i._reactRootContainer=null,i[nr]=null})}),!0):!1},Kn.unstable_batchedUpdates=hf,Kn.unstable_renderSubtreeIntoContainer=function(i,s,l,f){if(!Nc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Rc(i,s,l,!1,f)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var fx;function eM(){if(fx)return Ef.exports;fx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ef.exports=Qw(),Ef.exports}var hx;function tM(){if(hx)return Ic;hx=1;var n=eM();return Ic.createRoot=n.createRoot,Ic.hydrateRoot=n.hydrateRoot,Ic}var nM=tM(),Me=Wp();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),px=n=>{const e=rM(n);return e.charAt(0).toUpperCase()+e.slice(1)},jv=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Me.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>Me.createElement("svg",{ref:h,...sM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:jv("lucide",a),...d},[...c.map(([p,m])=>Me.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=Me.forwardRef(({className:r,...a},o)=>Me.createElement(aM,{ref:o,iconNode:e,className:jv(`lucide-${iM(px(n))}`,`lucide-${n}`,r),...a}));return t.displayName=px(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Du=tt("arrow-left",oM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zn=tt("arrow-right",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mx=tt("award",cM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dM=tt("bell",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hM=tt("book-open",fM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lu=tt("calendar",pM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gM=tt("chart-column",mM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],yM=tt("chart-line",xM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vv=tt("check",vM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ca=tt("circle-check-big",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zv=tt("circle-help",SM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],gx=tt("circle-play",wM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Hv=tt("circle-user",MM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],EM=tt("clock",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AM=tt("credit-card",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],NM=tt("dollar-sign",CM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xx=tt("download",RM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IM=tt("eye",PM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],LM=tt("facebook",DM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],UM=tt("file-check",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OM=tt("file-text",FM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],jM=tt("github",BM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zM=tt("globe",VM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GM=tt("graduation-cap",HM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],yx=tt("heart",WM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$M=tt("instagram",XM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qM=tt("layers",YM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Eh=tt("lightbulb",KM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],JM=tt("linkedin",ZM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xp=tt("lock",QM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Lu=tt("mail",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nb=tt("map-pin",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],rb=tt("menu",ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],vx=tt("message-circle",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ob=tt("message-square",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M5 12h14",key:"1ays0h"}]],cb=tt("minus",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Gv=tt("network",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],fb=tt("phone",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pb=tt("plus",hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Wv=tt("presentation",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],xb=tt("quote",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vb=tt("refresh-cw",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ja=tt("rocket",_b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wb=tt("search",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bb=tt("send",Mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Th=tt("shield",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ab=tt("smartphone",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],gl=tt("sparkles",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wu=tt("target",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],La=tt("trending-up",Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ib=tt("trophy",Pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Lb=tt("twitter",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xv=tt("user",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Os=tt("users",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],qo=tt("video",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bb=tt("x",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Vb=tt("zap",jb),$p=Me.createContext({});function Ya(n){const e=Me.useRef(null);return e.current===null&&(e.current=n()),e.current}const Yp=typeof window<"u",ku=Yp?Me.useLayoutEffect:Me.useEffect,Uu=Me.createContext(null);function qp(n,e){n.indexOf(e)===-1&&n.push(e)}function Kp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fi=(n,e,t)=>t>e?e:t<n?n:t;let al=()=>{};const _r={},$v=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Yv(n){return typeof n=="object"&&n!==null}const qv=n=>/^0[^.\s]+$/u.test(n);function Zp(n){let e;return()=>(e===void 0&&(e=n()),e)}const Zn=n=>n,zb=(n,e)=>t=>e(n(t)),xl=(...n)=>n.reduce(zb),Va=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Jp{constructor(){this.subscriptions=[]}add(e){return qp(this.subscriptions,e),()=>Kp(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=n=>n*1e3,_i=n=>n/1e3;function Qp(n,e){return e?n*(1e3/e):0}const Kv=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Hb=1e-7,Gb=12;function Wb(n,e,t,r,a){let o,c,d=0;do c=e+(t-e)/2,o=Kv(c,r,a)-n,o>0?t=c:e=c;while(Math.abs(o)>Hb&&++d<Gb);return c}function yl(n,e,t,r){if(n===e&&t===r)return Zn;const a=o=>Wb(o,0,1,n,t);return o=>o===0||o===1?o:Kv(a(o),e,r)}const Zv=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Jv=n=>e=>1-n(1-e),Qv=yl(.33,1.53,.69,.99),em=Jv(Qv),e_=Zv(em),t_=n=>(n*=2)<1?.5*em(n):.5*(2-Math.pow(2,-10*(n-1))),tm=n=>1-Math.sin(Math.acos(n)),n_=Jv(tm),i_=Zv(tm),Xb=yl(.42,0,1,1),$b=yl(0,0,.58,1),r_=yl(.42,0,.58,1),Yb=n=>Array.isArray(n)&&typeof n[0]!="number",s_=n=>Array.isArray(n)&&typeof n[0]=="number",qb={linear:Zn,easeIn:Xb,easeInOut:r_,easeOut:$b,circIn:tm,circInOut:i_,circOut:n_,backIn:em,backInOut:e_,backOut:Qv,anticipate:t_},Kb=n=>typeof n=="string",_x=n=>{if(s_(n)){al(n.length===4);const[e,t,r,a]=n;return yl(e,t,r,a)}else if(Kb(n))return qb[n];return n},Dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zb(n,e){let t=new Set,r=new Set,a=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(m){c.has(m)&&(p.schedule(m),n()),m(d)}const p={schedule:(m,x=!1,y=!1)=>{const M=y&&a?t:r;return x&&c.add(m),M.has(m)||M.add(m),m},cancel:m=>{r.delete(m),c.delete(m)},process:m=>{if(d=m,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(h),t.clear(),a=!1,o&&(o=!1,p.process(m))}};return p}const Jb=40;function a_(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=Dc.reduce((N,I)=>(N[I]=Zb(o),N),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:m,update:x,preRender:y,render:S,postRender:M}=c,T=()=>{const N=_r.useManualTiming?a.timestamp:performance.now();t=!1,_r.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,Jb),1)),a.timestamp=N,a.isProcessing=!0,d.process(a),h.process(a),p.process(a),m.process(a),x.process(a),y.process(a),S.process(a),M.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(T))},w=()=>{t=!0,r=!0,a.isProcessing||n(T)};return{schedule:Dc.reduce((N,I)=>{const D=c[I];return N[I]=(k,F=!1,j=!1)=>(t||w(),D.schedule(k,F,j)),N},{}),cancel:N=>{for(let I=0;I<Dc.length;I++)c[Dc[I]].cancel(N)},state:a,steps:c}}const{schedule:Ft,cancel:Oi,state:Sn,steps:Cf}=a_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let cu;function Qb(){cu=void 0}const Hn={now:()=>(cu===void 0&&Hn.set(Sn.isProcessing||_r.useManualTiming?Sn.timestamp:performance.now()),cu),set:n=>{cu=n,queueMicrotask(Qb)}},o_=n=>e=>typeof e=="string"&&e.startsWith(n),l_=o_("--"),e2=o_("var(--"),nm=n=>e2(n)?t2.test(n.split("/*")[0].trim()):!1,t2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Sx(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const qa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ol={...qa,transform:n=>Fi(0,1,n)},Lc={...qa,default:1},el=n=>Math.round(n*1e5)/1e5,im=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n2(n){return n==null}const i2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rm=(n,e)=>t=>!!(typeof t=="string"&&i2.test(t)&&t.startsWith(n)||e&&!n2(t)&&Object.prototype.hasOwnProperty.call(t,e)),c_=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,c,d]=r.match(im);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},r2=n=>Fi(0,255,n),Nf={...qa,transform:n=>Math.round(r2(n))},Is={test:rm("rgb","red"),parse:c_("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Nf.transform(n)+", "+Nf.transform(e)+", "+Nf.transform(t)+", "+el(ol.transform(r))+")"};function s2(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Ah={test:rm("#"),parse:s2,transform:Is.transform},vl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Kr=vl("deg"),Zi=vl("%"),Ve=vl("px"),a2=vl("vh"),o2=vl("vw"),wx={...Zi,parse:n=>Zi.parse(n)/100,transform:n=>Zi.transform(n*100)},Na={test:rm("hsl","hue"),parse:c_("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Zi.transform(el(e))+", "+Zi.transform(el(t))+", "+el(ol.transform(r))+")"},ln={test:n=>Is.test(n)||Ah.test(n)||Na.test(n),parse:n=>Is.test(n)?Is.parse(n):Na.test(n)?Na.parse(n):Ah.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Is.transform(n):Na.transform(n),getAnimatableNone:n=>{const e=ln.parse(n);return e.alpha=0,ln.transform(e)}},l2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function c2(n){return isNaN(n)&&typeof n=="string"&&(n.match(im)?.length||0)+(n.match(l2)?.length||0)>0}const u_="number",d_="color",u2="var",d2="var(",Mx="${}",f2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ll(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace(f2,h=>(ln.test(h)?(r.color.push(o),a.push(d_),t.push(ln.parse(h))):h.startsWith(d2)?(r.var.push(o),a.push(u2),t.push(h)):(r.number.push(o),a.push(u_),t.push(parseFloat(h))),++o,Mx)).split(Mx);return{values:t,split:d,indexes:r,types:a}}function f_(n){return ll(n).values}function h_(n){const{split:e,types:t}=ll(n),r=e.length;return a=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],a[c]!==void 0){const d=t[c];d===u_?o+=el(a[c]):d===d_?o+=ln.transform(a[c]):o+=a[c]}return o}}const h2=n=>typeof n=="number"?0:ln.test(n)?ln.getAnimatableNone(n):n;function p2(n){const e=f_(n);return h_(n)(e.map(h2))}const ts={test:c2,parse:f_,createTransformer:h_,getAnimatableNone:p2};function Rf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function m2({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,c=0;if(!e)a=o=c=t;else{const d=t<.5?t*(1+e):t+e-t*e,h=2*t-d;a=Rf(h,d,n+1/3),o=Rf(h,d,n),c=Rf(h,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function Mu(n,e){return t=>t>0?e:n}const Jt=(n,e,t)=>n+(e-n)*t,Pf=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},g2=[Ah,Is,Na],x2=n=>g2.find(e=>e.test(n));function bx(n){const e=x2(n);if(!e)return!1;let t=e.parse(n);return e===Na&&(t=m2(t)),t}const Ex=(n,e)=>{const t=bx(n),r=bx(e);if(!t||!r)return Mu(n,e);const a={...t};return o=>(a.red=Pf(t.red,r.red,o),a.green=Pf(t.green,r.green,o),a.blue=Pf(t.blue,r.blue,o),a.alpha=Jt(t.alpha,r.alpha,o),Is.transform(a))},Ch=new Set(["none","hidden"]);function y2(n,e){return Ch.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function v2(n,e){return t=>Jt(n,e,t)}function sm(n){return typeof n=="number"?v2:typeof n=="string"?nm(n)?Mu:ln.test(n)?Ex:w2:Array.isArray(n)?p_:typeof n=="object"?ln.test(n)?Ex:_2:Mu}function p_(n,e){const t=[...n],r=t.length,a=n.map((o,c)=>sm(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)t[c]=a[c](o);return t}}function _2(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=sm(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function S2(n,e){const t=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=n.indexes[o][r[o]],d=n.values[c]??0;t[a]=d,r[o]++}return t}const w2=(n,e)=>{const t=ts.createTransformer(e),r=ll(n),a=ll(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ch.has(n)&&!a.values.length||Ch.has(e)&&!r.values.length?y2(n,e):xl(p_(S2(r,a),a.values),t):Mu(n,e)};function m_(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jt(n,e,t):sm(n)(n,e)}const M2=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ft.update(e,t),stop:()=>Oi(e),now:()=>Sn.isProcessing?Sn.timestamp:Hn.now()}},g_=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bu=2e4;function am(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<bu;)e+=t,r=n.next(e);return e>=bu?1/0:e}function b2(n,e=100,t){const r=t({...n,keyframes:[0,e]}),a=Math.min(am(r),bu);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:_i(a)}}const E2=5;function x_(n,e,t){const r=Math.max(e-E2,0);return Qp(t-n(r),e-r)}const tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},If=.001;function T2({duration:n=tn.duration,bounce:e=tn.bounce,velocity:t=tn.velocity,mass:r=tn.mass}){let a,o,c=1-e;c=Fi(tn.minDamping,tn.maxDamping,c),n=Fi(tn.minDuration,tn.maxDuration,_i(n)),c<1?(a=p=>{const m=p*c,x=m*n,y=m-t,S=Nh(p,c),M=Math.exp(-x);return If-y/S*M},o=p=>{const x=p*c*n,y=x*t+t,S=Math.pow(c,2)*Math.pow(p,2)*n,M=Math.exp(-x),T=Nh(Math.pow(p,2),c);return(-a(p)+If>0?-1:1)*((y-S)*M)/T}):(a=p=>{const m=Math.exp(-p*n),x=(p-t)*n+1;return-If+m*x},o=p=>{const m=Math.exp(-p*n),x=(t-p)*(n*n);return m*x});const d=5/n,h=C2(a,o,d);if(n=xr(n),isNaN(h))return{stiffness:tn.stiffness,damping:tn.damping,duration:n};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const A2=12;function C2(n,e,t){let r=t;for(let a=1;a<A2;a++)r=r-n(r)/e(r);return r}function Nh(n,e){return n*Math.sqrt(1-e*e)}const N2=["duration","bounce"],R2=["stiffness","damping","mass"];function Tx(n,e){return e.some(t=>n[t]!==void 0)}function P2(n){let e={velocity:tn.velocity,stiffness:tn.stiffness,damping:tn.damping,mass:tn.mass,isResolvedFromDuration:!1,...n};if(!Tx(n,R2)&&Tx(n,N2))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*Fi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:tn.mass,stiffness:a,damping:o}}else{const t=T2(n);e={...e,...t,mass:tn.mass},e.isResolvedFromDuration=!0}return e}function Eu(n=tn.visualDuration,e=tn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:p,mass:m,duration:x,velocity:y,isResolvedFromDuration:S}=P2({...t,velocity:-_i(t.velocity||0)}),M=y||0,T=p/(2*Math.sqrt(h*m)),w=c-o,_=_i(Math.sqrt(h/m)),R=Math.abs(w)<5;r||(r=R?tn.restSpeed.granular:tn.restSpeed.default),a||(a=R?tn.restDelta.granular:tn.restDelta.default);let N;if(T<1){const D=Nh(_,T);N=k=>{const F=Math.exp(-T*_*k);return c-F*((M+T*_*w)/D*Math.sin(D*k)+w*Math.cos(D*k))}}else if(T===1)N=D=>c-Math.exp(-_*D)*(w+(M+_*w)*D);else{const D=_*Math.sqrt(T*T-1);N=k=>{const F=Math.exp(-T*_*k),j=Math.min(D*k,300);return c-F*((M+T*_*w)*Math.sinh(j)+D*w*Math.cosh(j))/D}}const I={calculatedDuration:S&&x||null,next:D=>{const k=N(D);if(S)d.done=D>=x;else{let F=D===0?M:0;T<1&&(F=D===0?xr(M):x_(N,D,k));const j=Math.abs(F)<=r,A=Math.abs(c-k)<=a;d.done=j&&A}return d.value=d.done?c:k,d},toString:()=>{const D=Math.min(am(I),bu),k=g_(F=>I.next(D*F).value,D,30);return D+"ms "+k},toTransition:()=>{}};return I}Eu.applyToOptions=n=>{const e=b2(n,100,Eu);return n.ease=e.ease,n.duration=xr(e.duration),n.type="keyframes",n};function Rh({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:m}){const x=n[0],y={done:!1,value:x},S=j=>d!==void 0&&j<d||h!==void 0&&j>h,M=j=>d===void 0?h:h===void 0||Math.abs(d-j)<Math.abs(h-j)?d:h;let T=t*e;const w=x+T,_=c===void 0?w:c(w);_!==w&&(T=_-x);const R=j=>-T*Math.exp(-j/r),N=j=>_+R(j),I=j=>{const A=R(j),P=N(j);y.done=Math.abs(A)<=p,y.value=y.done?_:P};let D,k;const F=j=>{S(y.value)&&(D=j,k=Eu({keyframes:[y.value,M(y.value)],velocity:x_(N,j,y.value),damping:a,stiffness:o,restDelta:p,restSpeed:m}))};return F(0),{calculatedDuration:null,next:j=>{let A=!1;return!k&&D===void 0&&(A=!0,I(j),F(j)),D!==void 0&&j>=D?k.next(j-D):(!A&&I(j),y)}}}function I2(n,e,t){const r=[],a=t||_r.mix||m_,o=n.length-1;for(let c=0;c<o;c++){let d=a(n[c],n[c+1]);if(e){const h=Array.isArray(e)?e[c]||Zn:e;d=xl(h,d)}r.push(d)}return r}function om(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(al(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=I2(e,r,a),h=d.length,p=m=>{if(c&&m<n[0])return e[0];let x=0;if(h>1)for(;x<n.length-2&&!(m<n[x+1]);x++);const y=Va(n[x],n[x+1],m);return d[x](y)};return t?m=>p(Fi(n[0],n[o-1],m)):p}function D2(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=Va(0,e,r);n.push(Jt(t,1,a))}}function y_(n){const e=[0];return D2(e,n.length-1),e}function L2(n,e){return n.map(t=>t*e)}function k2(n,e){return n.map(()=>e||r_).splice(0,n.length-1)}function tl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=Yb(r)?r.map(_x):_x(r),o={done:!1,value:e[0]},c=L2(t&&t.length===e.length?t:y_(e),n),d=om(c,e,{ease:Array.isArray(a)?a:k2(e,a)});return{calculatedDuration:n,next:h=>(o.value=d(h),o.done=h>=n,o)}}const U2=n=>n!==null;function lm(n,{repeat:e,repeatType:t="loop"},r,a=1){const o=n.filter(U2),d=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const F2={decay:Rh,inertia:Rh,tween:tl,keyframes:tl,spring:Eu};function v_(n){typeof n.type=="string"&&(n.type=F2[n.type])}class cm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const O2=n=>n/100;class um extends cm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;v_(e);const{type:t=tl,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=t||tl;h!==tl&&typeof d[0]!="number"&&(this.mixKeyframes=xl(O2,m_(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=am(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:x,repeatType:y,repeatDelay:S,type:M,onUpdate:T,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const _=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,I=r;if(x){const j=Math.min(this.currentTime,a)/d;let A=Math.floor(j),P=j%1;!P&&j>=1&&(P=1),P===1&&A--,A=Math.min(A,x+1),!!(A%2)&&(y==="reverse"?(P=1-P,S&&(P-=S/d)):y==="mirror"&&(I=c)),N=Fi(0,1,P)*d}const D=R?{done:!1,value:m[0]}:I.next(N);o&&(D.value=o(D.value));let{done:k}=D;!R&&h!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return F&&M!==Rh&&(D.value=lm(m,this.options,w,this.speed)),T&&T(D.value),F&&this.finish(),D}then(e,t){return this.finished.then(e,t)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(this.currentTime)}set time(e){e=xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=M2,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function B2(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ds=n=>n*180/Math.PI,Ph=n=>{const e=Ds(Math.atan2(n[1],n[0]));return Ih(e)},j2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ph,rotateZ:Ph,skewX:n=>Ds(Math.atan(n[1])),skewY:n=>Ds(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ih=n=>(n=n%360,n<0&&(n+=360),n),Ax=Ph,Cx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Nx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),V2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cx,scaleY:Nx,scale:n=>(Cx(n)+Nx(n))/2,rotateX:n=>Ih(Ds(Math.atan2(n[6],n[5]))),rotateY:n=>Ih(Ds(Math.atan2(-n[2],n[0]))),rotateZ:Ax,rotate:Ax,skewX:n=>Ds(Math.atan(n[4])),skewY:n=>Ds(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dh(n){return n.includes("scale")?1:0}function Lh(n,e){if(!n||n==="none")return Dh(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=V2,a=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=j2,a=d}if(!a)return Dh(e);const o=r[e],c=a[1].split(",").map(H2);return typeof o=="function"?o(c):c[o]}const z2=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Lh(t,e)};function H2(n){return parseFloat(n.trim())}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Za=new Set(Ka),Rx=n=>n===qa||n===Ve,G2=new Set(["x","y","z"]),W2=Ka.filter(n=>!G2.has(n));function X2(n){const e=[];return W2.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Jr={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Lh(e,"x"),y:(n,{transform:e})=>Lh(e,"y")};Jr.translateX=Jr.x;Jr.translateY=Jr.y;const Us=new Set;let kh=!1,Uh=!1,Fh=!1;function __(){if(Uh){const n=Array.from(Us).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=X2(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,c])=>{r.getValue(o)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Uh=!1,kh=!1,Us.forEach(n=>n.complete(Fh)),Us.clear()}function S_(){Us.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Uh=!0)})}function $2(){Fh=!0,S_(),__(),Fh=!1}class dm{constructor(e,t,r,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Us.add(this),kh||(kh=!0,Ft.read(S_),Ft.resolveKeyframes(__))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}B2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Us.delete(this)}cancel(){this.state==="scheduled"&&(Us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y2=n=>n.startsWith("--");function q2(n,e,t){Y2(e)?n.style.setProperty(e,t):n.style[e]=t}const w_=Zp(()=>window.ScrollTimeline!==void 0),K2={};function Z2(n,e){const t=Zp(n);return()=>K2[e]??t()}const M_=Z2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ko=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Px={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ko([0,.65,.55,1]),circOut:Ko([.55,0,1,.45]),backIn:Ko([.31,.01,.66,-.59]),backOut:Ko([.33,1.53,.69,.99])};function b_(n,e){if(n)return typeof n=="function"?M_()?g_(n,e):"ease-out":s_(n)?Ko(n):Array.isArray(n)?n.map(t=>b_(t,e)||Px.easeOut):Px[n]}function J2(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},p=void 0){const m={[e]:t};h&&(m.offset=h);const x=b_(d,a);Array.isArray(x)&&(m.easing=x);const y={delay:r,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),n.animate(m,y)}function E_(n){return typeof n=="function"&&"applyToOptions"in n}function Q2({type:n,...e}){return E_(n)&&M_()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eE extends cm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,al(typeof e.type!="string");const p=Q2(e);this.animation=J2(t,r,a,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=lm(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):q2(t,r,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&w_()?(this.animation.timeline=e,Zn):t(this)}}const T_={anticipate:t_,backInOut:e_,circInOut:i_};function tE(n){return n in T_}function nE(n){typeof n.ease=="string"&&tE(n.ease)&&(n.ease=T_[n.ease])}const Df=10;class iE extends eE{constructor(e){nE(e),v_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:a,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new um({...c,autoplay:!1}),h=Math.max(Df,Hn.now()-this.startTime),p=Fi(0,Df,h-Df);t.setWithVelocity(d.sample(Math.max(0,h-p)).value,d.sample(h).value,p),d.stop()}}const Ix=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ts.test(n)||n==="0")&&!n.startsWith("url("));function rE(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function sE(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=Ix(a,e),d=Ix(o,e);return!c||!d?!1:rE(n)||(t==="spring"||E_(t))&&r}function Oh(n){n.duration=0,n.type="keyframes"}const aE=new Set(["opacity","clipPath","filter","transform"]),oE=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lE(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:a,damping:o,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return oE()&&t&&aE.has(t)&&(t!=="transform"||!p)&&!h&&!r&&a!=="mirror"&&o!==0&&c!=="inertia"}const cE=40;class uE extends cm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:p,element:m,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const y={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:c,name:h,motionValue:p,element:m,...x},S=m?.KeyframeResolver||dm;this.keyframeResolver=new S(d,(M,T,w)=>this.onKeyframesResolved(M,T,y,!w),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:p,onUpdate:m}=r;this.resolvedAt=Hn.now(),sE(e,o,c,d)||((_r.instantAnimations||!h)&&m?.(lm(e,r,t)),e[0]=e[e.length-1],Oh(r),r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},S=!p&&lE(y)?new iE({...y,element:y.motionValue.owner.current}):new um(y);S.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fE(n){const e=dE.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function A_(n,e,t=1){const[r,a]=fE(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return $v(c)?parseFloat(c):c}return nm(a)?A_(a,e,t+1):a}function fm(n,e){return n?.[e]??n?.default??n}const C_=new Set(["width","height","top","left","right","bottom",...Ka]),hE={test:n=>n==="auto",parse:n=>n},N_=n=>e=>e.test(n),R_=[qa,Ve,Zi,Kr,o2,a2,hE],Dx=n=>R_.find(N_(n));function pE(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||qv(n):!0}const mE=new Set(["brightness","contrast","saturate","opacity"]);function gE(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(im)||[];if(!r)return n;const a=t.replace(r,"");let o=mE.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const xE=/\b([a-z-]*)\(.*?\)/gu,Bh={...ts,getAnimatableNone:n=>{const e=n.match(xE);return e?e.map(gE).join(" "):n}},Lx={...qa,transform:Math.round},yE={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Lc,scaleX:Lc,scaleY:Lc,scaleZ:Lc,skew:Kr,skewX:Kr,skewY:Kr,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:ol,originX:wx,originY:wx,originZ:Ve},hm={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...yE,zIndex:Lx,fillOpacity:ol,strokeOpacity:ol,numOctaves:Lx},vE={...hm,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Bh,WebkitFilter:Bh},P_=n=>vE[n];function I_(n,e){let t=P_(n);return t!==Bh&&(t=ts),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const _E=new Set(["auto","none","0"]);function SE(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!_E.has(o)&&ll(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=I_(t,a)}class wE extends dm{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let x=e[m];if(typeof x=="string"&&(x=x.trim(),nm(x))){const y=A_(x,t.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!C_.has(r)||e.length!==2)return;const[a,o]=e,c=Dx(a),d=Dx(o),h=Sx(a),p=Sx(o);if(h!==p&&Jr[r]){this.needsMeasurement=!0;return}if(c!==d)if(Rx(c)&&Rx(d))for(let m=0;m<e.length;m++){const x=e[m];typeof x=="string"&&(e[m]=parseFloat(x))}else Jr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||pE(e[a]))&&r.push(a);r.length&&SE(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=Jr[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function D_(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const a=document.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const L_=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function pm(n){return Yv(n)&&"offsetHeight"in n}const kx=30,ME=n=>!isNaN(parseFloat(n)),nl={current:void 0};class bE{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ME(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Jp);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return nl.current&&nl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kx);return Qp(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Li(n,e){return new bE(n,e)}const{schedule:mm}=a_(queueMicrotask,!1),Di={x:!1,y:!1};function k_(){return Di.x||Di.y}function EE(n){return n==="x"||n==="y"?Di[n]?null:(Di[n]=!0,()=>{Di[n]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function U_(n,e){const t=D_(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function Ux(n){return!(n.pointerType==="touch"||k_())}function TE(n,e,t={}){const[r,a,o]=U_(n,t),c=d=>{if(!Ux(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const m=x=>{Ux(x)&&(p(x),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),o}const F_=(n,e)=>e?n===e?!0:F_(n,e.parentElement):!1,gm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,AE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O_(n){return AE.has(n.tagName)||n.isContentEditable===!0}const uu=new WeakSet;function Fx(n){return e=>{e.key==="Enter"&&n(e)}}function Lf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CE=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Fx(()=>{if(uu.has(t))return;Lf(t,"down");const a=Fx(()=>{Lf(t,"up")}),o=()=>Lf(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Ox(n){return gm(n)&&!k_()}function NE(n,e,t={}){const[r,a,o]=U_(n,t),c=d=>{const h=d.currentTarget;if(!Ox(d))return;uu.add(h);const p=e(h,d),m=(S,M)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),uu.has(h)&&uu.delete(h),Ox(S)&&typeof p=="function"&&p(S,{success:M})},x=S=>{m(S,h===window||h===document||t.useGlobalTarget||F_(h,S.target))},y=S=>{m(S,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",y,a)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),pm(d)&&(d.addEventListener("focus",p=>CE(p,a)),!O_(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function xm(n){return Yv(n)&&"ownerSVGElement"in n}const du=new WeakMap;let fu;const B_=(n,e,t)=>(r,a)=>a&&a[0]?a[0][n+"Size"]:xm(r)&&"getBBox"in r?r.getBBox()[e]:r[t],RE=B_("inline","width","offsetWidth"),PE=B_("block","height","offsetHeight");function IE({target:n,borderBoxSize:e}){du.get(n)?.forEach(t=>{t(n,{get width(){return RE(n,e)},get height(){return PE(n,e)}})})}function DE(n){n.forEach(IE)}function LE(){typeof ResizeObserver>"u"||(fu=new ResizeObserver(DE))}function kE(n,e){fu||LE();const t=D_(n);return t.forEach(r=>{let a=du.get(r);a||(a=new Set,du.set(r,a)),a.add(e),fu?.observe(r)}),()=>{t.forEach(r=>{const a=du.get(r);a?.delete(e),a?.size||fu?.unobserve(r)})}}const hu=new Set;let Ra;function UE(){Ra=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};hu.forEach(e=>e(n))},window.addEventListener("resize",Ra)}function FE(n){return hu.add(n),Ra||UE(),()=>{hu.delete(n),!hu.size&&typeof Ra=="function"&&(window.removeEventListener("resize",Ra),Ra=void 0)}}function OE(n,e){return typeof n=="function"?FE(n):kE(n,e)}function j_(n,e){let t;const r=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;t!==c&&n(c),t=c};return Ft.preUpdate(r,!0),()=>Oi(r)}function BE(n){return xm(n)&&n.tagName==="svg"}function jE(...n){const e=!Array.isArray(n[0]),t=e?0:-1,r=n[0+t],a=n[1+t],o=n[2+t],c=n[3+t],d=om(a,o,c);return e?d(r):d}const Dn=n=>!!(n&&n.getVelocity),VE=[...R_,ln,ts],zE=n=>VE.find(N_(n)),Fu=Me.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Bx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function HE(...n){return e=>{let t=!1;const r=n.map(a=>{const o=Bx(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Bx(n[a],null)}}}}function GE(...n){return Me.useCallback(HE(...n),n)}class WE extends Me.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,a=pm(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XE({children:n,isPresent:e,anchorX:t,root:r}){const a=Me.useId(),o=Me.useRef(null),c=Me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=Me.useContext(Fu),h=n.props?.ref??n?.ref,p=GE(o,h);return Me.useInsertionEffect(()=>{const{width:m,height:x,top:y,left:S,right:M}=c.current;if(e||!o.current||!m||!x)return;const T=t==="left"?`left: ${S}`:`right: ${M}`;o.current.dataset.motionPopId=a;const w=document.createElement("style");d&&(w.nonce=d);const _=r??document.head;return _.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${x}px !important;
            ${T}px !important;
            top: ${y}px !important;
          }
        `),()=>{_.contains(w)&&_.removeChild(w)}},[e]),u.jsx(WE,{isPresent:e,childRef:o,sizeRef:c,children:Me.cloneElement(n,{ref:p})})}const $E=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:c,anchorX:d,root:h})=>{const p=Ya(YE),m=Me.useId();let x=!0,y=Me.useMemo(()=>(x=!1,{id:m,initial:e,isPresent:t,custom:a,onExitComplete:S=>{p.set(S,!0);for(const M of p.values())if(!M)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[t,p,r]);return o&&x&&(y={...y}),Me.useMemo(()=>{p.forEach((S,M)=>p.set(M,!1))},[t]),Me.useEffect(()=>{!t&&!p.size&&r&&r()},[t]),c==="popLayout"&&(n=u.jsx(XE,{isPresent:t,anchorX:d,root:h,children:n})),u.jsx(Uu.Provider,{value:y,children:n})};function YE(){return new Map}function V_(n=!0){const e=Me.useContext(Uu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=Me.useId();Me.useEffect(()=>{if(n)return a(o)},[n]);const c=Me.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,c]:[!0]}const kc=n=>n.key||"";function jx(n){const e=[];return Me.Children.forEach(n,t=>{Me.isValidElement(t)&&e.push(t)}),e}const Vx=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[p,m]=V_(c),x=Me.useMemo(()=>jx(n),[n]),y=c&&!p?[]:x.map(kc),S=Me.useRef(!0),M=Me.useRef(x),T=Ya(()=>new Map),w=Me.useRef(new Set),[_,R]=Me.useState(x),[N,I]=Me.useState(x);ku(()=>{S.current=!1,M.current=x;for(let F=0;F<N.length;F++){const j=kc(N[F]);y.includes(j)?(T.delete(j),w.current.delete(j)):T.get(j)!==!0&&T.set(j,!1)}},[N,y.length,y.join("-")]);const D=[];if(x!==_){let F=[...x];for(let j=0;j<N.length;j++){const A=N[j],P=kc(A);y.includes(P)||(F.splice(j,0,A),D.push(A))}return o==="wait"&&D.length&&(F=D),I(jx(F)),R(x),null}const{forceRender:k}=Me.useContext($p);return u.jsx(u.Fragment,{children:N.map(F=>{const j=kc(F),A=c&&!p?!1:x===N||y.includes(j),P=()=>{if(w.current.has(j))return;if(w.current.add(j),T.has(j))T.set(j,!0);else return;let H=!0;T.forEach(ae=>{ae||(H=!1)}),H&&(k?.(),I(M.current),c&&m?.(),r&&r())};return u.jsx($E,{isPresent:A,initial:!S.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:h,onExitComplete:A?void 0:P,anchorX:d,children:F},j)})})},z_=Me.createContext({strict:!1}),zx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},za={};for(const n in zx)za[n]={isEnabled:e=>zx[n].some(t=>!!e[t])};function qE(n){for(const e in n)za[e]={...za[e],...n[e]}}const KE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tu(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||KE.has(n)}let H_=n=>!Tu(n);function ZE(n){typeof n=="function"&&(H_=e=>e.startsWith("on")?!Tu(e):n(e))}try{ZE(require("@emotion/is-prop-valid").default)}catch{}function JE(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(H_(a)||t===!0&&Tu(a)||!e&&!Tu(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}const Ou=Me.createContext({});function Bu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function cl(n){return typeof n=="string"||Array.isArray(n)}const ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vm=["initial",...ym];function ju(n){return Bu(n.animate)||vm.some(e=>cl(n[e]))}function G_(n){return!!(ju(n)||n.variants)}function QE(n,e){if(ju(n)){const{initial:t,animate:r}=n;return{initial:t===!1||cl(t)?t:void 0,animate:cl(r)?r:void 0}}return n.inherit!==!1?e:{}}function eT(n){const{initial:e,animate:t}=QE(n,Me.useContext(Ou));return Me.useMemo(()=>({initial:e,animate:t}),[Hx(e),Hx(t)])}function Hx(n){return Array.isArray(n)?n.join(" "):n}function Gx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oo={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ve.test(n))n=parseFloat(n);else return n;const t=Gx(n,e.target.x),r=Gx(n,e.target.y);return`${t}% ${r}%`}},tT={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=ts.parse(n);if(a.length>5)return r;const o=ts.createTransformer(n),c=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,h=t.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const p=Jt(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),o(a)}},jh={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:tT};function W_(n,{layout:e,layoutId:t}){return Za.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!jh[n]||n==="opacity")}const nT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iT=Ka.length;function rT(n,e,t){let r="",a=!0;for(let o=0;o<iT;o++){const c=Ka[o],d=n[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||t){const p=L_(d,hm[c]);if(!h){a=!1;const m=nT[c]||c;r+=`${m}(${p}) `}t&&(e[c]=p)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function _m(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let c=!1,d=!1;for(const h in e){const p=e[h];if(Za.has(h)){c=!0;continue}else if(l_(h)){a[h]=p;continue}else{const m=L_(p,hm[h]);h.startsWith("origin")?(d=!0,o[h]=m):r[h]=m}}if(e.transform||(c||t?r.transform=rT(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${p} ${m}`}}const Sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X_(n,e,t){for(const r in e)!Dn(e[r])&&!W_(r,t)&&(n[r]=e[r])}function sT({transformTemplate:n},e){return Me.useMemo(()=>{const t=Sm();return _m(t,e,n),Object.assign({},t.vars,t.style)},[e])}function aT(n,e){const t=n.style||{},r={};return X_(r,t,n),Object.assign(r,sT(n,e)),r}function oT(n,e){const t={},r=aT(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const lT={offset:"stroke-dashoffset",array:"stroke-dasharray"},cT={offset:"strokeDashoffset",array:"strokeDasharray"};function uT(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?lT:cT;n[o.offset]=Ve.transform(-r);const c=Ve.transform(e),d=Ve.transform(t);n[o.array]=`${c} ${d}`}const dT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $_(n,{attrX:e,attrY:t,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...d},h,p,m){if(_m(n,d,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:y}=n;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete x.transformBox);for(const S of dT)x[S]!==void 0&&(y[S]=x[S],delete x[S]);e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),a!==void 0&&uT(x,a,o,c,!1)}const Y_=()=>({...Sm(),attrs:{}}),q_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fT(n,e,t,r){const a=Me.useMemo(()=>{const o=Y_();return $_(o,e,q_(r),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};X_(o,n.style,n),a.style={...o,...a.style}}return a}const hT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wm(n){return typeof n!="string"||n.includes("-")?!1:!!(hT.indexOf(n)>-1||/[A-Z]/u.test(n))}function pT(n,e,t,{latestValues:r},a,o=!1,c){const h=(c??wm(n)?fT:oT)(e,r,a,n),p=JE(e,typeof n=="string",o),m=n!==Me.Fragment?{...p,...h,ref:t}:{},{children:x}=e,y=Me.useMemo(()=>Dn(x)?x.get():x,[x]);return Me.createElement(n,{...m,children:y})}function Wx(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Mm(n,e,t,r){if(typeof e=="function"){const[a,o]=Wx(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=Wx(r);e=e(t!==void 0?t:n.custom,a,o)}return e}function pu(n){return Dn(n)?n.get():n}function mT({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,a){return{latestValues:gT(t,r,a,n),renderState:e()}}function gT(n,e,t,r){const a={},o=r(n,{});for(const y in o)a[y]=pu(o[y]);let{initial:c,animate:d}=n;const h=ju(n),p=G_(n);e&&p&&!h&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let m=t?t.initial===!1:!1;m=m||c===!1;const x=m?d:c;if(x&&typeof x!="boolean"&&!Bu(x)){const y=Array.isArray(x)?x:[x];for(let S=0;S<y.length;S++){const M=Mm(n,y[S]);if(M){const{transitionEnd:T,transition:w,..._}=M;for(const R in _){let N=_[R];if(Array.isArray(N)){const I=m?N.length-1:0;N=N[I]}N!==null&&(a[R]=N)}for(const R in T)a[R]=T[R]}}}return a}const K_=n=>(e,t)=>{const r=Me.useContext(Ou),a=Me.useContext(Uu),o=()=>mT(n,e,r,a);return t?o():Ya(o)};function bm(n,e,t){const{style:r}=n,a={};for(const o in r)(Dn(r[o])||e.style&&Dn(e.style[o])||W_(o,n)||t?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const xT=K_({scrapeMotionValuesFromProps:bm,createRenderState:Sm});function Z_(n,e,t){const r=bm(n,e,t);for(const a in n)if(Dn(n[a])||Dn(e[a])){const o=Ka.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const yT=K_({scrapeMotionValuesFromProps:Z_,createRenderState:Y_}),vT=Symbol.for("motionComponentSymbol");function _T(n,e,t){const r=Me.useRef(t);Me.useInsertionEffect(()=>{r.current=t});const a=Me.useRef(null);return Me.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const c=r.current;if(typeof c=="function")if(o){const d=c(o);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(o);else c&&(c.current=o)},[e])}const Em=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ST="framerAppearId",J_="data-"+Em(ST),Q_=Me.createContext({});function Zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function wT(n,e,t,r,a,o){const{visualElement:c}=Me.useContext(Ou),d=Me.useContext(z_),h=Me.useContext(Uu),p=Me.useContext(Fu).reducedMotion,m=Me.useRef(null);r=r||d.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:c,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:o}));const x=m.current,y=Me.useContext(Q_);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&MT(m.current,t,a,y);const S=Me.useRef(!1);Me.useInsertionEffect(()=>{x&&S.current&&x.update(t,h)});const M=t[J_],T=Me.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return ku(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),T.current&&x.animationState&&x.animationState.animateChanges())}),Me.useEffect(()=>{x&&(!T.current&&x.animationState&&x.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),T.current=!1),x.enteringChildren=void 0)}),x}function MT(n,e,t,r){const{layoutId:a,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:e1(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||d&&Zo(d),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:p})}function e1(n){if(n)return n.options.allowProjection!==!1?n.projection:e1(n.parent)}function kf(n,{forwardMotionProps:e=!1,type:t}={},r,a){r&&qE(r);const o=t?t==="svg":wm(n),c=o?yT:xT;function d(p,m){let x;const y={...Me.useContext(Fu),...p,layoutId:bT(p)},{isStatic:S}=y,M=eT(p),T=c(p,S);if(!S&&Yp){ET();const w=TT(y);x=w.MeasureLayout,M.visualElement=wT(n,T,y,a,w.ProjectionNode,o)}return u.jsxs(Ou.Provider,{value:M,children:[x&&M.visualElement?u.jsx(x,{visualElement:M.visualElement,...y}):null,pT(n,p,_T(T,M.visualElement,m),T,S,e,o)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=Me.forwardRef(d);return h[vT]=n,h}function bT({layoutId:n}){const e=Me.useContext($p).id;return e&&n!==void 0?e+"-"+n:n}function ET(n,e){Me.useContext(z_).strict}function TT(n){const{drag:e,layout:t}=za;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function AT(n,e){if(typeof Proxy>"u")return kf;const t=new Map,r=(o,c)=>kf(o,c,n,e),a=(o,c)=>r(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?r:(t.has(c)||t.set(c,kf(c,void 0,n,e)),t.get(c))})}function t1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function CT({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function NT(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Uf(n){return n===void 0||n===1}function Vh({scale:n,scaleX:e,scaleY:t}){return!Uf(n)||!Uf(e)||!Uf(t)}function Cs(n){return Vh(n)||n1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function n1(n){return Xx(n.x)||Xx(n.y)}function Xx(n){return n&&n!=="0%"}function Au(n,e,t){const r=n-t,a=e*r;return t+a}function $x(n,e,t,r,a){return a!==void 0&&(n=Au(n,a,r)),Au(n,t,r)+e}function zh(n,e=0,t=1,r,a){n.min=$x(n.min,e,t,r,a),n.max=$x(n.max,e,t,r,a)}function i1(n,{x:e,y:t}){zh(n.x,e.translate,e.scale,e.originPoint),zh(n.y,t.translate,t.scale,t.originPoint)}const Yx=.999999999999,qx=1.0000000000001;function RT(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,c;for(let d=0;d<a;d++){o=t[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ia(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,i1(n,c)),r&&Cs(o.latestValues)&&Ia(n,o.latestValues))}e.x<qx&&e.x>Yx&&(e.x=1),e.y<qx&&e.y>Yx&&(e.y=1)}function Pa(n,e){n.min=n.min+e,n.max=n.max+e}function Kx(n,e,t,r,a=.5){const o=Jt(n.min,n.max,a);zh(n,e,t,o,r)}function Ia(n,e){Kx(n.x,e.x,e.scaleX,e.scale,e.originX),Kx(n.y,e.y,e.scaleY,e.scale,e.originY)}function r1(n,e){return t1(NT(n.getBoundingClientRect(),e))}function PT(n,e,t){const r=r1(n,t),{scroll:a}=e;return a&&(Pa(r.x,a.offset.x),Pa(r.y,a.offset.y)),r}const Zx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:Zx(),y:Zx()}),Jx=()=>({min:0,max:0}),fn=()=>({x:Jx(),y:Jx()}),Hh={current:null},s1={current:!1};function IT(){if(s1.current=!0,!!Yp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hh.current=n.matches;n.addEventListener("change",e),e()}else Hh.current=!1}const DT=new WeakMap;function LT(n,e,t){for(const r in e){const a=e[r],o=t[r];if(Dn(a))n.addValue(r,a);else if(Dn(o))n.addValue(r,Li(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(r);n.addValue(r,Li(c!==void 0?c:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Qx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kT{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Hn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ft.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=ju(t),this.isVariantNode=G_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in x){const S=x[y];h[y]!==void 0&&Dn(S)&&S.set(h[y])}}mount(e){this.current=e,DT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(s1.current||IT(),this.shouldReduceMotion=Hh.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oi(this.notifyUpdate),Oi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Za.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in za){const t=za[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Qx.length;r++){const a=Qx[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=LT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Li(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($v(r)||qv(r))?r=parseFloat(r):!zE(r)&&ts.test(t)&&(r=I_(e,t)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=Mm(this.props,t,this.presenceContext?.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Jp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){mm.render(this.render)}}class a1 extends kT{constructor(){super(...arguments),this.KeyframeResolver=wE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function o1(n,{style:e,vars:t},r,a){const o=n.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,r);for(c in t)o.setProperty(c,t[c])}function UT(n){return window.getComputedStyle(n)}class FT extends a1{constructor(){super(...arguments),this.type="html",this.renderInstance=o1}readValueFromInstance(e,t){if(Za.has(t))return this.projection?.isProjecting?Dh(t):z2(e,t);{const r=UT(e),a=(l_(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return r1(e,t)}build(e,t,r){_m(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return bm(e,t,r)}}const l1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OT(n,e,t,r){o1(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(l1.has(a)?a:Em(a),e.attrs[a])}class BT extends a1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Za.has(t)){const r=P_(t);return r&&r.default||0}return t=l1.has(t)?t:Em(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Z_(e,t,r)}build(e,t,r){$_(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,a){OT(e,t,r,a)}mount(e){this.isSVGTag=q_(e.tagName),super.mount(e)}}const jT=(n,e)=>e.isSVG??wm(n)?new BT(e):new FT(e,{allowProjection:n!==Me.Fragment});function ka(n,e,t){const r=n.getProps();return Mm(r,e,t!==void 0?t:r.custom,n)}const Gh=n=>Array.isArray(n);function VT(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Li(t))}function zT(n){return Gh(n)?n[n.length-1]||0:n}function HT(n,e){const t=ka(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const c in o){const d=zT(o[c]);VT(n,c,d)}}function GT(n){return!!(Dn(n)&&n.add)}function Wh(n,e){const t=n.getValue("willChange");if(GT(t))return t.add(e);if(!t&&_r.WillChange){const r=new _r.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function c1(n){return n.props[J_]}const WT=n=>n!==null;function XT(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(WT),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}const $T={type:"spring",stiffness:500,damping:25,restSpeed:10},YT=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),qT={type:"keyframes",duration:.8},KT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZT=(n,{keyframes:e})=>e.length>2?qT:Za.has(n)?n.startsWith("scale")?YT(e[1]):$T:KT;function JT({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const Tm=(n,e,t,r={},a,o)=>c=>{const d=fm(r,n)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-xr(h);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:o?void 0:a};JT(d)||Object.assign(m,ZT(n,m)),m.duration&&(m.duration=xr(m.duration)),m.repeatDelay&&(m.repeatDelay=xr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Oh(m),m.delay===0&&(x=!0)),(_r.instantAnimations||_r.skipAnimations)&&(x=!0,Oh(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,x&&!o&&e.get()!==void 0){const y=XT(m.keyframes,d);if(y!==void 0){Ft.update(()=>{m.onUpdate(y),m.onComplete()});return}}return d.isSync?new um(m):new uE(m)};function QT({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function u1(n,e,{delay:t=0,transitionOverride:r,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(o=r);const h=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const m in d){const x=n.getValue(m,n.latestValues[m]??null),y=d[m];if(y===void 0||p&&QT(p,m))continue;const S={delay:t,...fm(o||{},m)},M=x.get();if(M!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===M&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const _=c1(n);if(_){const R=window.MotionHandoffAnimation(_,m,Ft);R!==null&&(S.startTime=R,T=!0)}}Wh(n,m),x.start(Tm(m,x,y,n.shouldReduceMotion&&C_.has(m)?{type:!1}:S,n,T));const w=x.animation;w&&h.push(w)}return c&&Promise.all(h).then(()=>{Ft.update(()=>{c&&HT(n,c)})}),h}function d1(n,e,t,r=0,a=1){const o=Array.from(n).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),c=n.size,d=(c-1)*r;return typeof t=="function"?t(o,c):a===1?o*r:d-o*r}function Xh(n,e,t={}){const r=ka(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(a=t.transitionOverride);const o=r?()=>Promise.all(u1(n,r,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:x}=a;return eA(n,e,h,p,m,x,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,p]=d==="beforeChildren"?[o,c]:[c,o];return h().then(()=>p())}else return Promise.all([o(),c(t.delay)])}function eA(n,e,t=0,r=0,a=0,o=1,c){const d=[];for(const h of n.variantChildren)h.notify("AnimationStart",e),d.push(Xh(h,e,{...c,delay:t+(typeof r=="function"?0:r)+d1(n.variantChildren,h,r,a,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function tA(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>Xh(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=Xh(n,e,t);else{const a=typeof e=="function"?ka(n,e,t.custom):e;r=Promise.all(u1(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function f1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const nA=vm.length;function h1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?h1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<nA;t++){const r=vm[t],a=n.props[r];(cl(a)||a===!1)&&(e[r]=a)}return e}const iA=[...ym].reverse(),rA=ym.length;function sA(n){return e=>Promise.all(e.map(({animation:t,options:r})=>tA(n,t,r)))}function aA(n){let e=sA(n),t=ey(),r=!0;const a=h=>(p,m)=>{const x=ka(n,m,h==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:y,transitionEnd:S,...M}=x;p={...p,...M,...S}}return p};function o(h){e=h(n)}function c(h){const{props:p}=n,m=h1(n.parent)||{},x=[],y=new Set;let S={},M=1/0;for(let w=0;w<rA;w++){const _=iA[w],R=t[_],N=p[_]!==void 0?p[_]:m[_],I=cl(N),D=_===h?R.isActive:null;D===!1&&(M=w);let k=N===m[_]&&N!==p[_]&&I;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),R.protectedKeys={...S},!R.isActive&&D===null||!N&&!R.prevProp||Bu(N)||typeof N=="boolean")continue;const F=oA(R.prevProp,N);let j=F||_===h&&R.isActive&&!k&&I||w>M&&I,A=!1;const P=Array.isArray(N)?N:[N];let H=P.reduce(a(_),{});D===!1&&(H={});const{prevResolvedValues:ae={}}=R,te={...ae,...H},pe=K=>{j=!0,y.has(K)&&(A=!0,y.delete(K)),R.needsAnimating[K]=!0;const $=n.getValue(K);$&&($.liveStyle=!1)};for(const K in te){const $=H[K],fe=ae[K];if(S.hasOwnProperty(K))continue;let ie=!1;Gh($)&&Gh(fe)?ie=!f1($,fe):ie=$!==fe,ie?$!=null?pe(K):y.add(K):$!==void 0&&y.has(K)?pe(K):R.protectedKeys[K]=!0}R.prevProp=N,R.prevResolvedValues=H,R.isActive&&(S={...S,...H}),r&&n.blockInitialAnimation&&(j=!1);const de=k&&F;j&&(!de||A)&&x.push(...P.map(K=>{const $={type:_};if(typeof K=="string"&&r&&!de&&n.manuallyAnimateOnMount&&n.parent){const{parent:fe}=n,ie=ka(fe,K);if(fe.enteringChildren&&ie){const{delayChildren:O}=ie.transition||{};$.delay=d1(fe.enteringChildren,n,O)}}return{animation:K,options:$}}))}if(y.size){const w={};if(typeof p.initial!="boolean"){const _=ka(n,Array.isArray(p.initial)?p.initial[0]:p.initial);_&&_.transition&&(w.transition=_.transition)}y.forEach(_=>{const R=n.getBaseTarget(_),N=n.getValue(_);N&&(N.liveStyle=!0),w[_]=R??null}),x.push({animation:w})}let T=!!x.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(x):Promise.resolve()}function d(h,p){if(t[h].isActive===p)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(h,p)),t[h].isActive=p;const m=c(h);for(const x in t)t[x].protectedKeys={};return m}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>t,reset:()=>{t=ey()}}}function oA(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!f1(e,n):!1}function Ss(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ey(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lA extends is{constructor(e){super(e),e.animationState||(e.animationState=aA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cA=0;class uA extends is{constructor(){super(...arguments),this.id=cA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dA={animation:{Feature:lA},exit:{Feature:uA}};function ul(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function _l(n){return{point:{x:n.pageX,y:n.pageY}}}const fA=n=>e=>gm(e)&&n(e,_l(e));function il(n,e,t,r){return ul(n,e,fA(t),r)}const p1=1e-4,hA=1-p1,pA=1+p1,m1=.01,mA=0-m1,gA=0+m1;function Gn(n){return n.max-n.min}function xA(n,e,t){return Math.abs(n-e)<=t}function ty(n,e,t,r=.5){n.origin=r,n.originPoint=Jt(e.min,e.max,n.origin),n.scale=Gn(t)/Gn(e),n.translate=Jt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=hA&&n.scale<=pA||isNaN(n.scale))&&(n.scale=1),(n.translate>=mA&&n.translate<=gA||isNaN(n.translate))&&(n.translate=0)}function rl(n,e,t,r){ty(n.x,e.x,t.x,r?r.originX:void 0),ty(n.y,e.y,t.y,r?r.originY:void 0)}function ny(n,e,t){n.min=t.min+e.min,n.max=n.min+Gn(e)}function yA(n,e,t){ny(n.x,e.x,t.x),ny(n.y,e.y,t.y)}function iy(n,e,t){n.min=e.min-t.min,n.max=n.min+Gn(e)}function Cu(n,e,t){iy(n.x,e.x,t.x),iy(n.y,e.y,t.y)}function xi(n){return[n("x"),n("y")]}const g1=({current:n})=>n?n.ownerDocument.defaultView:null,ry=(n,e)=>Math.abs(n-e);function vA(n,e){const t=ry(n.x,e.x),r=ry(n.y,e.y);return Math.sqrt(t**2+r**2)}const sy=new Set(["auto","scroll"]);class x1{constructor(e,t,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Of(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,T=vA(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!T)return;const{point:w}=S,{timestamp:_}=Sn;this.history.push({...w,timestamp:_});const{onStart:R,onMove:N}=this.handlers;M||(R&&R(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ff(M,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:T,onSessionEnd:w,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Of(S.type==="pointercancel"?this.lastMoveEventInfo:Ff(M,this.transformPagePoint),this.history);this.startEvent&&T&&T(S,R),w&&w(S,R)},!gm(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const h=_l(e),p=Ff(h,this.transformPagePoint),{point:m}=p,{timestamp:x}=Sn;this.history=[{...m,timestamp:x}];const{onSessionStart:y}=t;y&&y(e,Of(p,this.history)),this.removeListeners=xl(il(this.contextWindow,"pointermove",this.handlePointerMove),il(this.contextWindow,"pointerup",this.handlePointerUp),il(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let t=e.parentElement;for(;t;){const r=getComputedStyle(t);(sy.has(r.overflowX)||sy.has(r.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),Ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Oi(this.updatePoint)}}function Ff(n,e){return e?{point:e(n.point)}:n}function ay(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Of({point:n},e){return{point:n,delta:ay(n,y1(e)),offset:ay(n,_A(e)),velocity:SA(e,.1)}}function _A(n){return n[0]}function y1(n){return n[n.length-1]}function SA(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=y1(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>xr(e)));)t--;if(!r)return{x:0,y:0};const o=_i(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function wA(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jt(t,n,r.max):Math.min(n,t)),n}function oy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function MA(n,{top:e,left:t,bottom:r,right:a}){return{x:oy(n.x,t,a),y:oy(n.y,e,r)}}function ly(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function bA(n,e){return{x:ly(n.x,e.x),y:ly(n.y,e.y)}}function EA(n,e){let t=.5;const r=Gn(n),a=Gn(e);return a>r?t=Va(e.min,e.max-r,n.min):r>a&&(t=Va(n.min,n.max-a,e.min)),Fi(0,1,t)}function TA(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $h=.35;function AA(n=$h){return n===!1?n=0:n===!0&&(n=$h),{x:cy(n,"left","right"),y:cy(n,"top","bottom")}}function cy(n,e,t){return{min:uy(n,e),max:uy(n,t)}}function uy(n,e){return typeof n=="number"?n:n[e]||0}const CA=new WeakMap;class NA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=x=>{t?(this.stopAnimation(),this.snapToCursor(_l(x).point)):this.pauseAnimation()},c=(x,y)=>{this.stopAnimation();const{drag:S,dragPropagation:M,onDragStart:T}=this.getProps();if(S&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EE(S),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(_=>{let R=this.getAxisMotionValue(_).get()||0;if(Zi.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[_];I&&(R=Gn(I)*(parseFloat(R)/100))}}this.originPoint[_]=R}),T&&Ft.postRender(()=>T(x,y)),Wh(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},d=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y;const{dragPropagation:S,dragDirectionLock:M,onDirectionLock:T,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:_}=y;if(M&&this.currentDirection===null){this.currentDirection=RA(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),w&&w(x,y)},h=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y,this.stop(x,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>xi(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new x1(e,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:g1(this.visualElement),element:this.visualElement.current})}stop(e,t){const r=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ft.postRender(()=>d(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!Uc(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=wA(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MA(r.layoutBox,e):this.constraints=!1,this.elastic=AA(t),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=TA(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Zo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=PT(r,a.root,this.visualElement.getTransformPagePoint());let c=bA(a.layout.layoutBox,o);if(t){const d=t(CT(c));this.hasMutatedConstraints=!!d,d&&(c=t1(d))}return c}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=xi(m=>{if(!Uc(m,t,this.currentDirection))return;let x=h&&h[m]||{};c&&(x={min:0,max:0});const y=a?200:1e6,S=a?40:1e7,M={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(m,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Wh(this.visualElement,e),r.start(Tm(e,r,0,t,this.visualElement,!1))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xi(t=>{const{drag:r}=this.getProps();if(!Uc(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[t],h=o.get()||0;o.set(e[t]-Jt(c,d,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Zo(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=EA({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(c=>{if(!Uc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(Jt(h,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;CA.set(this.visualElement,this);const e=this.visualElement.current,t=il(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&!O_(h.target)&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Zo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(r);const c=ul(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(xi(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=h[m].translate,x.set(x.get()+h[m].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=$h,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Uc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function RA(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class PA extends is{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new NA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const dy=n=>(e,t)=>{n&&Ft.postRender(()=>n(e,t))};class IA extends is{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new x1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:dy(e),onStart:dy(t),onMove:r,onEnd:(o,c)=>{delete this.session,a&&Ft.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bf=!1;class DA extends Me.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),Bf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),mu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,Bf=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Ft.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;Bf=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function v1(n){const[e,t]=V_(),r=Me.useContext($p);return u.jsx(DA,{...n,layoutGroup:r,switchLayoutGroup:Me.useContext(Q_),isPresent:e,safeToRemove:t})}function LA(n,e,t){const r=Dn(n)?n:Li(n);return r.start(Tm("",r,e,t)),r.animation}const kA=(n,e)=>n.depth-e.depth;class UA{constructor(){this.children=[],this.isDirty=!1}add(e){qp(this.children,e),this.isDirty=!0}remove(e){Kp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kA),this.isDirty=!1,this.children.forEach(e)}}function FA(n,e){const t=Hn.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Oi(r),n(o-e))};return Ft.setup(r,!0),()=>Oi(r)}const _1=["TopLeft","TopRight","BottomLeft","BottomRight"],OA=_1.length,fy=n=>typeof n=="string"?parseFloat(n):n,hy=n=>typeof n=="number"||Ve.test(n);function BA(n,e,t,r,a,o){a?(n.opacity=Jt(0,t.opacity??1,jA(r)),n.opacityExit=Jt(e.opacity??1,0,VA(r))):o&&(n.opacity=Jt(e.opacity??1,t.opacity??1,r));for(let c=0;c<OA;c++){const d=`border${_1[c]}Radius`;let h=py(e,d),p=py(t,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||hy(h)===hy(p)?(n[d]=Math.max(Jt(fy(h),fy(p),r),0),(Zi.test(p)||Zi.test(h))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=Jt(e.rotate||0,t.rotate||0,r))}function py(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jA=S1(0,.5,n_),VA=S1(.5,.95,Zn);function S1(n,e,t){return r=>r<n?0:r>e?1:t(Va(n,e,r))}function my(n,e){n.min=e.min,n.max=e.max}function Ni(n,e){my(n.x,e.x),my(n.y,e.y)}function gy(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function xy(n,e,t,r,a){return n-=e,n=Au(n,1/t,r),a!==void 0&&(n=Au(n,1/a,r)),n}function zA(n,e=0,t=1,r=.5,a,o=n,c=n){if(Zi.test(e)&&(e=parseFloat(e),e=Jt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Jt(o.min,o.max,r);n===o&&(d-=e),n.min=xy(n.min,e,t,d,a),n.max=xy(n.max,e,t,d,a)}function yy(n,e,[t,r,a],o,c){zA(n,e[t],e[r],e[a],e.scale,o,c)}const HA=["x","scaleX","originX"],GA=["y","scaleY","originY"];function vy(n,e,t,r){yy(n.x,e,HA,t?t.x:void 0,r?r.x:void 0),yy(n.y,e,GA,t?t.y:void 0,r?r.y:void 0)}function _y(n){return n.translate===0&&n.scale===1}function w1(n){return _y(n.x)&&_y(n.y)}function Sy(n,e){return n.min===e.min&&n.max===e.max}function WA(n,e){return Sy(n.x,e.x)&&Sy(n.y,e.y)}function wy(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function M1(n,e){return wy(n.x,e.x)&&wy(n.y,e.y)}function My(n){return Gn(n.x)/Gn(n.y)}function by(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class XA{constructor(){this.members=[]}add(e){qp(this.members,e),e.scheduleRender()}remove(e){if(Kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $A(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,c=t?.z||0;if((a||o||c)&&(r=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:x,rotateY:y,skewX:S,skewY:M}=t;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),x&&(r+=`rotateX(${x}deg) `),y&&(r+=`rotateY(${y}deg) `),S&&(r+=`skewX(${S}deg) `),M&&(r+=`skewY(${M}deg) `)}const d=n.x.scale*e.x,h=n.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const jf=["","X","Y","Z"],YA=1e3;let qA=0;function Vf(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function b1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=c1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ft,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&b1(r)}function E1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=qA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JA),this.nodes.forEach(nC),this.nodes.forEach(iC),this.nodes.forEach(QA)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new UA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jp),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xm(c)&&!BE(c),this.instance=c;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),n){let m,x=0;const y=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{x=window.innerWidth}),n(c,()=>{const S=window.innerWidth;S!==x&&(x=S,this.root.updateBlockedByResize=!0,m&&m(),m=FA(y,250),mu.hasAnimatedSinceResize&&(mu.hasAnimatedSinceResize=!1,this.nodes.forEach(Ay)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||lC,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=p.getProps(),_=!this.targetLayout||!M1(this.targetLayout,S),R=!x&&y;if(this.options.layoutRoot||this.resumeFrom||R||x&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...fm(M,"layout"),onPlay:T,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,R)}else x||Ay(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rC),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ey);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tC),this.nodes.forEach(KA),this.nodes.forEach(ZA)):this.nodes.forEach(Ty),this.clearAllSnapshots();const d=Hn.now();Sn.delta=Fi(0,1e3/60,d-Sn.timestamp),Sn.timestamp=d,Sn.isProcessing=!0,Cf.update.process(Sn),Cf.preRender.process(Sn),Cf.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eC),this.sharedNodes.forEach(sC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!w1(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Cs(this.latestValues)||m)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),cC(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return fn();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uC))){const{scroll:p}=this.root;p&&(Pa(d.x,p.offset.x),Pa(d.y,p.offset.y))}return d}removeElementScroll(c){const d=fn();if(Ni(d,c),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:x}=p;p!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&Ni(d,c),Pa(d.x,m.offset.x),Pa(d.y,m.offset.y))}return d}applyTransform(c,d=!1){const h=fn();Ni(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ia(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Cs(m.latestValues)&&Ia(h,m.latestValues)}return Cs(this.latestValues)&&Ia(h,this.latestValues),h}removeTransform(c){const d=fn();Ni(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Cs(p.latestValues))continue;Vh(p.latestValues)&&p.updateSnapshot();const m=fn(),x=p.measurePageBox();Ni(m,x),vy(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Cs(this.latestValues)&&vy(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!this.layout||!(m||x))return;this.resolvedRelativeTargetAt=Sn.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),i1(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vh(this.parent.latestValues)||n1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Cu(this.relativeTargetOrigin,d,h),Ni(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Ni(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;RT(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=fn());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gy(this.prevProjectionDelta.x,this.projectionDelta.x),gy(this.prevProjectionDelta.y,this.projectionDelta.y)),rl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!by(this.projectionDelta.x,this.prevProjectionDelta.x)||!by(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},x=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=fn(),S=h?h.source:void 0,M=this.layout?this.layout.source:void 0,T=S!==M,w=this.getStack(),_=!w||w.members.length<=1,R=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(oC));this.animationProgress=0;let N;this.mixTargetDelta=I=>{const D=I/1e3;Cy(x.x,c.x,D),Cy(x.y,c.y,D),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aC(this.relativeTarget,this.relativeTargetOrigin,y,D),N&&WA(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=fn()),Ni(N,this.relativeTarget)),T&&(this.animationValues=m,BA(m,p,this.latestValues,D,R,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Oi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{mu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Li(0)),this.currentAnimation=LA(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:m}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&T1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||fn();const x=Gn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const y=Gn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}Ni(d,h),Ia(d,m),rl(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new XA),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Vf("z",c,p,this.animationValues);for(let m=0;m<jf.length;m++)Vf(`rotate${jf[m]}`,c,p,this.animationValues),Vf(`skew${jf[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=pu(d?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=pu(d?.pointerEvents)||""),this.hasProjected&&!Cs(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=$A(this.projectionDeltaWithTransform,this.treeScale,m);h&&(x=h(m,x)),c.transform=x;const{x:y,y:S}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const M in jh){if(m[M]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:_}=jh[M],R=x==="none"?m[M]:T(m[M],p);if(w){const N=w.length;for(let I=0;I<N;I++)c[w[I]]=R}else _?this.options.visualElement.renderState.vars[M]=R:c[M]=R}this.options.layoutId&&(c.pointerEvents=p===this?pu(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Ey),this.root.sharedNodes.clear()}}}function KA(n){n.updateLayout()}function ZA(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?xi(m=>{const x=o?e.measuredBox[m]:e.layoutBox[m],y=Gn(x);x.min=t[m].min,x.max=x.min+y}):T1(a,e.layoutBox,t)&&xi(m=>{const x=o?e.measuredBox[m]:e.layoutBox[m],y=Gn(t[m]);x.max=x.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const c=Da();rl(c,t,e.layoutBox);const d=Da();o?rl(d,n.applyTransform(r,!0),e.measuredBox):rl(d,t,e.layoutBox);const h=!w1(c);let p=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:y}=m;if(x&&y){const S=fn();Cu(S,e.layoutBox,x.layoutBox);const M=fn();Cu(M,t,y.layoutBox),M1(S,M)||(p=!0),m.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=S,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function JA(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function QA(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eC(n){n.clearSnapshot()}function Ey(n){n.clearMeasurements()}function Ty(n){n.isLayoutDirty=!1}function tC(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ay(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function nC(n){n.resolveTargetDelta()}function iC(n){n.calcProjection()}function rC(n){n.resetSkewAndRotation()}function sC(n){n.removeLeadSnapshot()}function Cy(n,e,t){n.translate=Jt(e.translate,0,t),n.scale=Jt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Ny(n,e,t,r){n.min=Jt(e.min,t.min,r),n.max=Jt(e.max,t.max,r)}function aC(n,e,t,r){Ny(n.x,e.x,t.x,r),Ny(n.y,e.y,t.y,r)}function oC(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const lC={duration:.45,ease:[.4,0,.1,1]},Ry=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Py=Ry("applewebkit/")&&!Ry("chrome/")?Math.round:Zn;function Iy(n){n.min=Py(n.min),n.max=Py(n.max)}function cC(n){Iy(n.x),Iy(n.y)}function T1(n,e,t){return n==="position"||n==="preserve-aspect"&&!xA(My(e),My(t),.2)}function uC(n){return n!==n.root&&n.scroll?.wasRoot}const dC=E1({attachResizeListener:(n,e)=>ul(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zf={current:void 0},A1=E1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!zf.current){const n=new dC({});n.mount(window),n.setOptions({layoutScroll:!0}),zf.current=n}return zf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),fC={pan:{Feature:IA},drag:{Feature:PA,ProjectionNode:A1,MeasureLayout:v1}};function Dy(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&Ft.postRender(()=>o(e,_l(e)))}class hC extends is{mount(){const{current:e}=this.node;e&&(this.unmount=TE(e,(t,r)=>(Dy(this.node,r,"Start"),a=>Dy(this.node,a,"End"))))}unmount(){}}class pC extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xl(ul(this.node.current,"focus",()=>this.onFocus()),ul(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ly(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&Ft.postRender(()=>o(e,_l(e)))}class mC extends is{mount(){const{current:e}=this.node;e&&(this.unmount=NE(e,(t,r)=>(Ly(this.node,r,"Start"),(a,{success:o})=>Ly(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yh=new WeakMap,Hf=new WeakMap,gC=n=>{const e=Yh.get(n.target);e&&e(n)},xC=n=>{n.forEach(gC)};function yC({root:n,...e}){const t=n||document;Hf.has(t)||Hf.set(t,{});const r=Hf.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(xC,{root:n,...e})),r[a]}function vC(n,e,t){const r=yC(e);return Yh.set(n,t),r.observe(n),()=>{Yh.delete(n),r.unobserve(n)}}const _C={some:0,all:1};class SC extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:_C[a]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),y=p?m:x;y&&y(h)};return vC(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wC(e,t))&&this.startObserver()}unmount(){}}function wC({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const MC={inView:{Feature:SC},tap:{Feature:mC},focus:{Feature:pC},hover:{Feature:hC}},bC={layout:{ProjectionNode:A1,MeasureLayout:v1}},EC={...dA,...MC,...fC,...bC},X=AT(EC,jT),TC=50,ky=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),AC=()=>({time:0,x:ky(),y:ky()}),CC={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Uy(n,e,t,r){const a=t[e],{length:o,position:c}=CC[e],d=a.current,h=t.time;a.current=n[`scroll${c}`],a.scrollLength=n[`scroll${o}`]-n[`client${o}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Va(0,a.scrollLength,a.current);const p=r-h;a.velocity=p>TC?0:Qp(a.current-d,p)}function NC(n,e,t){Uy(n,"x",e,t),Uy(n,"y",e,t),e.time=t}function RC(n,e){const t={x:0,y:0};let r=n;for(;r&&r!==e;)if(pm(r))t.x+=r.offsetLeft,t.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const a=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();t.x+=a.left-o.left,t.y+=a.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:a,y:o}=r.getBBox();t.x+=a,t.y+=o;let c=null,d=r.parentNode;for(;!c;)d.tagName==="svg"&&(c=d),d=r.parentNode;r=c}else break;return t}const qh={start:0,center:.5,end:1};function Fy(n,e,t=0){let r=0;if(n in qh&&(n=qh[n]),typeof n=="string"){const a=parseFloat(n);n.endsWith("px")?r=a:n.endsWith("%")?n=a/100:n.endsWith("vw")?r=a/100*document.documentElement.clientWidth:n.endsWith("vh")?r=a/100*document.documentElement.clientHeight:n=a}return typeof n=="number"&&(r=e*n),t+r}const PC=[0,0];function IC(n,e,t,r){let a=Array.isArray(n)?n:PC,o=0,c=0;return typeof n=="number"?a=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?a=n.split(" "):a=[n,qh[n]?n:"0"]),o=Fy(a[0],t,r),c=Fy(a[1],e),o-c}const DC={All:[[0,0],[1,1]]},LC={x:0,y:0};function kC(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function UC(n,e,t){const{offset:r=DC.All}=t,{target:a=n,axis:o="y"}=t,c=o==="y"?"height":"width",d=a!==n?RC(a,n):LC,h=a===n?{width:n.scrollWidth,height:n.scrollHeight}:kC(a),p={width:n.clientWidth,height:n.clientHeight};e[o].offset.length=0;let m=!e[o].interpolate;const x=r.length;for(let y=0;y<x;y++){const S=IC(r[y],p[c],h[c],d[o]);!m&&S!==e[o].interpolatorOffsets[y]&&(m=!0),e[o].offset[y]=S}m&&(e[o].interpolate=om(e[o].offset,y_(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Fi(0,1,e[o].interpolate(e[o].current))}function FC(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let r=e;for(;r&&r!==n;)t.x.targetOffset+=r.offsetLeft,t.y.targetOffset+=r.offsetTop,r=r.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function OC(n,e,t,r={}){return{measure:a=>{FC(n,r.target,t),NC(n,t,a),(r.offset||r.target)&&UC(n,t,r)},notify:()=>e(t)}}const Bo=new WeakMap,Oy=new WeakMap,Gf=new WeakMap,By=n=>n===document.scrollingElement?window:n;function C1(n,{container:e=document.scrollingElement,...t}={}){if(!e)return Zn;let r=Gf.get(e);r||(r=new Set,Gf.set(e,r));const a=AC(),o=OC(e,n,a,t);if(r.add(o),!Bo.has(e)){const d=()=>{for(const x of r)x.measure(Sn.timestamp);Ft.preUpdate(h)},h=()=>{for(const x of r)x.notify()},p=()=>Ft.read(d);Bo.set(e,p);const m=By(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&Oy.set(e,OE(e,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const c=Bo.get(e);return Ft.read(c,!1,!0),()=>{Oi(c);const d=Gf.get(e);if(!d||(d.delete(o),d.size))return;const h=Bo.get(e);Bo.delete(e),h&&(By(e).removeEventListener("scroll",h),Oy.get(e)?.(),window.removeEventListener("resize",h))}}const jy=new Map;function BC(n){const e={value:0},t=C1(r=>{e.value=r[n.axis].progress*100},n);return{currentTime:e,cancel:t}}function N1({source:n,container:e,...t}){const{axis:r}=t;n&&(e=n);const a=jy.get(e)??new Map;jy.set(e,a);const o=t.target??"self",c=a.get(o)??{},d=r+(t.offset??[]).join(",");return c[d]||(c[d]=!t.target&&w_()?new ScrollTimeline({source:e,axis:r}):BC({container:e,...t})),c[d]}function jC(n,e){const t=N1(e);return n.attachTimeline({timeline:e.target?void 0:t,observe:r=>(r.pause(),j_(a=>{r.time=r.iterationDuration*a},t))})}function VC(n){return n.length===2}function zC(n,e){return VC(n)?C1(t=>{n(t[e.axis].progress,t)},e):j_(n,N1(e))}function HC(n,{axis:e="y",container:t=document.scrollingElement,...r}={}){if(!t)return Zn;const a={axis:e,container:t,...r};return typeof n=="function"?zC(n,a):jC(n,a)}const GC=()=>({scrollX:Li(0),scrollY:Li(0),scrollXProgress:Li(0),scrollYProgress:Li(0)}),Fc=n=>n?!n.current:!1;function R1({container:n,target:e,...t}={}){const r=Ya(GC),a=Me.useRef(null),o=Me.useRef(!1),c=Me.useCallback(()=>(a.current=HC((d,{x:h,y:p})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(p.current),r.scrollYProgress.set(p.progress)},{...t,container:n?.current||void 0,target:e?.current||void 0}),()=>{a.current?.()}),[n,e,JSON.stringify(t.offset)]);return ku(()=>{if(o.current=!1,Fc(n)||Fc(e)){o.current=!0;return}else return c()},[c]),Me.useEffect(()=>{if(o.current)return al(!Fc(n)),al(!Fc(e)),c()},[c]),r}function WC(n){const e=Ya(()=>Li(n)),{isStatic:t}=Me.useContext(Fu);if(t){const[,r]=Me.useState(n);Me.useEffect(()=>e.on("change",r),[])}return e}function P1(n,e){const t=WC(e()),r=()=>t.set(e());return r(),ku(()=>{const a=()=>Ft.preRender(r,!1,!0),o=n.map(c=>c.on("change",a));return()=>{o.forEach(c=>c()),Oi(r)}}),t}function XC(n){nl.current=[],n();const e=P1(nl.current,n);return nl.current=void 0,e}function sl(n,e,t,r){if(typeof n=="function")return XC(n);const a=typeof e=="function"?e:jE(e,t,r);return Array.isArray(n)?Vy(n,a):Vy([n],([o])=>a(o))}function Vy(n,e){const t=Ya(()=>[]);return P1(n,()=>{t.length=0;const r=n.length;for(let a=0;a<r;a++)t[a]=n[a].get();return e(t)})}/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Am="182",$C=0,zy=1,YC=2,gu=1,qC=2,Jo=3,ns=0,Jn=1,mr=2,yr=0,Ua=1,Hy=2,Gy=3,Wy=4,KC=5,Rs=100,ZC=101,JC=102,QC=103,e3=104,t3=200,n3=201,i3=202,r3=203,Kh=204,Zh=205,s3=206,a3=207,o3=208,l3=209,c3=210,u3=211,d3=212,f3=213,h3=214,Jh=0,Qh=1,ep=2,Ha=3,tp=4,np=5,ip=6,rp=7,I1=0,p3=1,m3=2,Ji=0,D1=1,L1=2,k1=3,U1=4,F1=5,O1=6,B1=7,j1=300,Fs=301,Ga=302,sp=303,ap=304,Vu=306,op=1e3,gr=1001,lp=1002,bn=1003,g3=1004,Oc=1005,Ln=1006,Wf=1007,Ls=1008,oi=1009,V1=1010,z1=1011,dl=1012,Cm=1013,er=1014,qi=1015,Sr=1016,Nm=1017,Rm=1018,fl=1020,H1=35902,G1=35899,W1=1021,X1=1022,ki=1023,wr=1026,ks=1027,$1=1028,Pm=1029,Wa=1030,Im=1031,Dm=1033,xu=33776,yu=33777,vu=33778,_u=33779,cp=35840,up=35841,dp=35842,fp=35843,hp=36196,pp=37492,mp=37496,gp=37488,xp=37489,yp=37490,vp=37491,_p=37808,Sp=37809,wp=37810,Mp=37811,bp=37812,Ep=37813,Tp=37814,Ap=37815,Cp=37816,Np=37817,Rp=37818,Pp=37819,Ip=37820,Dp=37821,Lp=36492,kp=36494,Up=36495,Fp=36283,Op=36284,Bp=36285,jp=36286,x3=3200,y3=0,v3=1,Zr="",yi="srgb",Xa="srgb-linear",Nu="linear",Bt="srgb",ua=7680,Xy=519,_3=512,S3=513,w3=514,Lm=515,M3=516,b3=517,km=518,E3=519,Vp=35044,$y="300 es",Ki=2e3,Ru=2001;function Y1(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function hl(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function T3(){const n=hl("canvas");return n.style.display="block",n}const Yy={};function Pu(...n){const e="THREE."+n.shift();console.log(e,...n)}function dt(...n){const e="THREE."+n.shift();console.warn(e,...n)}function Nt(...n){const e="THREE."+n.shift();console.error(e,...n)}function pl(...n){const e=n.join(" ");e in Yy||(Yy[e]=!0,dt(...n))}function A3(n,e,t){return new Promise(function(r,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}class Ja{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,c=a.length;o<c;o++)a[o].call(this,e);e.target=null}}}const Pn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xf=Math.PI/180,zp=180/Math.PI;function es(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Pn[n&255]+Pn[n>>8&255]+Pn[n>>16&255]+Pn[n>>24&255]+"-"+Pn[e&255]+Pn[e>>8&255]+"-"+Pn[e>>16&15|64]+Pn[e>>24&255]+"-"+Pn[t&63|128]+Pn[t>>8&255]+"-"+Pn[t>>16&255]+Pn[t>>24&255]+Pn[r&255]+Pn[r>>8&255]+Pn[r>>16&255]+Pn[r>>24&255]).toLowerCase()}function Mt(n,e,t){return Math.max(e,Math.min(t,n))}function C3(n,e){return(n%e+e)%e}function $f(n,e,t){return(1-t)*n+t*e}function Yi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Vt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}class _t{constructor(e=0,t=0){_t.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6],this.y=a[1]*t+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),a=Math.sin(t),o=this.x-e.x,c=this.y-e.y;return this.x=o*r-c*a+e.x,this.y=o*a+c*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Sl{constructor(e=0,t=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=a}static slerpFlat(e,t,r,a,o,c,d){let h=r[a+0],p=r[a+1],m=r[a+2],x=r[a+3],y=o[c+0],S=o[c+1],M=o[c+2],T=o[c+3];if(d<=0){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=x;return}if(d>=1){e[t+0]=y,e[t+1]=S,e[t+2]=M,e[t+3]=T;return}if(x!==T||h!==y||p!==S||m!==M){let w=h*y+p*S+m*M+x*T;w<0&&(y=-y,S=-S,M=-M,T=-T,w=-w);let _=1-d;if(w<.9995){const R=Math.acos(w),N=Math.sin(R);_=Math.sin(_*R)/N,d=Math.sin(d*R)/N,h=h*_+y*d,p=p*_+S*d,m=m*_+M*d,x=x*_+T*d}else{h=h*_+y*d,p=p*_+S*d,m=m*_+M*d,x=x*_+T*d;const R=1/Math.sqrt(h*h+p*p+m*m+x*x);h*=R,p*=R,m*=R,x*=R}}e[t]=h,e[t+1]=p,e[t+2]=m,e[t+3]=x}static multiplyQuaternionsFlat(e,t,r,a,o,c){const d=r[a],h=r[a+1],p=r[a+2],m=r[a+3],x=o[c],y=o[c+1],S=o[c+2],M=o[c+3];return e[t]=d*M+m*x+h*S-p*y,e[t+1]=h*M+m*y+p*x-d*S,e[t+2]=p*M+m*S+d*y-h*x,e[t+3]=m*M-d*x-h*y-p*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,a=e._y,o=e._z,c=e._order,d=Math.cos,h=Math.sin,p=d(r/2),m=d(a/2),x=d(o/2),y=h(r/2),S=h(a/2),M=h(o/2);switch(c){case"XYZ":this._x=y*m*x+p*S*M,this._y=p*S*x-y*m*M,this._z=p*m*M+y*S*x,this._w=p*m*x-y*S*M;break;case"YXZ":this._x=y*m*x+p*S*M,this._y=p*S*x-y*m*M,this._z=p*m*M-y*S*x,this._w=p*m*x+y*S*M;break;case"ZXY":this._x=y*m*x-p*S*M,this._y=p*S*x+y*m*M,this._z=p*m*M+y*S*x,this._w=p*m*x-y*S*M;break;case"ZYX":this._x=y*m*x-p*S*M,this._y=p*S*x+y*m*M,this._z=p*m*M-y*S*x,this._w=p*m*x+y*S*M;break;case"YZX":this._x=y*m*x+p*S*M,this._y=p*S*x+y*m*M,this._z=p*m*M-y*S*x,this._w=p*m*x-y*S*M;break;case"XZY":this._x=y*m*x-p*S*M,this._y=p*S*x-y*m*M,this._z=p*m*M+y*S*x,this._w=p*m*x+y*S*M;break;default:dt("Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],a=t[4],o=t[8],c=t[1],d=t[5],h=t[9],p=t[2],m=t[6],x=t[10],y=r+d+x;if(y>0){const S=.5/Math.sqrt(y+1);this._w=.25/S,this._x=(m-h)*S,this._y=(o-p)*S,this._z=(c-a)*S}else if(r>d&&r>x){const S=2*Math.sqrt(1+r-d-x);this._w=(m-h)/S,this._x=.25*S,this._y=(a+c)/S,this._z=(o+p)/S}else if(d>x){const S=2*Math.sqrt(1+d-r-x);this._w=(o-p)/S,this._x=(a+c)/S,this._y=.25*S,this._z=(h+m)/S}else{const S=2*Math.sqrt(1+x-r-d);this._w=(c-a)/S,this._x=(o+p)/S,this._y=(h+m)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mt(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,t/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,a=e._y,o=e._z,c=e._w,d=t._x,h=t._y,p=t._z,m=t._w;return this._x=r*m+c*d+a*p-o*h,this._y=a*m+c*h+o*d-r*p,this._z=o*m+c*p+r*h-a*d,this._w=c*m-r*d-a*h-o*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,a=e._y,o=e._z,c=e._w,d=this.dot(e);d<0&&(r=-r,a=-a,o=-o,c=-c,d=-d);let h=1-t;if(d<.9995){const p=Math.acos(d),m=Math.sin(p);h=Math.sin(h*p)/m,t=Math.sin(t*p)/m,this._x=this._x*h+r*t,this._y=this._y*h+a*t,this._z=this._z*h+o*t,this._w=this._w*h+c*t,this._onChangeCallback()}else this._x=this._x*h+r*t,this._y=this._y*h+a*t,this._z=this._z*h+o*t,this._w=this._w*h+c*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,r=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(qy.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(qy.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*a,this.y=o[1]*t+o[4]*r+o[7]*a,this.z=o[2]*t+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=e.elements,c=1/(o[3]*t+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*a+o[12])*c,this.y=(o[1]*t+o[5]*r+o[9]*a+o[13])*c,this.z=(o[2]*t+o[6]*r+o[10]*a+o[14])*c,this}applyQuaternion(e){const t=this.x,r=this.y,a=this.z,o=e.x,c=e.y,d=e.z,h=e.w,p=2*(c*a-d*r),m=2*(d*t-o*a),x=2*(o*r-c*t);return this.x=t+h*p+c*x-d*m,this.y=r+h*m+d*p-o*x,this.z=a+h*x+o*m-c*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*a,this.y=o[1]*t+o[5]*r+o[9]*a,this.z=o[2]*t+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this.z=Mt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this.z=Mt(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,a=e.y,o=e.z,c=t.x,d=t.y,h=t.z;return this.x=a*h-o*d,this.y=o*c-r*h,this.z=r*d-a*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Yf.copy(this).projectOnVector(e),this.sub(Yf)}reflect(e){return this.sub(Yf.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const a=Math.sin(t)*e;return this.x=a*Math.sin(r),this.y=Math.cos(t)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Yf=new ee,qy=new Sl;class pt{constructor(e,t,r,a,o,c,d,h,p){pt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,c,d,h,p)}set(e,t,r,a,o,c,d,h,p){const m=this.elements;return m[0]=e,m[1]=a,m[2]=d,m[3]=t,m[4]=o,m[5]=h,m[6]=r,m[7]=c,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,c=r[0],d=r[3],h=r[6],p=r[1],m=r[4],x=r[7],y=r[2],S=r[5],M=r[8],T=a[0],w=a[3],_=a[6],R=a[1],N=a[4],I=a[7],D=a[2],k=a[5],F=a[8];return o[0]=c*T+d*R+h*D,o[3]=c*w+d*N+h*k,o[6]=c*_+d*I+h*F,o[1]=p*T+m*R+x*D,o[4]=p*w+m*N+x*k,o[7]=p*_+m*I+x*F,o[2]=y*T+S*R+M*D,o[5]=y*w+S*N+M*k,o[8]=y*_+S*I+M*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],c=e[4],d=e[5],h=e[6],p=e[7],m=e[8];return t*c*m-t*d*p-r*o*m+r*d*h+a*o*p-a*c*h}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],c=e[4],d=e[5],h=e[6],p=e[7],m=e[8],x=m*c-d*p,y=d*h-m*o,S=p*o-c*h,M=t*x+r*y+a*S;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=x*T,e[1]=(a*p-m*r)*T,e[2]=(d*r-a*c)*T,e[3]=y*T,e[4]=(m*t-a*h)*T,e[5]=(a*o-d*t)*T,e[6]=S*T,e[7]=(r*h-p*t)*T,e[8]=(c*t-r*o)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,a,o,c,d){const h=Math.cos(o),p=Math.sin(o);return this.set(r*h,r*p,-r*(h*c+p*d)+c+e,-a*p,a*h,-a*(-p*c+h*d)+d+t,0,0,1),this}scale(e,t){return this.premultiply(qf.makeScale(e,t)),this}rotate(e){return this.premultiply(qf.makeRotation(-e)),this}translate(e,t){return this.premultiply(qf.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<9;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qf=new pt,Ky=new pt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Zy=new pt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function N3(){const n={enabled:!0,workingColorSpace:Xa,spaces:{},convert:function(a,o,c){return this.enabled===!1||o===c||!o||!c||(this.spaces[o].transfer===Bt&&(a.r=vr(a.r),a.g=vr(a.g),a.b=vr(a.b)),this.spaces[o].primaries!==this.spaces[c].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[c].fromXYZ)),this.spaces[c].transfer===Bt&&(a.r=Fa(a.r),a.g=Fa(a.g),a.b=Fa(a.b))),a},workingToColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},colorSpaceToWorking:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Zr?Nu:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,c){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[c].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,o){return pl("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,o)},toWorkingColorSpace:function(a,o){return pl("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,o)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Xa]:{primaries:e,whitePoint:r,transfer:Nu,toXYZ:Ky,fromXYZ:Zy,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:yi},outputColorSpaceConfig:{drawingBufferColorSpace:yi}},[yi]:{primaries:e,whitePoint:r,transfer:Bt,toXYZ:Ky,fromXYZ:Zy,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:yi}}}),n}const Rt=N3();function vr(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Fa(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let da;class R3{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{da===void 0&&(da=hl("canvas")),da.width=e.width,da.height=e.height;const a=da.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),r=da}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hl("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let c=0;c<o.length;c++)o[c]=vr(o[c]/255)*255;return r.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(vr(t[r]/255)*255):t[r]=vr(t[r]);return{data:t,width:e.width,height:e.height}}else return dt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let P3=0;class Um{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:P3++}),this.uuid=es(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let c=0,d=a.length;c<d;c++)a[c].isDataTexture?o.push(Kf(a[c].image)):o.push(Kf(a[c]))}else o=Kf(a);r.url=o}return t||(e.images[this.uuid]=r),r}}function Kf(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?R3.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(dt("Texture: Unable to serialize Texture."),{})}let I3=0;const Zf=new ee;class kn extends Ja{constructor(e=kn.DEFAULT_IMAGE,t=kn.DEFAULT_MAPPING,r=gr,a=gr,o=Ln,c=Ls,d=ki,h=oi,p=kn.DEFAULT_ANISOTROPY,m=Zr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:I3++}),this.uuid=es(),this.name="",this.source=new Um(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=c,this.anisotropy=p,this.format=d,this.internalFormat=null,this.type=h,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.center=new _t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Zf).x}get height(){return this.source.getSize(Zf).y}get depth(){return this.source.getSize(Zf).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){dt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){dt(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&r&&a.isVector2&&r.isVector2||a&&r&&a.isVector3&&r.isVector3||a&&r&&a.isMatrix3&&r.isMatrix3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==j1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case op:e.x=e.x-Math.floor(e.x);break;case gr:e.x=e.x<0?0:1;break;case lp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case op:e.y=e.y-Math.floor(e.y);break;case gr:e.y=e.y<0?0:1;break;case lp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}kn.DEFAULT_IMAGE=null;kn.DEFAULT_MAPPING=j1;kn.DEFAULT_ANISOTROPY=1;class nn{constructor(e=0,t=0,r=0,a=1){nn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=this.w,c=e.elements;return this.x=c[0]*t+c[4]*r+c[8]*a+c[12]*o,this.y=c[1]*t+c[5]*r+c[9]*a+c[13]*o,this.z=c[2]*t+c[6]*r+c[10]*a+c[14]*o,this.w=c[3]*t+c[7]*r+c[11]*a+c[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,a,o;const h=e.elements,p=h[0],m=h[4],x=h[8],y=h[1],S=h[5],M=h[9],T=h[2],w=h[6],_=h[10];if(Math.abs(m-y)<.01&&Math.abs(x-T)<.01&&Math.abs(M-w)<.01){if(Math.abs(m+y)<.1&&Math.abs(x+T)<.1&&Math.abs(M+w)<.1&&Math.abs(p+S+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const N=(p+1)/2,I=(S+1)/2,D=(_+1)/2,k=(m+y)/4,F=(x+T)/4,j=(M+w)/4;return N>I&&N>D?N<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(N),a=k/r,o=F/r):I>D?I<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(I),r=k/a,o=j/a):D<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(D),r=F/o,a=j/o),this.set(r,a,o,t),this}let R=Math.sqrt((w-M)*(w-M)+(x-T)*(x-T)+(y-m)*(y-m));return Math.abs(R)<.001&&(R=1),this.x=(w-M)/R,this.y=(x-T)/R,this.z=(y-m)/R,this.w=Math.acos((p+S+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this.z=Mt(this.z,e.z,t.z),this.w=Mt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this.z=Mt(this.z,e,t),this.w=Mt(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class D3 extends Ja{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ln,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new nn(0,0,e,t),this.scissorTest=!1,this.viewport=new nn(0,0,e,t);const a={width:e,height:t,depth:r.depth},o=new kn(a);this.textures=[];const c=r.count;for(let d=0;d<c;d++)this.textures[d]=o.clone(),this.textures[d].isRenderTargetTexture=!0,this.textures[d].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Ln,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=r,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Um(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qi extends D3{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class q1 extends kn{constructor(e=null,t=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=bn,this.minFilter=bn,this.wrapR=gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class L3 extends kn{constructor(e=null,t=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=bn,this.minFilter=bn,this.wrapR=gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wl{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ri.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ri.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ri.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let c=0,d=o.count;c<d;c++)e.isMesh===!0?e.getVertexPosition(c,Ri):Ri.fromBufferAttribute(o,c),Ri.applyMatrix4(e.matrixWorld),this.expandByPoint(Ri);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Bc.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Bc.copy(r.boundingBox)),Bc.applyMatrix4(e.matrixWorld),this.union(Bc)}const a=e.children;for(let o=0,c=a.length;o<c;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ri),Ri.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jo),jc.subVectors(this.max,jo),fa.subVectors(e.a,jo),ha.subVectors(e.b,jo),pa.subVectors(e.c,jo),Gr.subVectors(ha,fa),Wr.subVectors(pa,ha),ws.subVectors(fa,pa);let t=[0,-Gr.z,Gr.y,0,-Wr.z,Wr.y,0,-ws.z,ws.y,Gr.z,0,-Gr.x,Wr.z,0,-Wr.x,ws.z,0,-ws.x,-Gr.y,Gr.x,0,-Wr.y,Wr.x,0,-ws.y,ws.x,0];return!Jf(t,fa,ha,pa,jc)||(t=[1,0,0,0,1,0,0,0,1],!Jf(t,fa,ha,pa,jc))?!1:(Vc.crossVectors(Gr,Wr),t=[Vc.x,Vc.y,Vc.z],Jf(t,fa,ha,pa,jc))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ri).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ri).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ur[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ur[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ur[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ur[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ur[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ur[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ur[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ur[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ur),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ur=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Ri=new ee,Bc=new wl,fa=new ee,ha=new ee,pa=new ee,Gr=new ee,Wr=new ee,ws=new ee,jo=new ee,jc=new ee,Vc=new ee,Ms=new ee;function Jf(n,e,t,r,a){for(let o=0,c=n.length-3;o<=c;o+=3){Ms.fromArray(n,o);const d=a.x*Math.abs(Ms.x)+a.y*Math.abs(Ms.y)+a.z*Math.abs(Ms.z),h=e.dot(Ms),p=t.dot(Ms),m=r.dot(Ms);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>d)return!1}return!0}const k3=new wl,Vo=new ee,Qf=new ee;let Fm=class{constructor(e=new ee,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):k3.setFromPoints(e).getCenter(r);let a=0;for(let o=0,c=e.length;o<c;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vo.subVectors(e,this.center);const t=Vo.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),a=(r-this.radius)*.5;this.center.addScaledVector(Vo,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Qf.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vo.copy(e.center).add(Qf)),this.expandByPoint(Vo.copy(e.center).sub(Qf))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const dr=new ee,eh=new ee,zc=new ee,Xr=new ee,th=new ee,Hc=new ee,nh=new ee;class U3{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,dr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=dr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(dr.copy(this.origin).addScaledVector(this.direction,t),dr.distanceToSquared(e))}distanceSqToSegment(e,t,r,a){eh.copy(e).add(t).multiplyScalar(.5),zc.copy(t).sub(e).normalize(),Xr.copy(this.origin).sub(eh);const o=e.distanceTo(t)*.5,c=-this.direction.dot(zc),d=Xr.dot(this.direction),h=-Xr.dot(zc),p=Xr.lengthSq(),m=Math.abs(1-c*c);let x,y,S,M;if(m>0)if(x=c*h-d,y=c*d-h,M=o*m,x>=0)if(y>=-M)if(y<=M){const T=1/m;x*=T,y*=T,S=x*(x+c*y+2*d)+y*(c*x+y+2*h)+p}else y=o,x=Math.max(0,-(c*y+d)),S=-x*x+y*(y+2*h)+p;else y=-o,x=Math.max(0,-(c*y+d)),S=-x*x+y*(y+2*h)+p;else y<=-M?(x=Math.max(0,-(-c*o+d)),y=x>0?-o:Math.min(Math.max(-o,-h),o),S=-x*x+y*(y+2*h)+p):y<=M?(x=0,y=Math.min(Math.max(-o,-h),o),S=y*(y+2*h)+p):(x=Math.max(0,-(c*o+d)),y=x>0?o:Math.min(Math.max(-o,-h),o),S=-x*x+y*(y+2*h)+p);else y=c>0?-o:o,x=Math.max(0,-(c*y+d)),S=-x*x+y*(y+2*h)+p;return r&&r.copy(this.origin).addScaledVector(this.direction,x),a&&a.copy(eh).addScaledVector(zc,y),S}intersectSphere(e,t){dr.subVectors(e.center,this.origin);const r=dr.dot(this.direction),a=dr.dot(dr)-r*r,o=e.radius*e.radius;if(a>o)return null;const c=Math.sqrt(o-a),d=r-c,h=r+c;return h<0?null:d<0?this.at(h,t):this.at(d,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,a,o,c,d,h;const p=1/this.direction.x,m=1/this.direction.y,x=1/this.direction.z,y=this.origin;return p>=0?(r=(e.min.x-y.x)*p,a=(e.max.x-y.x)*p):(r=(e.max.x-y.x)*p,a=(e.min.x-y.x)*p),m>=0?(o=(e.min.y-y.y)*m,c=(e.max.y-y.y)*m):(o=(e.max.y-y.y)*m,c=(e.min.y-y.y)*m),r>c||o>a||((o>r||isNaN(r))&&(r=o),(c<a||isNaN(a))&&(a=c),x>=0?(d=(e.min.z-y.z)*x,h=(e.max.z-y.z)*x):(d=(e.max.z-y.z)*x,h=(e.min.z-y.z)*x),r>h||d>a)||((d>r||r!==r)&&(r=d),(h<a||a!==a)&&(a=h),a<0)?null:this.at(r>=0?r:a,t)}intersectsBox(e){return this.intersectBox(e,dr)!==null}intersectTriangle(e,t,r,a,o){th.subVectors(t,e),Hc.subVectors(r,e),nh.crossVectors(th,Hc);let c=this.direction.dot(nh),d;if(c>0){if(a)return null;d=1}else if(c<0)d=-1,c=-c;else return null;Xr.subVectors(this.origin,e);const h=d*this.direction.dot(Hc.crossVectors(Xr,Hc));if(h<0)return null;const p=d*this.direction.dot(th.cross(Xr));if(p<0||h+p>c)return null;const m=-d*Xr.dot(nh);return m<0?null:this.at(m/c,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qt{constructor(e,t,r,a,o,c,d,h,p,m,x,y,S,M,T,w){Qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,c,d,h,p,m,x,y,S,M,T,w)}set(e,t,r,a,o,c,d,h,p,m,x,y,S,M,T,w){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=a,_[1]=o,_[5]=c,_[9]=d,_[13]=h,_[2]=p,_[6]=m,_[10]=x,_[14]=y,_[3]=S,_[7]=M,_[11]=T,_[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,r=e.elements,a=1/ma.setFromMatrixColumn(e,0).length(),o=1/ma.setFromMatrixColumn(e,1).length(),c=1/ma.setFromMatrixColumn(e,2).length();return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,a=e.y,o=e.z,c=Math.cos(r),d=Math.sin(r),h=Math.cos(a),p=Math.sin(a),m=Math.cos(o),x=Math.sin(o);if(e.order==="XYZ"){const y=c*m,S=c*x,M=d*m,T=d*x;t[0]=h*m,t[4]=-h*x,t[8]=p,t[1]=S+M*p,t[5]=y-T*p,t[9]=-d*h,t[2]=T-y*p,t[6]=M+S*p,t[10]=c*h}else if(e.order==="YXZ"){const y=h*m,S=h*x,M=p*m,T=p*x;t[0]=y+T*d,t[4]=M*d-S,t[8]=c*p,t[1]=c*x,t[5]=c*m,t[9]=-d,t[2]=S*d-M,t[6]=T+y*d,t[10]=c*h}else if(e.order==="ZXY"){const y=h*m,S=h*x,M=p*m,T=p*x;t[0]=y-T*d,t[4]=-c*x,t[8]=M+S*d,t[1]=S+M*d,t[5]=c*m,t[9]=T-y*d,t[2]=-c*p,t[6]=d,t[10]=c*h}else if(e.order==="ZYX"){const y=c*m,S=c*x,M=d*m,T=d*x;t[0]=h*m,t[4]=M*p-S,t[8]=y*p+T,t[1]=h*x,t[5]=T*p+y,t[9]=S*p-M,t[2]=-p,t[6]=d*h,t[10]=c*h}else if(e.order==="YZX"){const y=c*h,S=c*p,M=d*h,T=d*p;t[0]=h*m,t[4]=T-y*x,t[8]=M*x+S,t[1]=x,t[5]=c*m,t[9]=-d*m,t[2]=-p*m,t[6]=S*x+M,t[10]=y-T*x}else if(e.order==="XZY"){const y=c*h,S=c*p,M=d*h,T=d*p;t[0]=h*m,t[4]=-x,t[8]=p*m,t[1]=y*x+T,t[5]=c*m,t[9]=S*x-M,t[2]=M*x-S,t[6]=d*m,t[10]=T*x+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(F3,e,O3)}lookAt(e,t,r){const a=this.elements;return ri.subVectors(e,t),ri.lengthSq()===0&&(ri.z=1),ri.normalize(),$r.crossVectors(r,ri),$r.lengthSq()===0&&(Math.abs(r.z)===1?ri.x+=1e-4:ri.z+=1e-4,ri.normalize(),$r.crossVectors(r,ri)),$r.normalize(),Gc.crossVectors(ri,$r),a[0]=$r.x,a[4]=Gc.x,a[8]=ri.x,a[1]=$r.y,a[5]=Gc.y,a[9]=ri.y,a[2]=$r.z,a[6]=Gc.z,a[10]=ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,c=r[0],d=r[4],h=r[8],p=r[12],m=r[1],x=r[5],y=r[9],S=r[13],M=r[2],T=r[6],w=r[10],_=r[14],R=r[3],N=r[7],I=r[11],D=r[15],k=a[0],F=a[4],j=a[8],A=a[12],P=a[1],H=a[5],ae=a[9],te=a[13],pe=a[2],de=a[6],ce=a[10],K=a[14],$=a[3],fe=a[7],ie=a[11],O=a[15];return o[0]=c*k+d*P+h*pe+p*$,o[4]=c*F+d*H+h*de+p*fe,o[8]=c*j+d*ae+h*ce+p*ie,o[12]=c*A+d*te+h*K+p*O,o[1]=m*k+x*P+y*pe+S*$,o[5]=m*F+x*H+y*de+S*fe,o[9]=m*j+x*ae+y*ce+S*ie,o[13]=m*A+x*te+y*K+S*O,o[2]=M*k+T*P+w*pe+_*$,o[6]=M*F+T*H+w*de+_*fe,o[10]=M*j+T*ae+w*ce+_*ie,o[14]=M*A+T*te+w*K+_*O,o[3]=R*k+N*P+I*pe+D*$,o[7]=R*F+N*H+I*de+D*fe,o[11]=R*j+N*ae+I*ce+D*ie,o[15]=R*A+N*te+I*K+D*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],a=e[8],o=e[12],c=e[1],d=e[5],h=e[9],p=e[13],m=e[2],x=e[6],y=e[10],S=e[14],M=e[3],T=e[7],w=e[11],_=e[15],R=h*S-p*y,N=d*S-p*x,I=d*y-h*x,D=c*S-p*m,k=c*y-h*m,F=c*x-d*m;return t*(T*R-w*N+_*I)-r*(M*R-w*D+_*k)+a*(M*N-T*D+_*F)-o*(M*I-T*k+w*F)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],c=e[4],d=e[5],h=e[6],p=e[7],m=e[8],x=e[9],y=e[10],S=e[11],M=e[12],T=e[13],w=e[14],_=e[15],R=x*w*p-T*y*p+T*h*S-d*w*S-x*h*_+d*y*_,N=M*y*p-m*w*p-M*h*S+c*w*S+m*h*_-c*y*_,I=m*T*p-M*x*p+M*d*S-c*T*S-m*d*_+c*x*_,D=M*x*h-m*T*h-M*d*y+c*T*y+m*d*w-c*x*w,k=t*R+r*N+a*I+o*D;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/k;return e[0]=R*F,e[1]=(T*y*o-x*w*o-T*a*S+r*w*S+x*a*_-r*y*_)*F,e[2]=(d*w*o-T*h*o+T*a*p-r*w*p-d*a*_+r*h*_)*F,e[3]=(x*h*o-d*y*o-x*a*p+r*y*p+d*a*S-r*h*S)*F,e[4]=N*F,e[5]=(m*w*o-M*y*o+M*a*S-t*w*S-m*a*_+t*y*_)*F,e[6]=(M*h*o-c*w*o-M*a*p+t*w*p+c*a*_-t*h*_)*F,e[7]=(c*y*o-m*h*o+m*a*p-t*y*p-c*a*S+t*h*S)*F,e[8]=I*F,e[9]=(M*x*o-m*T*o-M*r*S+t*T*S+m*r*_-t*x*_)*F,e[10]=(c*T*o-M*d*o+M*r*p-t*T*p-c*r*_+t*d*_)*F,e[11]=(m*d*o-c*x*o-m*r*p+t*x*p+c*r*S-t*d*S)*F,e[12]=D*F,e[13]=(m*T*a-M*x*a+M*r*y-t*T*y-m*r*w+t*x*w)*F,e[14]=(M*d*a-c*T*a-M*r*h+t*T*h+c*r*w-t*d*w)*F,e[15]=(c*x*a-m*d*a+m*r*h-t*x*h-c*r*y+t*d*y)*F,this}scale(e){const t=this.elements,r=e.x,a=e.y,o=e.z;return t[0]*=r,t[4]*=a,t[8]*=o,t[1]*=r,t[5]*=a,t[9]*=o,t[2]*=r,t[6]*=a,t[10]*=o,t[3]*=r,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,a))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),a=Math.sin(t),o=1-r,c=e.x,d=e.y,h=e.z,p=o*c,m=o*d;return this.set(p*c+r,p*d-a*h,p*h+a*d,0,p*d+a*h,m*d+r,m*h-a*c,0,p*h-a*d,m*h+a*c,o*h*h+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,a,o,c){return this.set(1,r,o,0,e,1,c,0,t,a,1,0,0,0,0,1),this}compose(e,t,r){const a=this.elements,o=t._x,c=t._y,d=t._z,h=t._w,p=o+o,m=c+c,x=d+d,y=o*p,S=o*m,M=o*x,T=c*m,w=c*x,_=d*x,R=h*p,N=h*m,I=h*x,D=r.x,k=r.y,F=r.z;return a[0]=(1-(T+_))*D,a[1]=(S+I)*D,a[2]=(M-N)*D,a[3]=0,a[4]=(S-I)*k,a[5]=(1-(y+_))*k,a[6]=(w+R)*k,a[7]=0,a[8]=(M+N)*F,a[9]=(w-R)*F,a[10]=(1-(y+T))*F,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,r){const a=this.elements;if(e.x=a[12],e.y=a[13],e.z=a[14],this.determinant()===0)return r.set(1,1,1),t.identity(),this;let o=ma.set(a[0],a[1],a[2]).length();const c=ma.set(a[4],a[5],a[6]).length(),d=ma.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),Pi.copy(this);const p=1/o,m=1/c,x=1/d;return Pi.elements[0]*=p,Pi.elements[1]*=p,Pi.elements[2]*=p,Pi.elements[4]*=m,Pi.elements[5]*=m,Pi.elements[6]*=m,Pi.elements[8]*=x,Pi.elements[9]*=x,Pi.elements[10]*=x,t.setFromRotationMatrix(Pi),r.x=o,r.y=c,r.z=d,this}makePerspective(e,t,r,a,o,c,d=Ki,h=!1){const p=this.elements,m=2*o/(t-e),x=2*o/(r-a),y=(t+e)/(t-e),S=(r+a)/(r-a);let M,T;if(h)M=o/(c-o),T=c*o/(c-o);else if(d===Ki)M=-(c+o)/(c-o),T=-2*c*o/(c-o);else if(d===Ru)M=-c/(c-o),T=-c*o/(c-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);return p[0]=m,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=x,p[9]=S,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=T,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,r,a,o,c,d=Ki,h=!1){const p=this.elements,m=2/(t-e),x=2/(r-a),y=-(t+e)/(t-e),S=-(r+a)/(r-a);let M,T;if(h)M=1/(c-o),T=c/(c-o);else if(d===Ki)M=-2/(c-o),T=-(c+o)/(c-o);else if(d===Ru)M=-1/(c-o),T=-o/(c-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);return p[0]=m,p[4]=0,p[8]=0,p[12]=y,p[1]=0,p[5]=x,p[9]=0,p[13]=S,p[2]=0,p[6]=0,p[10]=M,p[14]=T,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<16;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const ma=new ee,Pi=new Qt,F3=new ee(0,0,0),O3=new ee(1,1,1),$r=new ee,Gc=new ee,ri=new ee,Jy=new Qt,Qy=new Sl;class Mr{constructor(e=0,t=0,r=0,a=Mr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,a=this._order){return this._x=e,this._y=t,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const a=e.elements,o=a[0],c=a[4],d=a[8],h=a[1],p=a[5],m=a[9],x=a[2],y=a[6],S=a[10];switch(t){case"XYZ":this._y=Math.asin(Mt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,S),this._z=Math.atan2(-c,o)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Mt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(d,S),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-x,o),this._z=0);break;case"ZXY":this._x=Math.asin(Mt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-x,S),this._z=Math.atan2(-c,p)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-Mt(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(y,S),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-c,p));break;case"YZX":this._z=Math.asin(Mt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-x,o)):(this._x=0,this._y=Math.atan2(d,S));break;case"XZY":this._z=Math.asin(-Mt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(d,o)):(this._x=Math.atan2(-m,S),this._y=0);break;default:dt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Jy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Jy,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Qy.setFromEuler(this),this.setFromQuaternion(Qy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mr.DEFAULT_ORDER="XYZ";class K1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let B3=0;const ev=new ee,ga=new Sl,fr=new Qt,Wc=new ee,zo=new ee,j3=new ee,V3=new Sl,tv=new ee(1,0,0),nv=new ee(0,1,0),iv=new ee(0,0,1),rv={type:"added"},z3={type:"removed"},xa={type:"childadded",child:null},ih={type:"childremoved",child:null};class En extends Ja{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:B3++}),this.uuid=es(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=En.DEFAULT_UP.clone();const e=new ee,t=new Mr,r=new Sl,a=new ee(1,1,1);function o(){r.setFromEuler(t,!1)}function c(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Qt},normalMatrix:{value:new pt}}),this.matrix=new Qt,this.matrixWorld=new Qt,this.matrixAutoUpdate=En.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new K1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ga.setFromAxisAngle(e,t),this.quaternion.multiply(ga),this}rotateOnWorldAxis(e,t){return ga.setFromAxisAngle(e,t),this.quaternion.premultiply(ga),this}rotateX(e){return this.rotateOnAxis(tv,e)}rotateY(e){return this.rotateOnAxis(nv,e)}rotateZ(e){return this.rotateOnAxis(iv,e)}translateOnAxis(e,t){return ev.copy(e).applyQuaternion(this.quaternion),this.position.add(ev.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(tv,e)}translateY(e){return this.translateOnAxis(nv,e)}translateZ(e){return this.translateOnAxis(iv,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fr.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Wc.copy(e):Wc.set(e,t,r);const a=this.parent;this.updateWorldMatrix(!0,!1),zo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fr.lookAt(zo,Wc,this.up):fr.lookAt(Wc,zo,this.up),this.quaternion.setFromRotationMatrix(fr),a&&(fr.extractRotation(a.matrixWorld),ga.setFromRotationMatrix(fr),this.quaternion.premultiply(ga.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Nt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(rv),xa.child=e,this.dispatchEvent(xa),xa.child=null):Nt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(z3),ih.child=e,this.dispatchEvent(ih),ih.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),fr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fr.multiply(e.parent.matrixWorld)),e.applyMatrix4(fr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(rv),xa.child=e,this.dispatchEvent(xa),xa.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,a=this.children.length;r<a;r++){const c=this.children[r].getObjectByProperty(e,t);if(c!==void 0)return c}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const a=this.children;for(let o=0,c=a.length;o<c;o++)a[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zo,e,j3),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zo,V3,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,c=a.length;o<c;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(d=>({...d,boundingBox:d.boundingBox?d.boundingBox.toJSON():void 0,boundingSphere:d.boundingSphere?d.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(d=>({...d})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function o(d,h){return d[h.uuid]===void 0&&(d[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const h=d.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const x=h[p];o(e.shapes,x)}else o(e.shapes,h)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let h=0,p=this.material.length;h<p;h++)d.push(o(e.materials,this.material[h]));a.material=d}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let d=0;d<this.children.length;d++)a.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let d=0;d<this.animations.length;d++){const h=this.animations[d];a.animations.push(o(e.animations,h))}}if(t){const d=c(e.geometries),h=c(e.materials),p=c(e.textures),m=c(e.images),x=c(e.shapes),y=c(e.skeletons),S=c(e.animations),M=c(e.nodes);d.length>0&&(r.geometries=d),h.length>0&&(r.materials=h),p.length>0&&(r.textures=p),m.length>0&&(r.images=m),x.length>0&&(r.shapes=x),y.length>0&&(r.skeletons=y),S.length>0&&(r.animations=S),M.length>0&&(r.nodes=M)}return r.object=a,r;function c(d){const h=[];for(const p in d){const m=d[p];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}En.DEFAULT_UP=new ee(0,1,0);En.DEFAULT_MATRIX_AUTO_UPDATE=!0;En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ii=new ee,hr=new ee,rh=new ee,pr=new ee,ya=new ee,va=new ee,sv=new ee,sh=new ee,ah=new ee,oh=new ee,lh=new nn,ch=new nn,uh=new nn;class vi{constructor(e=new ee,t=new ee,r=new ee){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,a){a.subVectors(r,t),Ii.subVectors(e,t),a.cross(Ii);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,r,a,o){Ii.subVectors(a,t),hr.subVectors(r,t),rh.subVectors(e,t);const c=Ii.dot(Ii),d=Ii.dot(hr),h=Ii.dot(rh),p=hr.dot(hr),m=hr.dot(rh),x=c*p-d*d;if(x===0)return o.set(0,0,0),null;const y=1/x,S=(p*h-d*m)*y,M=(c*m-d*h)*y;return o.set(1-S-M,M,S)}static containsPoint(e,t,r,a){return this.getBarycoord(e,t,r,a,pr)===null?!1:pr.x>=0&&pr.y>=0&&pr.x+pr.y<=1}static getInterpolation(e,t,r,a,o,c,d,h){return this.getBarycoord(e,t,r,a,pr)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(o,pr.x),h.addScaledVector(c,pr.y),h.addScaledVector(d,pr.z),h)}static getInterpolatedAttribute(e,t,r,a,o,c){return lh.setScalar(0),ch.setScalar(0),uh.setScalar(0),lh.fromBufferAttribute(e,t),ch.fromBufferAttribute(e,r),uh.fromBufferAttribute(e,a),c.setScalar(0),c.addScaledVector(lh,o.x),c.addScaledVector(ch,o.y),c.addScaledVector(uh,o.z),c}static isFrontFacing(e,t,r,a){return Ii.subVectors(r,t),hr.subVectors(e,t),Ii.cross(hr).dot(a)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,r,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ii.subVectors(this.c,this.b),hr.subVectors(this.a,this.b),Ii.cross(hr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,a,o){return vi.getInterpolation(e,this.a,this.b,this.c,t,r,a,o)}containsPoint(e){return vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,a=this.b,o=this.c;let c,d;ya.subVectors(a,r),va.subVectors(o,r),sh.subVectors(e,r);const h=ya.dot(sh),p=va.dot(sh);if(h<=0&&p<=0)return t.copy(r);ah.subVectors(e,a);const m=ya.dot(ah),x=va.dot(ah);if(m>=0&&x<=m)return t.copy(a);const y=h*x-m*p;if(y<=0&&h>=0&&m<=0)return c=h/(h-m),t.copy(r).addScaledVector(ya,c);oh.subVectors(e,o);const S=ya.dot(oh),M=va.dot(oh);if(M>=0&&S<=M)return t.copy(o);const T=S*p-h*M;if(T<=0&&p>=0&&M<=0)return d=p/(p-M),t.copy(r).addScaledVector(va,d);const w=m*M-S*x;if(w<=0&&x-m>=0&&S-M>=0)return sv.subVectors(o,a),d=(x-m)/(x-m+(S-M)),t.copy(a).addScaledVector(sv,d);const _=1/(w+T+y);return c=T*_,d=y*_,t.copy(r).addScaledVector(ya,c).addScaledVector(va,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Z1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yr={h:0,s:0,l:0},Xc={h:0,s:0,l:0};function dh(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ut{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Rt.colorSpaceToWorking(this,t),this}setRGB(e,t,r,a=Rt.workingColorSpace){return this.r=e,this.g=t,this.b=r,Rt.colorSpaceToWorking(this,a),this}setHSL(e,t,r,a=Rt.workingColorSpace){if(e=C3(e,1),t=Mt(t,0,1),r=Mt(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,c=2*r-o;this.r=dh(c,o,e+1/3),this.g=dh(c,o,e),this.b=dh(c,o,e-1/3)}return Rt.colorSpaceToWorking(this,a),this}setStyle(e,t=yi){function r(o){o!==void 0&&parseFloat(o)<1&&dt("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const c=a[1],d=a[2];switch(c){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:dt("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],c=o.length;if(c===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(c===6)return this.setHex(parseInt(o,16),t);dt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yi){const r=Z1[e.toLowerCase()];return r!==void 0?this.setHex(r,t):dt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vr(e.r),this.g=vr(e.g),this.b=vr(e.b),this}copyLinearToSRGB(e){return this.r=Fa(e.r),this.g=Fa(e.g),this.b=Fa(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yi){return Rt.workingToColorSpace(In.copy(this),e),Math.round(Mt(In.r*255,0,255))*65536+Math.round(Mt(In.g*255,0,255))*256+Math.round(Mt(In.b*255,0,255))}getHexString(e=yi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Rt.workingColorSpace){Rt.workingToColorSpace(In.copy(this),t);const r=In.r,a=In.g,o=In.b,c=Math.max(r,a,o),d=Math.min(r,a,o);let h,p;const m=(d+c)/2;if(d===c)h=0,p=0;else{const x=c-d;switch(p=m<=.5?x/(c+d):x/(2-c-d),c){case r:h=(a-o)/x+(a<o?6:0);break;case a:h=(o-r)/x+2;break;case o:h=(r-a)/x+4;break}h/=6}return e.h=h,e.s=p,e.l=m,e}getRGB(e,t=Rt.workingColorSpace){return Rt.workingToColorSpace(In.copy(this),t),e.r=In.r,e.g=In.g,e.b=In.b,e}getStyle(e=yi){Rt.workingToColorSpace(In.copy(this),e);const t=In.r,r=In.g,a=In.b;return e!==yi?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,t,r){return this.getHSL(Yr),this.setHSL(Yr.h+e,Yr.s+t,Yr.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Yr),e.getHSL(Xc);const r=$f(Yr.h,Xc.h,t),a=$f(Yr.s,Xc.s,t),o=$f(Yr.l,Xc.l,t);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*a,this.g=o[1]*t+o[4]*r+o[7]*a,this.b=o[2]*t+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const In=new Ut;Ut.NAMES=Z1;let H3=0;class Ml extends Ja{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:H3++}),this.uuid=es(),this.name="",this.type="Material",this.blending=Ua,this.side=ns,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Kh,this.blendDst=Zh,this.blendEquation=Rs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=Ha,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Xy,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ua,this.stencilZFail=ua,this.stencilZPass=ua,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){dt(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){dt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ua&&(r.blending=this.blending),this.side!==ns&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Kh&&(r.blendSrc=this.blendSrc),this.blendDst!==Zh&&(r.blendDst=this.blendDst),this.blendEquation!==Rs&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ha&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Xy&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ua&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ua&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ua&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const c=[];for(const d in o){const h=o[d];delete h.metadata,c.push(h)}return c}if(t){const o=a(e.textures),c=a(e.images);o.length>0&&(r.textures=o),c.length>0&&(r.images=c)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const a=t.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Oa extends Ml{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mr,this.combine=I1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const on=new ee,$c=new _t;let G3=0;class Ui{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:G3++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Vp,this.updateRanges=[],this.gpuType=qi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)$c.fromBufferAttribute(this,t),$c.applyMatrix3(e),this.setXY(t,$c.x,$c.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)on.fromBufferAttribute(this,t),on.applyMatrix3(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)on.fromBufferAttribute(this,t),on.applyMatrix4(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)on.fromBufferAttribute(this,t),on.applyNormalMatrix(e),this.setXYZ(t,on.x,on.y,on.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)on.fromBufferAttribute(this,t),on.transformDirection(e),this.setXYZ(t,on.x,on.y,on.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Yi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Vt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Yi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Yi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Yi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Yi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array),a=Vt(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array),a=Vt(a,this.array),o=Vt(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Vp&&(e.usage=this.usage),e}}class J1 extends Ui{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Q1 extends Ui{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Si extends Ui{constructor(e,t,r){super(new Float32Array(e),t,r)}}let W3=0;const gi=new Qt,fh=new En,_a=new ee,si=new wl,Ho=new wl,_n=new ee;class Bi extends Ja{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:W3++}),this.uuid=es(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Y1(e)?Q1:J1)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new pt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gi.makeRotationFromQuaternion(e),this.applyMatrix4(gi),this}rotateX(e){return gi.makeRotationX(e),this.applyMatrix4(gi),this}rotateY(e){return gi.makeRotationY(e),this.applyMatrix4(gi),this}rotateZ(e){return gi.makeRotationZ(e),this.applyMatrix4(gi),this}translate(e,t,r){return gi.makeTranslation(e,t,r),this.applyMatrix4(gi),this}scale(e,t,r){return gi.makeScale(e,t,r),this.applyMatrix4(gi),this}lookAt(e){return fh.lookAt(e),fh.updateMatrix(),this.applyMatrix4(fh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_a).negate(),this.translate(_a.x,_a.y,_a.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const c=e[a];r.push(c.x,c.y,c.z||0)}this.setAttribute("position",new Si(r,3))}else{const r=Math.min(e.length,t.count);for(let a=0;a<r;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&dt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new wl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Nt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];si.setFromBufferAttribute(o),this.morphTargetsRelative?(_n.addVectors(this.boundingBox.min,si.min),this.boundingBox.expandByPoint(_n),_n.addVectors(this.boundingBox.max,si.max),this.boundingBox.expandByPoint(_n)):(this.boundingBox.expandByPoint(si.min),this.boundingBox.expandByPoint(si.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Nt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Nt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const r=this.boundingSphere.center;if(si.setFromBufferAttribute(e),t)for(let o=0,c=t.length;o<c;o++){const d=t[o];Ho.setFromBufferAttribute(d),this.morphTargetsRelative?(_n.addVectors(si.min,Ho.min),si.expandByPoint(_n),_n.addVectors(si.max,Ho.max),si.expandByPoint(_n)):(si.expandByPoint(Ho.min),si.expandByPoint(Ho.max))}si.getCenter(r);let a=0;for(let o=0,c=e.count;o<c;o++)_n.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(_n));if(t)for(let o=0,c=t.length;o<c;o++){const d=t[o],h=this.morphTargetsRelative;for(let p=0,m=d.count;p<m;p++)_n.fromBufferAttribute(d,p),h&&(_a.fromBufferAttribute(e,p),_n.add(_a)),a=Math.max(a,r.distanceToSquared(_n))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Nt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Nt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ui(new Float32Array(4*r.count),4));const c=this.getAttribute("tangent"),d=[],h=[];for(let j=0;j<r.count;j++)d[j]=new ee,h[j]=new ee;const p=new ee,m=new ee,x=new ee,y=new _t,S=new _t,M=new _t,T=new ee,w=new ee;function _(j,A,P){p.fromBufferAttribute(r,j),m.fromBufferAttribute(r,A),x.fromBufferAttribute(r,P),y.fromBufferAttribute(o,j),S.fromBufferAttribute(o,A),M.fromBufferAttribute(o,P),m.sub(p),x.sub(p),S.sub(y),M.sub(y);const H=1/(S.x*M.y-M.x*S.y);isFinite(H)&&(T.copy(m).multiplyScalar(M.y).addScaledVector(x,-S.y).multiplyScalar(H),w.copy(x).multiplyScalar(S.x).addScaledVector(m,-M.x).multiplyScalar(H),d[j].add(T),d[A].add(T),d[P].add(T),h[j].add(w),h[A].add(w),h[P].add(w))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let j=0,A=R.length;j<A;++j){const P=R[j],H=P.start,ae=P.count;for(let te=H,pe=H+ae;te<pe;te+=3)_(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const N=new ee,I=new ee,D=new ee,k=new ee;function F(j){D.fromBufferAttribute(a,j),k.copy(D);const A=d[j];N.copy(A),N.sub(D.multiplyScalar(D.dot(A))).normalize(),I.crossVectors(k,A);const H=I.dot(h[j])<0?-1:1;c.setXYZW(j,N.x,N.y,N.z,H)}for(let j=0,A=R.length;j<A;++j){const P=R[j],H=P.start,ae=P.count;for(let te=H,pe=H+ae;te<pe;te+=3)F(e.getX(te+0)),F(e.getX(te+1)),F(e.getX(te+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ui(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let y=0,S=r.count;y<S;y++)r.setXYZ(y,0,0,0);const a=new ee,o=new ee,c=new ee,d=new ee,h=new ee,p=new ee,m=new ee,x=new ee;if(e)for(let y=0,S=e.count;y<S;y+=3){const M=e.getX(y+0),T=e.getX(y+1),w=e.getX(y+2);a.fromBufferAttribute(t,M),o.fromBufferAttribute(t,T),c.fromBufferAttribute(t,w),m.subVectors(c,o),x.subVectors(a,o),m.cross(x),d.fromBufferAttribute(r,M),h.fromBufferAttribute(r,T),p.fromBufferAttribute(r,w),d.add(m),h.add(m),p.add(m),r.setXYZ(M,d.x,d.y,d.z),r.setXYZ(T,h.x,h.y,h.z),r.setXYZ(w,p.x,p.y,p.z)}else for(let y=0,S=t.count;y<S;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),c.fromBufferAttribute(t,y+2),m.subVectors(c,o),x.subVectors(a,o),m.cross(x),r.setXYZ(y+0,m.x,m.y,m.z),r.setXYZ(y+1,m.x,m.y,m.z),r.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)_n.fromBufferAttribute(e,t),_n.normalize(),e.setXYZ(t,_n.x,_n.y,_n.z)}toNonIndexed(){function e(d,h){const p=d.array,m=d.itemSize,x=d.normalized,y=new p.constructor(h.length*m);let S=0,M=0;for(let T=0,w=h.length;T<w;T++){d.isInterleavedBufferAttribute?S=h[T]*d.data.stride+d.offset:S=h[T]*m;for(let _=0;_<m;_++)y[M++]=p[S++]}return new Ui(y,m,x)}if(this.index===null)return dt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Bi,r=this.index.array,a=this.attributes;for(const d in a){const h=a[d],p=e(h,r);t.setAttribute(d,p)}const o=this.morphAttributes;for(const d in o){const h=[],p=o[d];for(let m=0,x=p.length;m<x;m++){const y=p[m],S=e(y,r);h.push(S)}t.morphAttributes[d]=h}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let d=0,h=c.length;d<h;d++){const p=c[d];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const h in r){const p=r[h];e.data.attributes[h]=p.toJSON(e.data)}const a={};let o=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let x=0,y=p.length;x<y;x++){const S=p[x];m.push(S.toJSON(e.data))}m.length>0&&(a[h]=m,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere=d.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const a=e.attributes;for(const p in a){const m=a[p];this.setAttribute(p,m.clone(t))}const o=e.morphAttributes;for(const p in o){const m=[],x=o[p];for(let y=0,S=x.length;y<S;y++)m.push(x[y].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let p=0,m=c.length;p<m;p++){const x=c[p];this.addGroup(x.start,x.count,x.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const av=new Qt,bs=new U3,Yc=new Fm,ov=new ee,qc=new ee,Kc=new ee,Zc=new ee,hh=new ee,Jc=new ee,lv=new ee,Qc=new ee;class li extends En{constructor(e=new Bi,t=new Oa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=a.length;o<c;o++){const d=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}getVertexPosition(e,t){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,c=r.morphTargetsRelative;t.fromBufferAttribute(a,e);const d=this.morphTargetInfluences;if(o&&d){Jc.set(0,0,0);for(let h=0,p=o.length;h<p;h++){const m=d[h],x=o[h];m!==0&&(hh.fromBufferAttribute(x,e),c?Jc.addScaledVector(hh,m):Jc.addScaledVector(hh.sub(t),m))}t.add(Jc)}return t}raycast(e,t){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Yc.copy(r.boundingSphere),Yc.applyMatrix4(o),bs.copy(e.ray).recast(e.near),!(Yc.containsPoint(bs.origin)===!1&&(bs.intersectSphere(Yc,ov)===null||bs.origin.distanceToSquared(ov)>(e.far-e.near)**2))&&(av.copy(o).invert(),bs.copy(e.ray).applyMatrix4(av),!(r.boundingBox!==null&&bs.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,bs)))}_computeIntersections(e,t,r){let a;const o=this.geometry,c=this.material,d=o.index,h=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,x=o.attributes.normal,y=o.groups,S=o.drawRange;if(d!==null)if(Array.isArray(c))for(let M=0,T=y.length;M<T;M++){const w=y[M],_=c[w.materialIndex],R=Math.max(w.start,S.start),N=Math.min(d.count,Math.min(w.start+w.count,S.start+S.count));for(let I=R,D=N;I<D;I+=3){const k=d.getX(I),F=d.getX(I+1),j=d.getX(I+2);a=eu(this,_,e,r,p,m,x,k,F,j),a&&(a.faceIndex=Math.floor(I/3),a.face.materialIndex=w.materialIndex,t.push(a))}}else{const M=Math.max(0,S.start),T=Math.min(d.count,S.start+S.count);for(let w=M,_=T;w<_;w+=3){const R=d.getX(w),N=d.getX(w+1),I=d.getX(w+2);a=eu(this,c,e,r,p,m,x,R,N,I),a&&(a.faceIndex=Math.floor(w/3),t.push(a))}}else if(h!==void 0)if(Array.isArray(c))for(let M=0,T=y.length;M<T;M++){const w=y[M],_=c[w.materialIndex],R=Math.max(w.start,S.start),N=Math.min(h.count,Math.min(w.start+w.count,S.start+S.count));for(let I=R,D=N;I<D;I+=3){const k=I,F=I+1,j=I+2;a=eu(this,_,e,r,p,m,x,k,F,j),a&&(a.faceIndex=Math.floor(I/3),a.face.materialIndex=w.materialIndex,t.push(a))}}else{const M=Math.max(0,S.start),T=Math.min(h.count,S.start+S.count);for(let w=M,_=T;w<_;w+=3){const R=w,N=w+1,I=w+2;a=eu(this,c,e,r,p,m,x,R,N,I),a&&(a.faceIndex=Math.floor(w/3),t.push(a))}}}}function X3(n,e,t,r,a,o,c,d){let h;if(e.side===Jn?h=r.intersectTriangle(c,o,a,!0,d):h=r.intersectTriangle(a,o,c,e.side===ns,d),h===null)return null;Qc.copy(d),Qc.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(Qc);return p<t.near||p>t.far?null:{distance:p,point:Qc.clone(),object:n}}function eu(n,e,t,r,a,o,c,d,h,p){n.getVertexPosition(d,qc),n.getVertexPosition(h,Kc),n.getVertexPosition(p,Zc);const m=X3(n,e,t,r,qc,Kc,Zc,lv);if(m){const x=new ee;vi.getBarycoord(lv,qc,Kc,Zc,x),a&&(m.uv=vi.getInterpolatedAttribute(a,d,h,p,x,new _t)),o&&(m.uv1=vi.getInterpolatedAttribute(o,d,h,p,x,new _t)),c&&(m.normal=vi.getInterpolatedAttribute(c,d,h,p,x,new ee),m.normal.dot(r.direction)>0&&m.normal.multiplyScalar(-1));const y={a:d,b:h,c:p,normal:new ee,materialIndex:0};vi.getNormal(qc,Kc,Zc,y.normal),m.face=y,m.barycoord=x}return m}class bl extends Bi{constructor(e=1,t=1,r=1,a=1,o=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:o,depthSegments:c};const d=this;a=Math.floor(a),o=Math.floor(o),c=Math.floor(c);const h=[],p=[],m=[],x=[];let y=0,S=0;M("z","y","x",-1,-1,r,t,e,c,o,0),M("z","y","x",1,-1,r,t,-e,c,o,1),M("x","z","y",1,1,e,r,t,a,c,2),M("x","z","y",1,-1,e,r,-t,a,c,3),M("x","y","z",1,-1,e,t,r,a,o,4),M("x","y","z",-1,-1,e,t,-r,a,o,5),this.setIndex(h),this.setAttribute("position",new Si(p,3)),this.setAttribute("normal",new Si(m,3)),this.setAttribute("uv",new Si(x,2));function M(T,w,_,R,N,I,D,k,F,j,A){const P=I/F,H=D/j,ae=I/2,te=D/2,pe=k/2,de=F+1,ce=j+1;let K=0,$=0;const fe=new ee;for(let ie=0;ie<ce;ie++){const O=ie*H-te;for(let le=0;le<de;le++){const Ie=le*P-ae;fe[T]=Ie*R,fe[w]=O*N,fe[_]=pe,p.push(fe.x,fe.y,fe.z),fe[T]=0,fe[w]=0,fe[_]=k>0?1:-1,m.push(fe.x,fe.y,fe.z),x.push(le/F),x.push(1-ie/j),K+=1}}for(let ie=0;ie<j;ie++)for(let O=0;O<F;O++){const le=y+O+de*ie,Ie=y+O+de*(ie+1),Ze=y+(O+1)+de*(ie+1),et=y+(O+1)+de*ie;h.push(le,Ie,et),h.push(Ie,Ze,et),$+=6}d.addGroup(S,$,A),S+=$,y+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $a(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const a=n[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(dt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=a.clone():Array.isArray(a)?e[t][r]=a.slice():e[t][r]=a}}return e}function Vn(n){const e={};for(let t=0;t<n.length;t++){const r=$a(n[t]);for(const a in r)e[a]=r[a]}return e}function $3(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function eS(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Rt.workingColorSpace}const Y3={clone:$a,merge:Vn};var q3=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,K3=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class tr extends Ml{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=q3,this.fragmentShader=K3,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$a(e.uniforms),this.uniformsGroups=$3(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const c=this.uniforms[a].value;c&&c.isTexture?t.uniforms[a]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[a]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[a]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[a]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[a]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[a]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[a]={type:"m4",value:c.toArray()}:t.uniforms[a]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class tS extends En{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qt,this.projectionMatrix=new Qt,this.projectionMatrixInverse=new Qt,this.coordinateSystem=Ki,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qr=new ee,cv=new _t,uv=new _t;class ai extends tS{constructor(e=50,t=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=zp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return zp*2*Math.atan(Math.tan(Xf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){qr.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(qr.x,qr.y).multiplyScalar(-e/qr.z),qr.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(qr.x,qr.y).multiplyScalar(-e/qr.z)}getViewSize(e,t){return this.getViewBounds(e,cv,uv),t.subVectors(uv,cv)}setViewOffset(e,t,r,a,o,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Xf*.5*this.fov)/this.zoom,r=2*t,a=this.aspect*r,o=-.5*a;const c=this.view;if(this.view!==null&&this.view.enabled){const h=c.fullWidth,p=c.fullHeight;o+=c.offsetX*a/h,t-=c.offsetY*r/p,a*=c.width/h,r*=c.height/p}const d=this.filmOffset;d!==0&&(o+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Sa=-90,wa=1;class Z3 extends En{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new ai(Sa,wa,e,t);a.layers=this.layers,this.add(a);const o=new ai(Sa,wa,e,t);o.layers=this.layers,this.add(o);const c=new ai(Sa,wa,e,t);c.layers=this.layers,this.add(c);const d=new ai(Sa,wa,e,t);d.layers=this.layers,this.add(d);const h=new ai(Sa,wa,e,t);h.layers=this.layers,this.add(h);const p=new ai(Sa,wa,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,a,o,c,d,h]=t;for(const p of t)this.remove(p);if(e===Ki)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),d.up.set(0,1,0),d.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===Ru)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),d.up.set(0,-1,0),d.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,c,d,h,p,m]=this.children,x=e.getRenderTarget(),y=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const T=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(t,o),e.setRenderTarget(r,1,a),e.render(t,c),e.setRenderTarget(r,2,a),e.render(t,d),e.setRenderTarget(r,3,a),e.render(t,h),e.setRenderTarget(r,4,a),e.render(t,p),r.texture.generateMipmaps=T,e.setRenderTarget(r,5,a),e.render(t,m),e.setRenderTarget(x,y,S),e.xr.enabled=M,r.texture.needsPMREMUpdate=!0}}class nS extends kn{constructor(e=[],t=Fs,r,a,o,c,d,h,p,m){super(e,t,r,a,o,c,d,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class iS extends Qi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new nS(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new bl(5,5,5),o=new tr({name:"CubemapFromEquirect",uniforms:$a(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Jn,blending:yr});o.uniforms.tEquirect.value=t;const c=new li(a,o),d=t.minFilter;return t.minFilter===Ls&&(t.minFilter=Ln),new Z3(1,10,this).update(e,c),t.minFilter=d,c.geometry.dispose(),c.material.dispose(),this}clear(e,t=!0,r=!0,a=!0){const o=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,r,a);e.setRenderTarget(o)}}class tu extends En{constructor(){super(),this.isGroup=!0,this.type="Group"}}const J3={type:"move"};class ph{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let a=null,o=null,c=null;const d=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){c=!0;for(const T of e.hand.values()){const w=t.getJointPose(T,r),_=this._getHandJoint(p,T);w!==null&&(_.matrix.fromArray(w.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=w.radius),_.visible=w!==null}const m=p.joints["index-finger-tip"],x=p.joints["thumb-tip"],y=m.position.distanceTo(x.position),S=.02,M=.005;p.inputState.pinching&&y>S+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&y<=S-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));d!==null&&(a=t.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(J3)))}return d!==null&&(d.visible=a!==null),h!==null&&(h.visible=o!==null),p!==null&&(p.visible=c!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new tu;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class rS extends En{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Mr,this.environmentIntensity=1,this.environmentRotation=new Mr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Q3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Vp,this.updateRanges=[],this.version=0,this.uuid=es()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[r+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=es()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=es()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const jn=new ee;class Iu{constructor(e,t,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Yi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Vt(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Yi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Yi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Yi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Yi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array),a=Vt(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),r=Vt(r,this.array),a=Vt(a,this.array),o=Vt(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){Pu("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new Ui(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Iu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Pu("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sS extends Ml{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ma;const Go=new ee,ba=new ee,Ea=new ee,Ta=new _t,Wo=new _t,aS=new Qt,nu=new ee,Xo=new ee,iu=new ee,dv=new _t,mh=new _t,fv=new _t;class eN extends En{constructor(e=new sS){if(super(),this.isSprite=!0,this.type="Sprite",Ma===void 0){Ma=new Bi;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Q3(t,5);Ma.setIndex([0,1,2,0,2,3]),Ma.setAttribute("position",new Iu(r,3,0,!1)),Ma.setAttribute("uv",new Iu(r,2,3,!1))}this.geometry=Ma,this.material=e,this.center=new _t(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Nt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ba.setFromMatrixScale(this.matrixWorld),aS.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ea.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ba.multiplyScalar(-Ea.z);const r=this.material.rotation;let a,o;r!==0&&(o=Math.cos(r),a=Math.sin(r));const c=this.center;ru(nu.set(-.5,-.5,0),Ea,c,ba,a,o),ru(Xo.set(.5,-.5,0),Ea,c,ba,a,o),ru(iu.set(.5,.5,0),Ea,c,ba,a,o),dv.set(0,0),mh.set(1,0),fv.set(1,1);let d=e.ray.intersectTriangle(nu,Xo,iu,!1,Go);if(d===null&&(ru(Xo.set(-.5,.5,0),Ea,c,ba,a,o),mh.set(0,1),d=e.ray.intersectTriangle(nu,iu,Xo,!1,Go),d===null))return;const h=e.ray.origin.distanceTo(Go);h<e.near||h>e.far||t.push({distance:h,point:Go.clone(),uv:vi.getInterpolation(Go,nu,Xo,iu,dv,mh,fv,new _t),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ru(n,e,t,r,a,o){Ta.subVectors(n,t).addScalar(.5).multiply(r),a!==void 0?(Wo.x=o*Ta.x-a*Ta.y,Wo.y=a*Ta.x+o*Ta.y):Wo.copy(Ta),n.copy(e),n.x+=Wo.x,n.y+=Wo.y,n.applyMatrix4(aS)}class tN extends kn{constructor(e=null,t=1,r=1,a,o,c,d,h,p=bn,m=bn,x,y){super(null,c,d,h,p,m,a,o,x,y),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gh=new ee,nN=new ee,iN=new pt;class Ns{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const a=gh.subVectors(r,t).cross(nN.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(gh),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||iN.getNormalMatrix(e),a=this.coplanarPoint(gh).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Es=new Fm,rN=new _t(.5,.5),su=new ee;class Om{constructor(e=new Ns,t=new Ns,r=new Ns,a=new Ns,o=new Ns,c=new Ns){this.planes=[e,t,r,a,o,c]}set(e,t,r,a,o,c){const d=this.planes;return d[0].copy(e),d[1].copy(t),d[2].copy(r),d[3].copy(a),d[4].copy(o),d[5].copy(c),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Ki,r=!1){const a=this.planes,o=e.elements,c=o[0],d=o[1],h=o[2],p=o[3],m=o[4],x=o[5],y=o[6],S=o[7],M=o[8],T=o[9],w=o[10],_=o[11],R=o[12],N=o[13],I=o[14],D=o[15];if(a[0].setComponents(p-c,S-m,_-M,D-R).normalize(),a[1].setComponents(p+c,S+m,_+M,D+R).normalize(),a[2].setComponents(p+d,S+x,_+T,D+N).normalize(),a[3].setComponents(p-d,S-x,_-T,D-N).normalize(),r)a[4].setComponents(h,y,w,I).normalize(),a[5].setComponents(p-h,S-y,_-w,D-I).normalize();else if(a[4].setComponents(p-h,S-y,_-w,D-I).normalize(),t===Ki)a[5].setComponents(p+h,S+y,_+w,D+I).normalize();else if(t===Ru)a[5].setComponents(h,y,w,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Es.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Es.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Es)}intersectsSprite(e){Es.center.set(0,0,0);const t=rN.distanceTo(e.center);return Es.radius=.7071067811865476+t,Es.applyMatrix4(e.matrixWorld),this.intersectsSphere(Es)}intersectsSphere(e){const t=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const a=t[r];if(su.x=a.normal.x>0?e.max.x:e.min.x,su.y=a.normal.y>0?e.max.y:e.min.y,su.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(su)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ml extends kn{constructor(e,t,r=er,a,o,c,d=bn,h=bn,p,m=wr,x=1){if(m!==wr&&m!==ks)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:x};super(y,a,o,c,d,h,m,r,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Um(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class sN extends ml{constructor(e,t=er,r=Fs,a,o,c=bn,d=bn,h,p=wr){const m={width:e,height:e,depth:1},x=[m,m,m,m,m,m];super(e,e,t,r,a,o,c,d,h,p),this.image=x,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class oS extends kn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class zu extends Bi{constructor(e=1,t=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:a};const o=e/2,c=t/2,d=Math.floor(r),h=Math.floor(a),p=d+1,m=h+1,x=e/d,y=t/h,S=[],M=[],T=[],w=[];for(let _=0;_<m;_++){const R=_*y-c;for(let N=0;N<p;N++){const I=N*x-o;M.push(I,-R,0),T.push(0,0,1),w.push(N/d),w.push(1-_/h)}}for(let _=0;_<h;_++)for(let R=0;R<d;R++){const N=R+p*_,I=R+p*(_+1),D=R+1+p*(_+1),k=R+1+p*_;S.push(N,I,k),S.push(I,D,k)}this.setIndex(S),this.setAttribute("position",new Si(M,3)),this.setAttribute("normal",new Si(T,3)),this.setAttribute("uv",new Si(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zu(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ba extends Bi{constructor(e=1,t=32,r=16,a=0,o=Math.PI*2,c=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:o,thetaStart:c,thetaLength:d},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const h=Math.min(c+d,Math.PI);let p=0;const m=[],x=new ee,y=new ee,S=[],M=[],T=[],w=[];for(let _=0;_<=r;_++){const R=[],N=_/r;let I=0;_===0&&c===0?I=.5/t:_===r&&h===Math.PI&&(I=-.5/t);for(let D=0;D<=t;D++){const k=D/t;x.x=-e*Math.cos(a+k*o)*Math.sin(c+N*d),x.y=e*Math.cos(c+N*d),x.z=e*Math.sin(a+k*o)*Math.sin(c+N*d),M.push(x.x,x.y,x.z),y.copy(x).normalize(),T.push(y.x,y.y,y.z),w.push(k+I,1-N),R.push(p++)}m.push(R)}for(let _=0;_<r;_++)for(let R=0;R<t;R++){const N=m[_][R+1],I=m[_][R],D=m[_+1][R],k=m[_+1][R+1];(_!==0||c>0)&&S.push(N,I,k),(_!==r-1||h<Math.PI)&&S.push(I,D,k)}this.setIndex(S),this.setAttribute("position",new Si(M,3)),this.setAttribute("normal",new Si(T,3)),this.setAttribute("uv",new Si(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ba(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class aN extends tr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class oN extends Ml{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=x3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lN extends Ml{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class cN{constructor(e,t,r){const a=this;let o=!1,c=0,d=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(m){d++,o===!1&&a.onStart!==void 0&&a.onStart(m,c,d),o=!0},this.itemEnd=function(m){c++,a.onProgress!==void 0&&a.onProgress(m,c,d),c===d&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,x){return p.push(m,x),this},this.removeHandler=function(m){const x=p.indexOf(m);return x!==-1&&p.splice(x,2),this},this.getHandler=function(m){for(let x=0,y=p.length;x<y;x+=2){const S=p[x],M=p[x+1];if(S.global&&(S.lastIndex=0),S.test(m))return M}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const uN=new cN;class Bm{constructor(e){this.manager=e!==void 0?e:uN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(a,o){r.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Bm.DEFAULT_MATERIAL_NAME="__DEFAULT";const Aa=new WeakMap;class dN extends Bm{constructor(e){super(e)}load(e,t,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,c=xh.get(`image:${e}`);if(c!==void 0){if(c.complete===!0)o.manager.itemStart(e),setTimeout(function(){t&&t(c),o.manager.itemEnd(e)},0);else{let x=Aa.get(c);x===void 0&&(x=[],Aa.set(c,x)),x.push({onLoad:t,onError:a})}return c}const d=hl("img");function h(){m(),t&&t(this);const x=Aa.get(this)||[];for(let y=0;y<x.length;y++){const S=x[y];S.onLoad&&S.onLoad(this)}Aa.delete(this),o.manager.itemEnd(e)}function p(x){m(),a&&a(x),xh.remove(`image:${e}`);const y=Aa.get(this)||[];for(let S=0;S<y.length;S++){const M=y[S];M.onError&&M.onError(x)}Aa.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){d.removeEventListener("load",h,!1),d.removeEventListener("error",p,!1)}return d.addEventListener("load",h,!1),d.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),xh.add(`image:${e}`,d),o.manager.itemStart(e),d.src=e,d}}class fN extends Bm{constructor(e){super(e)}load(e,t,r,a){const o=new kn,c=new dN(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(d){o.image=d,o.needsUpdate=!0,t!==void 0&&t(o)},r,a),o}}class lS extends En{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}const yh=new Qt,hv=new ee,pv=new ee;class hN{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _t(512,512),this.mapType=oi,this.map=null,this.mapPass=null,this.matrix=new Qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Om,this._frameExtents=new _t(1,1),this._viewportCount=1,this._viewports=[new nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;hv.setFromMatrixPosition(e.matrixWorld),t.position.copy(hv),pv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pv),t.updateMatrixWorld(),yh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yh,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(yh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class jm extends tS{constructor(e=-1,t=1,r=1,a=-1,o=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=o,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,a,o,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,c=r+e,d=a+t,h=a-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,c=o+p*this.view.width,d-=m*this.view.offsetY,h=d-m*this.view.height}this.projectionMatrix.makeOrthographic(o,c,d,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class pN extends hN{constructor(){super(new jm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mN extends lS{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.shadow=new pN}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class cS extends lS{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gN extends ai{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}function mv(n,e,t,r){const a=xN(r);switch(t){case W1:return n*e;case $1:return n*e/a.components*a.byteLength;case Pm:return n*e/a.components*a.byteLength;case Wa:return n*e*2/a.components*a.byteLength;case Im:return n*e*2/a.components*a.byteLength;case X1:return n*e*3/a.components*a.byteLength;case ki:return n*e*4/a.components*a.byteLength;case Dm:return n*e*4/a.components*a.byteLength;case xu:case yu:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vu:case _u:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case up:case fp:return Math.max(n,16)*Math.max(e,8)/4;case cp:case dp:return Math.max(n,8)*Math.max(e,8)/2;case hp:case pp:case gp:case xp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case mp:case yp:case vp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _p:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Sp:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case wp:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Mp:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case bp:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Ep:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Tp:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Ap:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Cp:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Np:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Rp:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Pp:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Ip:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Dp:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Lp:case kp:case Up:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Fp:case Op:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Bp:case jp:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function xN(n){switch(n){case oi:case V1:return{byteLength:1,components:1};case dl:case z1:case Sr:return{byteLength:2,components:1};case Nm:case Rm:return{byteLength:2,components:4};case er:case Cm:case qi:return{byteLength:4,components:1};case H1:case G1:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Am}}));typeof window<"u"&&(window.__THREE__?dt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Am);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function uS(){let n=null,e=!1,t=null,r=null;function a(o,c){t(o,c),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function yN(n){const e=new WeakMap;function t(d,h){const p=d.array,m=d.usage,x=p.byteLength,y=n.createBuffer();n.bindBuffer(h,y),n.bufferData(h,p,m),d.onUploadCallback();let S;if(p instanceof Float32Array)S=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)S=n.HALF_FLOAT;else if(p instanceof Uint16Array)d.isFloat16BufferAttribute?S=n.HALF_FLOAT:S=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)S=n.SHORT;else if(p instanceof Uint32Array)S=n.UNSIGNED_INT;else if(p instanceof Int32Array)S=n.INT;else if(p instanceof Int8Array)S=n.BYTE;else if(p instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:S,bytesPerElement:p.BYTES_PER_ELEMENT,version:d.version,size:x}}function r(d,h,p){const m=h.array,x=h.updateRanges;if(n.bindBuffer(p,d),x.length===0)n.bufferSubData(p,0,m);else{x.sort((S,M)=>S.start-M.start);let y=0;for(let S=1;S<x.length;S++){const M=x[y],T=x[S];T.start<=M.start+M.count+1?M.count=Math.max(M.count,T.start+T.count-M.start):(++y,x[y]=T)}x.length=y+1;for(let S=0,M=x.length;S<M;S++){const T=x[S];n.bufferSubData(p,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}h.clearUpdateRanges()}h.onUploadCallback()}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),e.get(d)}function o(d){d.isInterleavedBufferAttribute&&(d=d.data);const h=e.get(d);h&&(n.deleteBuffer(h.buffer),e.delete(d))}function c(d,h){if(d.isInterleavedBufferAttribute&&(d=d.data),d.isGLBufferAttribute){const m=e.get(d);(!m||m.version<d.version)&&e.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}const p=e.get(d);if(p===void 0)e.set(d,t(d,h));else if(p.version<d.version){if(p.size!==d.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(p.buffer,d,h),p.version=d.version}}return{get:a,remove:o,update:c}}var vN=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,_N=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,SN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,wN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,MN=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,EN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,TN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,AN=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,CN=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,NN=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,RN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PN=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,IN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,DN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,LN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,kN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,UN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ON=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,BN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,VN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,zN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,HN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,GN=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,WN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,XN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$N=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,YN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,qN="gl_FragColor = linearToOutputTexel( gl_FragColor );",KN=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,JN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,QN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,eR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,sR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,oR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,cR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,uR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dR=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,fR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,hR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xR=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yR=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_R=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,SR=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,wR=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MR=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bR=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ER=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,TR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,AR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CR=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NR=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,RR=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,PR=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,IR=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,DR=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,LR=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,kR=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UR=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,FR=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,OR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,BR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jR=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VR=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zR=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,HR=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,GR=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,WR=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,XR=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$R=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,YR=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,qR=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,KR=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ZR=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,JR=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,QR=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,eP=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,tP=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nP=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iP=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rP=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,sP=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aP=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,oP=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lP=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cP=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uP=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dP=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fP=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hP=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,pP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xP=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yP=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vP=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_P=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SP=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,MP=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,EP=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,TP=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AP=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,CP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,NP=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RP=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,PP=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DP=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LP=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kP=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UP=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,FP=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OP=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,BP=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,jP=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VP=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zP=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,HP=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GP=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WP=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XP=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$P=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YP=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qP=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,KP=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ZP=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gt={alphahash_fragment:vN,alphahash_pars_fragment:_N,alphamap_fragment:SN,alphamap_pars_fragment:wN,alphatest_fragment:MN,alphatest_pars_fragment:bN,aomap_fragment:EN,aomap_pars_fragment:TN,batching_pars_vertex:AN,batching_vertex:CN,begin_vertex:NN,beginnormal_vertex:RN,bsdfs:PN,iridescence_fragment:IN,bumpmap_pars_fragment:DN,clipping_planes_fragment:LN,clipping_planes_pars_fragment:kN,clipping_planes_pars_vertex:UN,clipping_planes_vertex:FN,color_fragment:ON,color_pars_fragment:BN,color_pars_vertex:jN,color_vertex:VN,common:zN,cube_uv_reflection_fragment:HN,defaultnormal_vertex:GN,displacementmap_pars_vertex:WN,displacementmap_vertex:XN,emissivemap_fragment:$N,emissivemap_pars_fragment:YN,colorspace_fragment:qN,colorspace_pars_fragment:KN,envmap_fragment:ZN,envmap_common_pars_fragment:JN,envmap_pars_fragment:QN,envmap_pars_vertex:eR,envmap_physical_pars_fragment:dR,envmap_vertex:tR,fog_vertex:nR,fog_pars_vertex:iR,fog_fragment:rR,fog_pars_fragment:sR,gradientmap_pars_fragment:aR,lightmap_pars_fragment:oR,lights_lambert_fragment:lR,lights_lambert_pars_fragment:cR,lights_pars_begin:uR,lights_toon_fragment:fR,lights_toon_pars_fragment:hR,lights_phong_fragment:pR,lights_phong_pars_fragment:mR,lights_physical_fragment:gR,lights_physical_pars_fragment:xR,lights_fragment_begin:yR,lights_fragment_maps:vR,lights_fragment_end:_R,logdepthbuf_fragment:SR,logdepthbuf_pars_fragment:wR,logdepthbuf_pars_vertex:MR,logdepthbuf_vertex:bR,map_fragment:ER,map_pars_fragment:TR,map_particle_fragment:AR,map_particle_pars_fragment:CR,metalnessmap_fragment:NR,metalnessmap_pars_fragment:RR,morphinstance_vertex:PR,morphcolor_vertex:IR,morphnormal_vertex:DR,morphtarget_pars_vertex:LR,morphtarget_vertex:kR,normal_fragment_begin:UR,normal_fragment_maps:FR,normal_pars_fragment:OR,normal_pars_vertex:BR,normal_vertex:jR,normalmap_pars_fragment:VR,clearcoat_normal_fragment_begin:zR,clearcoat_normal_fragment_maps:HR,clearcoat_pars_fragment:GR,iridescence_pars_fragment:WR,opaque_fragment:XR,packing:$R,premultiplied_alpha_fragment:YR,project_vertex:qR,dithering_fragment:KR,dithering_pars_fragment:ZR,roughnessmap_fragment:JR,roughnessmap_pars_fragment:QR,shadowmap_pars_fragment:eP,shadowmap_pars_vertex:tP,shadowmap_vertex:nP,shadowmask_pars_fragment:iP,skinbase_vertex:rP,skinning_pars_vertex:sP,skinning_vertex:aP,skinnormal_vertex:oP,specularmap_fragment:lP,specularmap_pars_fragment:cP,tonemapping_fragment:uP,tonemapping_pars_fragment:dP,transmission_fragment:fP,transmission_pars_fragment:hP,uv_pars_fragment:pP,uv_pars_vertex:mP,uv_vertex:gP,worldpos_vertex:xP,background_vert:yP,background_frag:vP,backgroundCube_vert:_P,backgroundCube_frag:SP,cube_vert:wP,cube_frag:MP,depth_vert:bP,depth_frag:EP,distance_vert:TP,distance_frag:AP,equirect_vert:CP,equirect_frag:NP,linedashed_vert:RP,linedashed_frag:PP,meshbasic_vert:IP,meshbasic_frag:DP,meshlambert_vert:LP,meshlambert_frag:kP,meshmatcap_vert:UP,meshmatcap_frag:FP,meshnormal_vert:OP,meshnormal_frag:BP,meshphong_vert:jP,meshphong_frag:VP,meshphysical_vert:zP,meshphysical_frag:HP,meshtoon_vert:GP,meshtoon_frag:WP,points_vert:XP,points_frag:$P,shadow_vert:YP,shadow_frag:qP,sprite_vert:KP,sprite_frag:ZP},Ue={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pt},alphaMap:{value:null},alphaMapTransform:{value:new pt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pt}},envmap:{envMap:{value:null},envMapRotation:{value:new pt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pt},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pt},alphaTest:{value:0},uvTransform:{value:new pt}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new _t(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pt},alphaMap:{value:null},alphaMapTransform:{value:new pt},alphaTest:{value:0}}},$i={basic:{uniforms:Vn([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:Vn([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Ut(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:Vn([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:Vn([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:Vn([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new Ut(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:Vn([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:Vn([Ue.points,Ue.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:Vn([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:Vn([Ue.common,Ue.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:Vn([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:Vn([Ue.sprite,Ue.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new pt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new pt}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distance:{uniforms:Vn([Ue.common,Ue.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distance_vert,fragmentShader:gt.distance_frag},shadow:{uniforms:Vn([Ue.lights,Ue.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};$i.physical={uniforms:Vn([$i.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pt},clearcoatNormalScale:{value:new _t(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pt},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pt},transmissionSamplerSize:{value:new _t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pt},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pt},anisotropyVector:{value:new _t},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pt}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const au={r:0,b:0,g:0},Ts=new Mr,JP=new Qt;function QP(n,e,t,r,a,o,c){const d=new Ut(0);let h=o===!0?0:1,p,m,x=null,y=0,S=null;function M(N){let I=N.isScene===!0?N.background:null;return I&&I.isTexture&&(I=(N.backgroundBlurriness>0?t:e).get(I)),I}function T(N){let I=!1;const D=M(N);D===null?_(d,h):D&&D.isColor&&(_(D,1),I=!0);const k=n.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,c):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,c),(n.autoClear||I)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(N,I){const D=M(I);D&&(D.isCubeTexture||D.mapping===Vu)?(m===void 0&&(m=new li(new bl(1,1,1),new tr({name:"BackgroundCubeMaterial",uniforms:$a($i.backgroundCube.uniforms),vertexShader:$i.backgroundCube.vertexShader,fragmentShader:$i.backgroundCube.fragmentShader,side:Jn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(k,F,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Ts.copy(I.backgroundRotation),Ts.x*=-1,Ts.y*=-1,Ts.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Ts.y*=-1,Ts.z*=-1),m.material.uniforms.envMap.value=D,m.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(JP.makeRotationFromEuler(Ts)),m.material.toneMapped=Rt.getTransfer(D.colorSpace)!==Bt,(x!==D||y!==D.version||S!==n.toneMapping)&&(m.material.needsUpdate=!0,x=D,y=D.version,S=n.toneMapping),m.layers.enableAll(),N.unshift(m,m.geometry,m.material,0,0,null)):D&&D.isTexture&&(p===void 0&&(p=new li(new zu(2,2),new tr({name:"BackgroundMaterial",uniforms:$a($i.background.uniforms),vertexShader:$i.background.vertexShader,fragmentShader:$i.background.fragmentShader,side:ns,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(p)),p.material.uniforms.t2D.value=D,p.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,p.material.toneMapped=Rt.getTransfer(D.colorSpace)!==Bt,D.matrixAutoUpdate===!0&&D.updateMatrix(),p.material.uniforms.uvTransform.value.copy(D.matrix),(x!==D||y!==D.version||S!==n.toneMapping)&&(p.material.needsUpdate=!0,x=D,y=D.version,S=n.toneMapping),p.layers.enableAll(),N.unshift(p,p.geometry,p.material,0,0,null))}function _(N,I){N.getRGB(au,eS(n)),r.buffers.color.setClear(au.r,au.g,au.b,I,c)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return d},setClearColor:function(N,I=1){d.set(N),h=I,_(d,h)},getClearAlpha:function(){return h},setClearAlpha:function(N){h=N,_(d,h)},render:T,addToRenderList:w,dispose:R}}function eI(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=y(null);let o=a,c=!1;function d(P,H,ae,te,pe){let de=!1;const ce=x(te,ae,H);o!==ce&&(o=ce,p(o.object)),de=S(P,te,ae,pe),de&&M(P,te,ae,pe),pe!==null&&e.update(pe,n.ELEMENT_ARRAY_BUFFER),(de||c)&&(c=!1,I(P,H,ae,te),pe!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(pe).buffer))}function h(){return n.createVertexArray()}function p(P){return n.bindVertexArray(P)}function m(P){return n.deleteVertexArray(P)}function x(P,H,ae){const te=ae.wireframe===!0;let pe=r[P.id];pe===void 0&&(pe={},r[P.id]=pe);let de=pe[H.id];de===void 0&&(de={},pe[H.id]=de);let ce=de[te];return ce===void 0&&(ce=y(h()),de[te]=ce),ce}function y(P){const H=[],ae=[],te=[];for(let pe=0;pe<t;pe++)H[pe]=0,ae[pe]=0,te[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:ae,attributeDivisors:te,object:P,attributes:{},index:null}}function S(P,H,ae,te){const pe=o.attributes,de=H.attributes;let ce=0;const K=ae.getAttributes();for(const $ in K)if(K[$].location>=0){const ie=pe[$];let O=de[$];if(O===void 0&&($==="instanceMatrix"&&P.instanceMatrix&&(O=P.instanceMatrix),$==="instanceColor"&&P.instanceColor&&(O=P.instanceColor)),ie===void 0||ie.attribute!==O||O&&ie.data!==O.data)return!0;ce++}return o.attributesNum!==ce||o.index!==te}function M(P,H,ae,te){const pe={},de=H.attributes;let ce=0;const K=ae.getAttributes();for(const $ in K)if(K[$].location>=0){let ie=de[$];ie===void 0&&($==="instanceMatrix"&&P.instanceMatrix&&(ie=P.instanceMatrix),$==="instanceColor"&&P.instanceColor&&(ie=P.instanceColor));const O={};O.attribute=ie,ie&&ie.data&&(O.data=ie.data),pe[$]=O,ce++}o.attributes=pe,o.attributesNum=ce,o.index=te}function T(){const P=o.newAttributes;for(let H=0,ae=P.length;H<ae;H++)P[H]=0}function w(P){_(P,0)}function _(P,H){const ae=o.newAttributes,te=o.enabledAttributes,pe=o.attributeDivisors;ae[P]=1,te[P]===0&&(n.enableVertexAttribArray(P),te[P]=1),pe[P]!==H&&(n.vertexAttribDivisor(P,H),pe[P]=H)}function R(){const P=o.newAttributes,H=o.enabledAttributes;for(let ae=0,te=H.length;ae<te;ae++)H[ae]!==P[ae]&&(n.disableVertexAttribArray(ae),H[ae]=0)}function N(P,H,ae,te,pe,de,ce){ce===!0?n.vertexAttribIPointer(P,H,ae,pe,de):n.vertexAttribPointer(P,H,ae,te,pe,de)}function I(P,H,ae,te){T();const pe=te.attributes,de=ae.getAttributes(),ce=H.defaultAttributeValues;for(const K in de){const $=de[K];if($.location>=0){let fe=pe[K];if(fe===void 0&&(K==="instanceMatrix"&&P.instanceMatrix&&(fe=P.instanceMatrix),K==="instanceColor"&&P.instanceColor&&(fe=P.instanceColor)),fe!==void 0){const ie=fe.normalized,O=fe.itemSize,le=e.get(fe);if(le===void 0)continue;const Ie=le.buffer,Ze=le.type,et=le.bytesPerElement,re=Ze===n.INT||Ze===n.UNSIGNED_INT||fe.gpuType===Cm;if(fe.isInterleavedBufferAttribute){const he=fe.data,be=he.stride,ze=fe.offset;if(he.isInstancedInterleavedBuffer){for(let Fe=0;Fe<$.locationSize;Fe++)_($.location+Fe,he.meshPerAttribute);P.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Fe=0;Fe<$.locationSize;Fe++)w($.location+Fe);n.bindBuffer(n.ARRAY_BUFFER,Ie);for(let Fe=0;Fe<$.locationSize;Fe++)N($.location+Fe,O/$.locationSize,Ze,ie,be*et,(ze+O/$.locationSize*Fe)*et,re)}else{if(fe.isInstancedBufferAttribute){for(let he=0;he<$.locationSize;he++)_($.location+he,fe.meshPerAttribute);P.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let he=0;he<$.locationSize;he++)w($.location+he);n.bindBuffer(n.ARRAY_BUFFER,Ie);for(let he=0;he<$.locationSize;he++)N($.location+he,O/$.locationSize,Ze,ie,O*et,O/$.locationSize*he*et,re)}}else if(ce!==void 0){const ie=ce[K];if(ie!==void 0)switch(ie.length){case 2:n.vertexAttrib2fv($.location,ie);break;case 3:n.vertexAttrib3fv($.location,ie);break;case 4:n.vertexAttrib4fv($.location,ie);break;default:n.vertexAttrib1fv($.location,ie)}}}}R()}function D(){j();for(const P in r){const H=r[P];for(const ae in H){const te=H[ae];for(const pe in te)m(te[pe].object),delete te[pe];delete H[ae]}delete r[P]}}function k(P){if(r[P.id]===void 0)return;const H=r[P.id];for(const ae in H){const te=H[ae];for(const pe in te)m(te[pe].object),delete te[pe];delete H[ae]}delete r[P.id]}function F(P){for(const H in r){const ae=r[H];if(ae[P.id]===void 0)continue;const te=ae[P.id];for(const pe in te)m(te[pe].object),delete te[pe];delete ae[P.id]}}function j(){A(),c=!0,o!==a&&(o=a,p(o.object))}function A(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:d,reset:j,resetDefaultState:A,dispose:D,releaseStatesOfGeometry:k,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:w,disableUnusedAttributes:R}}function tI(n,e,t){let r;function a(p){r=p}function o(p,m){n.drawArrays(r,p,m),t.update(m,r,1)}function c(p,m,x){x!==0&&(n.drawArraysInstanced(r,p,m,x),t.update(m,r,x))}function d(p,m,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,p,0,m,0,x);let S=0;for(let M=0;M<x;M++)S+=m[M];t.update(S,r,1)}function h(p,m,x,y){if(x===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<p.length;M++)c(p[M],m[M],y[M]);else{S.multiDrawArraysInstancedWEBGL(r,p,0,m,0,y,0,x);let M=0;for(let T=0;T<x;T++)M+=m[T]*y[T];t.update(M,r,1)}}this.setMode=a,this.render=o,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function nI(n,e,t,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function c(F){return!(F!==ki&&r.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function d(F){const j=F===Sr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==oi&&r.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==qi&&!j)}function h(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=h(p);m!==p&&(dt("WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const x=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),S=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),N=n.getParameter(n.MAX_VARYING_VECTORS),I=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=n.getParameter(n.MAX_SAMPLES),k=n.getParameter(n.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:h,textureFormatReadable:c,textureTypeReadable:d,precision:p,logarithmicDepthBuffer:x,reversedDepthBuffer:y,maxTextures:S,maxVertexTextures:M,maxTextureSize:T,maxCubemapSize:w,maxAttributes:_,maxVertexUniforms:R,maxVaryings:N,maxFragmentUniforms:I,maxSamples:D,samples:k}}function iI(n){const e=this;let t=null,r=0,a=!1,o=!1;const c=new Ns,d=new pt,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(x,y){const S=x.length!==0||y||r!==0||a;return a=y,r=x.length,S},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(x,y){t=m(x,y,0)},this.setState=function(x,y,S){const M=x.clippingPlanes,T=x.clipIntersection,w=x.clipShadows,_=n.get(x);if(!a||M===null||M.length===0||o&&!w)o?m(null):p();else{const R=o?0:r,N=R*4;let I=_.clippingState||null;h.value=I,I=m(M,y,N,S);for(let D=0;D!==N;++D)I[D]=t[D];_.clippingState=I,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(x,y,S,M){const T=x!==null?x.length:0;let w=null;if(T!==0){if(w=h.value,M!==!0||w===null){const _=S+T*4,R=y.matrixWorldInverse;d.getNormalMatrix(R),(w===null||w.length<_)&&(w=new Float32Array(_));for(let N=0,I=S;N!==T;++N,I+=4)c.copy(x[N]).applyMatrix4(R,d),c.normal.toArray(w,I),w[I+3]=c.constant}h.value=w,h.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,w}}function rI(n){let e=new WeakMap;function t(c,d){return d===sp?c.mapping=Fs:d===ap&&(c.mapping=Ga),c}function r(c){if(c&&c.isTexture){const d=c.mapping;if(d===sp||d===ap)if(e.has(c)){const h=e.get(c).texture;return t(h,c.mapping)}else{const h=c.image;if(h&&h.height>0){const p=new iS(h.height);return p.fromEquirectangularTexture(n,c),e.set(c,p),c.addEventListener("dispose",a),t(p.texture,c.mapping)}else return null}}return c}function a(c){const d=c.target;d.removeEventListener("dispose",a);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Qr=4,gv=[.125,.215,.35,.446,.526,.582],Ps=20,sI=256,$o=new jm,xv=new Ut;let vh=null,_h=0,Sh=0,wh=!1;const aI=new ee;class yv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,a=100,o={}){const{size:c=256,position:d=aI}=o;vh=this._renderer.getRenderTarget(),_h=this._renderer.getActiveCubeFace(),Sh=this._renderer.getActiveMipmapLevel(),wh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(c);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,r,a,h,d),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Sv(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_v(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(vh,_h,Sh),this._renderer.xr.enabled=wh,e.scissorTest=!1,Ca(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Fs||e.mapping===Ga?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vh=this._renderer.getRenderTarget(),_h=this._renderer.getActiveCubeFace(),Sh=this._renderer.getActiveMipmapLevel(),wh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ln,minFilter:Ln,generateMipmaps:!1,type:Sr,format:ki,colorSpace:Xa,depthBuffer:!1},a=vv(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vv(e,t,r);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=oI(o)),this._blurMaterial=cI(o,e,t),this._ggxMaterial=lI(o,e,t)}return a}_compileMaterial(e){const t=new li(new Bi,e);this._renderer.compile(t,$o)}_sceneToCubeUV(e,t,r,a,o){const h=new ai(90,1,t,r),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],x=this._renderer,y=x.autoClear,S=x.toneMapping;x.getClearColor(xv),x.toneMapping=Ji,x.autoClear=!1,x.state.buffers.depth.getReversed()&&(x.setRenderTarget(a),x.clearDepth(),x.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new li(new bl,new Oa({name:"PMREM.Background",side:Jn,depthWrite:!1,depthTest:!1})));const T=this._backgroundBox,w=T.material;let _=!1;const R=e.background;R?R.isColor&&(w.color.copy(R),e.background=null,_=!0):(w.color.copy(xv),_=!0);for(let N=0;N<6;N++){const I=N%3;I===0?(h.up.set(0,p[N],0),h.position.set(o.x,o.y,o.z),h.lookAt(o.x+m[N],o.y,o.z)):I===1?(h.up.set(0,0,p[N]),h.position.set(o.x,o.y,o.z),h.lookAt(o.x,o.y+m[N],o.z)):(h.up.set(0,p[N],0),h.position.set(o.x,o.y,o.z),h.lookAt(o.x,o.y,o.z+m[N]));const D=this._cubeSize;Ca(a,I*D,N>2?D:0,D,D),x.setRenderTarget(a),_&&x.render(T,h),x.render(e,h)}x.toneMapping=S,x.autoClear=y,e.background=R}_textureToCubeUV(e,t){const r=this._renderer,a=e.mapping===Fs||e.mapping===Ga;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=Sv()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_v());const o=a?this._cubemapMaterial:this._equirectMaterial,c=this._lodMeshes[0];c.material=o;const d=o.uniforms;d.envMap.value=e;const h=this._cubeSize;Ca(t,0,0,3*h,2*h),r.setRenderTarget(t),r.render(c,$o)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let o=1;o<a;o++)this._applyGGXFilter(e,o-1,o);t.autoClear=r}_applyGGXFilter(e,t,r){const a=this._renderer,o=this._pingPongRenderTarget,c=this._ggxMaterial,d=this._lodMeshes[r];d.material=c;const h=c.uniforms,p=r/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),x=Math.sqrt(p*p-m*m),y=0+p*1.25,S=x*y,{_lodMax:M}=this,T=this._sizeLods[r],w=3*T*(r>M-Qr?r-M+Qr:0),_=4*(this._cubeSize-T);h.envMap.value=e.texture,h.roughness.value=S,h.mipInt.value=M-t,Ca(o,w,_,3*T,2*T),a.setRenderTarget(o),a.render(d,$o),h.envMap.value=o.texture,h.roughness.value=0,h.mipInt.value=M-r,Ca(e,w,_,3*T,2*T),a.setRenderTarget(e),a.render(d,$o)}_blur(e,t,r,a,o){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,r,a,"latitudinal",o),this._halfBlur(c,e,r,r,a,"longitudinal",o)}_halfBlur(e,t,r,a,o,c,d){const h=this._renderer,p=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&Nt("blur direction must be either latitudinal or longitudinal!");const m=3,x=this._lodMeshes[a];x.material=p;const y=p.uniforms,S=this._sizeLods[r]-1,M=isFinite(o)?Math.PI/(2*S):2*Math.PI/(2*Ps-1),T=o/M,w=isFinite(o)?1+Math.floor(m*T):Ps;w>Ps&&dt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Ps}`);const _=[];let R=0;for(let F=0;F<Ps;++F){const j=F/T,A=Math.exp(-j*j/2);_.push(A),F===0?R+=A:F<w&&(R+=2*A)}for(let F=0;F<_.length;F++)_[F]=_[F]/R;y.envMap.value=e.texture,y.samples.value=w,y.weights.value=_,y.latitudinal.value=c==="latitudinal",d&&(y.poleAxis.value=d);const{_lodMax:N}=this;y.dTheta.value=M,y.mipInt.value=N-r;const I=this._sizeLods[a],D=3*I*(a>N-Qr?a-N+Qr:0),k=4*(this._cubeSize-I);Ca(t,D,k,3*I,2*I),h.setRenderTarget(t),h.render(x,$o)}}function oI(n){const e=[],t=[],r=[];let a=n;const o=n-Qr+1+gv.length;for(let c=0;c<o;c++){const d=Math.pow(2,a);e.push(d);let h=1/d;c>n-Qr?h=gv[c-n+Qr-1]:c===0&&(h=0),t.push(h);const p=1/(d-2),m=-p,x=1+p,y=[m,m,x,m,x,x,m,m,x,x,m,x],S=6,M=6,T=3,w=2,_=1,R=new Float32Array(T*M*S),N=new Float32Array(w*M*S),I=new Float32Array(_*M*S);for(let k=0;k<S;k++){const F=k%3*2/3-1,j=k>2?0:-1,A=[F,j,0,F+2/3,j,0,F+2/3,j+1,0,F,j,0,F+2/3,j+1,0,F,j+1,0];R.set(A,T*M*k),N.set(y,w*M*k);const P=[k,k,k,k,k,k];I.set(P,_*M*k)}const D=new Bi;D.setAttribute("position",new Ui(R,T)),D.setAttribute("uv",new Ui(N,w)),D.setAttribute("faceIndex",new Ui(I,_)),r.push(new li(D,null)),a>Qr&&a--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function vv(n,e,t){const r=new Qi(n,e,t);return r.texture.mapping=Vu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ca(n,e,t,r,a){n.viewport.set(e,t,r,a),n.scissor.set(e,t,r,a)}function lI(n,e,t){return new tr({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:sI,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Hu(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:yr,depthTest:!1,depthWrite:!1})}function cI(n,e,t){const r=new Float32Array(Ps),a=new ee(0,1,0);return new tr({name:"SphericalGaussianBlur",defines:{n:Ps,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:yr,depthTest:!1,depthWrite:!1})}function _v(){return new tr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:yr,depthTest:!1,depthWrite:!1})}function Sv(){return new tr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:yr,depthTest:!1,depthWrite:!1})}function Hu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function uI(n){let e=new WeakMap,t=null;function r(d){if(d&&d.isTexture){const h=d.mapping,p=h===sp||h===ap,m=h===Fs||h===Ga;if(p||m){let x=e.get(d);const y=x!==void 0?x.texture.pmremVersion:0;if(d.isRenderTargetTexture&&d.pmremVersion!==y)return t===null&&(t=new yv(n)),x=p?t.fromEquirectangular(d,x):t.fromCubemap(d,x),x.texture.pmremVersion=d.pmremVersion,e.set(d,x),x.texture;if(x!==void 0)return x.texture;{const S=d.image;return p&&S&&S.height>0||m&&S&&a(S)?(t===null&&(t=new yv(n)),x=p?t.fromEquirectangular(d):t.fromCubemap(d),x.texture.pmremVersion=d.pmremVersion,e.set(d,x),d.addEventListener("dispose",o),x.texture):null}}}return d}function a(d){let h=0;const p=6;for(let m=0;m<p;m++)d[m]!==void 0&&h++;return h===p}function o(d){const h=d.target;h.removeEventListener("dispose",o);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function c(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:c}}function dI(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const a=n.getExtension(r);return e[r]=a,a}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const a=t(r);return a===null&&pl("WebGLRenderer: "+r+" extension not supported."),a}}}function fI(n,e,t,r){const a={},o=new WeakMap;function c(x){const y=x.target;y.index!==null&&e.remove(y.index);for(const M in y.attributes)e.remove(y.attributes[M]);y.removeEventListener("dispose",c),delete a[y.id];const S=o.get(y);S&&(e.remove(S),o.delete(y)),r.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function d(x,y){return a[y.id]===!0||(y.addEventListener("dispose",c),a[y.id]=!0,t.memory.geometries++),y}function h(x){const y=x.attributes;for(const S in y)e.update(y[S],n.ARRAY_BUFFER)}function p(x){const y=[],S=x.index,M=x.attributes.position;let T=0;if(S!==null){const R=S.array;T=S.version;for(let N=0,I=R.length;N<I;N+=3){const D=R[N+0],k=R[N+1],F=R[N+2];y.push(D,k,k,F,F,D)}}else if(M!==void 0){const R=M.array;T=M.version;for(let N=0,I=R.length/3-1;N<I;N+=3){const D=N+0,k=N+1,F=N+2;y.push(D,k,k,F,F,D)}}else return;const w=new(Y1(y)?Q1:J1)(y,1);w.version=T;const _=o.get(x);_&&e.remove(_),o.set(x,w)}function m(x){const y=o.get(x);if(y){const S=x.index;S!==null&&y.version<S.version&&p(x)}else p(x);return o.get(x)}return{get:d,update:h,getWireframeAttribute:m}}function hI(n,e,t){let r;function a(y){r=y}let o,c;function d(y){o=y.type,c=y.bytesPerElement}function h(y,S){n.drawElements(r,S,o,y*c),t.update(S,r,1)}function p(y,S,M){M!==0&&(n.drawElementsInstanced(r,S,o,y*c,M),t.update(S,r,M))}function m(y,S,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,S,0,o,y,0,M);let w=0;for(let _=0;_<M;_++)w+=S[_];t.update(w,r,1)}function x(y,S,M,T){if(M===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let _=0;_<y.length;_++)p(y[_]/c,S[_],T[_]);else{w.multiDrawElementsInstancedWEBGL(r,S,0,o,y,0,T,0,M);let _=0;for(let R=0;R<M;R++)_+=S[R]*T[R];t.update(_,r,1)}}this.setMode=a,this.setIndex=d,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=x}function pI(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,c,d){switch(t.calls++,c){case n.TRIANGLES:t.triangles+=d*(o/3);break;case n.LINES:t.lines+=d*(o/2);break;case n.LINE_STRIP:t.lines+=d*(o-1);break;case n.LINE_LOOP:t.lines+=d*o;break;case n.POINTS:t.points+=d*o;break;default:Nt("WebGLInfo: Unknown draw mode:",c);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:r}}function mI(n,e,t){const r=new WeakMap,a=new nn;function o(c,d,h){const p=c.morphTargetInfluences,m=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=m!==void 0?m.length:0;let y=r.get(d);if(y===void 0||y.count!==x){let P=function(){j.dispose(),r.delete(d),d.removeEventListener("dispose",P)};var S=P;y!==void 0&&y.texture.dispose();const M=d.morphAttributes.position!==void 0,T=d.morphAttributes.normal!==void 0,w=d.morphAttributes.color!==void 0,_=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],N=d.morphAttributes.color||[];let I=0;M===!0&&(I=1),T===!0&&(I=2),w===!0&&(I=3);let D=d.attributes.position.count*I,k=1;D>e.maxTextureSize&&(k=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const F=new Float32Array(D*k*4*x),j=new q1(F,D,k,x);j.type=qi,j.needsUpdate=!0;const A=I*4;for(let H=0;H<x;H++){const ae=_[H],te=R[H],pe=N[H],de=D*k*4*H;for(let ce=0;ce<ae.count;ce++){const K=ce*A;M===!0&&(a.fromBufferAttribute(ae,ce),F[de+K+0]=a.x,F[de+K+1]=a.y,F[de+K+2]=a.z,F[de+K+3]=0),T===!0&&(a.fromBufferAttribute(te,ce),F[de+K+4]=a.x,F[de+K+5]=a.y,F[de+K+6]=a.z,F[de+K+7]=0),w===!0&&(a.fromBufferAttribute(pe,ce),F[de+K+8]=a.x,F[de+K+9]=a.y,F[de+K+10]=a.z,F[de+K+11]=pe.itemSize===4?a.w:1)}}y={count:x,texture:j,size:new _t(D,k)},r.set(d,y),d.addEventListener("dispose",P)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",c.morphTexture,t);else{let M=0;for(let w=0;w<p.length;w++)M+=p[w];const T=d.morphTargetsRelative?1:1-M;h.getUniforms().setValue(n,"morphTargetBaseInfluence",T),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:o}}function gI(n,e,t,r){let a=new WeakMap;function o(h){const p=r.render.frame,m=h.geometry,x=e.get(h,m);if(a.get(x)!==p&&(e.update(x),a.set(x,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",d)===!1&&h.addEventListener("dispose",d),a.get(h)!==p&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),a.set(h,p))),h.isSkinnedMesh){const y=h.skeleton;a.get(y)!==p&&(y.update(),a.set(y,p))}return x}function c(){a=new WeakMap}function d(h){const p=h.target;p.removeEventListener("dispose",d),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:o,dispose:c}}const xI={[D1]:"LINEAR_TONE_MAPPING",[L1]:"REINHARD_TONE_MAPPING",[k1]:"CINEON_TONE_MAPPING",[U1]:"ACES_FILMIC_TONE_MAPPING",[O1]:"AGX_TONE_MAPPING",[B1]:"NEUTRAL_TONE_MAPPING",[F1]:"CUSTOM_TONE_MAPPING"};function yI(n,e,t,r,a){const o=new Qi(e,t,{type:n,depthBuffer:r,stencilBuffer:a}),c=new Qi(e,t,{type:Sr,depthBuffer:!1,stencilBuffer:!1}),d=new Bi;d.setAttribute("position",new Si([-1,3,0,-1,-1,0,3,-1,0],3)),d.setAttribute("uv",new Si([0,2,0,0,2,0],2));const h=new aN({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new li(d,h),m=new jm(-1,1,1,-1,0,1);let x=null,y=null,S=!1,M,T=null,w=[],_=!1;this.setSize=function(R,N){o.setSize(R,N),c.setSize(R,N);for(let I=0;I<w.length;I++){const D=w[I];D.setSize&&D.setSize(R,N)}},this.setEffects=function(R){w=R,_=w.length>0&&w[0].isRenderPass===!0;const N=o.width,I=o.height;for(let D=0;D<w.length;D++){const k=w[D];k.setSize&&k.setSize(N,I)}},this.begin=function(R,N){if(S||R.toneMapping===Ji&&w.length===0)return!1;if(T=N,N!==null){const I=N.width,D=N.height;(o.width!==I||o.height!==D)&&this.setSize(I,D)}return _===!1&&R.setRenderTarget(o),M=R.toneMapping,R.toneMapping=Ji,!0},this.hasRenderPass=function(){return _},this.end=function(R,N){R.toneMapping=M,S=!0;let I=o,D=c;for(let k=0;k<w.length;k++){const F=w[k];if(F.enabled!==!1&&(F.render(R,D,I,N),F.needsSwap!==!1)){const j=I;I=D,D=j}}if(x!==R.outputColorSpace||y!==R.toneMapping){x=R.outputColorSpace,y=R.toneMapping,h.defines={},Rt.getTransfer(x)===Bt&&(h.defines.SRGB_TRANSFER="");const k=xI[y];k&&(h.defines[k]=""),h.needsUpdate=!0}h.uniforms.tDiffuse.value=I.texture,R.setRenderTarget(T),R.render(p,m),T=null,S=!1},this.isCompositing=function(){return S},this.dispose=function(){o.dispose(),c.dispose(),d.dispose(),h.dispose()}}const dS=new kn,Hp=new ml(1,1),fS=new q1,hS=new L3,pS=new nS,wv=[],Mv=[],bv=new Float32Array(16),Ev=new Float32Array(9),Tv=new Float32Array(4);function Qa(n,e,t){const r=n[0];if(r<=0||r>0)return n;const a=e*t;let o=wv[a];if(o===void 0&&(o=new Float32Array(a),wv[a]=o),e!==0){r.toArray(o,0);for(let c=1,d=0;c!==e;++c)d+=t,n[c].toArray(o,d)}return o}function hn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function pn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Gu(n,e){let t=Mv[e];t===void 0&&(t=new Int32Array(e),Mv[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function vI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function _I(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hn(t,e))return;n.uniform2fv(this.addr,e),pn(t,e)}}function SI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(hn(t,e))return;n.uniform3fv(this.addr,e),pn(t,e)}}function wI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hn(t,e))return;n.uniform4fv(this.addr,e),pn(t,e)}}function MI(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(hn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),pn(t,e)}else{if(hn(t,r))return;Tv.set(r),n.uniformMatrix2fv(this.addr,!1,Tv),pn(t,r)}}function bI(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(hn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),pn(t,e)}else{if(hn(t,r))return;Ev.set(r),n.uniformMatrix3fv(this.addr,!1,Ev),pn(t,r)}}function EI(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(hn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),pn(t,e)}else{if(hn(t,r))return;bv.set(r),n.uniformMatrix4fv(this.addr,!1,bv),pn(t,r)}}function TI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function AI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hn(t,e))return;n.uniform2iv(this.addr,e),pn(t,e)}}function CI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(hn(t,e))return;n.uniform3iv(this.addr,e),pn(t,e)}}function NI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hn(t,e))return;n.uniform4iv(this.addr,e),pn(t,e)}}function RI(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function PI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hn(t,e))return;n.uniform2uiv(this.addr,e),pn(t,e)}}function II(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(hn(t,e))return;n.uniform3uiv(this.addr,e),pn(t,e)}}function DI(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hn(t,e))return;n.uniform4uiv(this.addr,e),pn(t,e)}}function LI(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(Hp.compareFunction=t.isReversedDepthBuffer()?km:Lm,o=Hp):o=dS,t.setTexture2D(e||o,a)}function kI(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(e||hS,a)}function UI(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(e||pS,a)}function FI(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(e||fS,a)}function OI(n){switch(n){case 5126:return vI;case 35664:return _I;case 35665:return SI;case 35666:return wI;case 35674:return MI;case 35675:return bI;case 35676:return EI;case 5124:case 35670:return TI;case 35667:case 35671:return AI;case 35668:case 35672:return CI;case 35669:case 35673:return NI;case 5125:return RI;case 36294:return PI;case 36295:return II;case 36296:return DI;case 35678:case 36198:case 36298:case 36306:case 35682:return LI;case 35679:case 36299:case 36307:return kI;case 35680:case 36300:case 36308:case 36293:return UI;case 36289:case 36303:case 36311:case 36292:return FI}}function BI(n,e){n.uniform1fv(this.addr,e)}function jI(n,e){const t=Qa(e,this.size,2);n.uniform2fv(this.addr,t)}function VI(n,e){const t=Qa(e,this.size,3);n.uniform3fv(this.addr,t)}function zI(n,e){const t=Qa(e,this.size,4);n.uniform4fv(this.addr,t)}function HI(n,e){const t=Qa(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function GI(n,e){const t=Qa(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function WI(n,e){const t=Qa(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function XI(n,e){n.uniform1iv(this.addr,e)}function $I(n,e){n.uniform2iv(this.addr,e)}function YI(n,e){n.uniform3iv(this.addr,e)}function qI(n,e){n.uniform4iv(this.addr,e)}function KI(n,e){n.uniform1uiv(this.addr,e)}function ZI(n,e){n.uniform2uiv(this.addr,e)}function JI(n,e){n.uniform3uiv(this.addr,e)}function QI(n,e){n.uniform4uiv(this.addr,e)}function eD(n,e,t){const r=this.cache,a=e.length,o=Gu(t,a);hn(r,o)||(n.uniform1iv(this.addr,o),pn(r,o));let c;this.type===n.SAMPLER_2D_SHADOW?c=Hp:c=dS;for(let d=0;d!==a;++d)t.setTexture2D(e[d]||c,o[d])}function tD(n,e,t){const r=this.cache,a=e.length,o=Gu(t,a);hn(r,o)||(n.uniform1iv(this.addr,o),pn(r,o));for(let c=0;c!==a;++c)t.setTexture3D(e[c]||hS,o[c])}function nD(n,e,t){const r=this.cache,a=e.length,o=Gu(t,a);hn(r,o)||(n.uniform1iv(this.addr,o),pn(r,o));for(let c=0;c!==a;++c)t.setTextureCube(e[c]||pS,o[c])}function iD(n,e,t){const r=this.cache,a=e.length,o=Gu(t,a);hn(r,o)||(n.uniform1iv(this.addr,o),pn(r,o));for(let c=0;c!==a;++c)t.setTexture2DArray(e[c]||fS,o[c])}function rD(n){switch(n){case 5126:return BI;case 35664:return jI;case 35665:return VI;case 35666:return zI;case 35674:return HI;case 35675:return GI;case 35676:return WI;case 5124:case 35670:return XI;case 35667:case 35671:return $I;case 35668:case 35672:return YI;case 35669:case 35673:return qI;case 5125:return KI;case 36294:return ZI;case 36295:return JI;case 36296:return QI;case 35678:case 36198:case 36298:case 36306:case 35682:return eD;case 35679:case 36299:case 36307:return tD;case 35680:case 36300:case 36308:case 36293:return nD;case 36289:case 36303:case 36311:case 36292:return iD}}class sD{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=OI(t.type)}}class aD{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=rD(t.type)}}class oD{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const a=this.seq;for(let o=0,c=a.length;o!==c;++o){const d=a[o];d.setValue(e,t[d.id],r)}}}const Mh=/(\w+)(\])?(\[|\.)?/g;function Av(n,e){n.seq.push(e),n.map[e.id]=e}function lD(n,e,t){const r=n.name,a=r.length;for(Mh.lastIndex=0;;){const o=Mh.exec(r),c=Mh.lastIndex;let d=o[1];const h=o[2]==="]",p=o[3];if(h&&(d=d|0),p===void 0||p==="["&&c+2===a){Av(t,p===void 0?new sD(d,n,e):new aD(d,n,e));break}else{let x=t.map[d];x===void 0&&(x=new oD(d),Av(t,x)),t=x}}}class Su{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let c=0;c<r;++c){const d=e.getActiveUniform(t,c),h=e.getUniformLocation(t,d.name);lD(d,h,this)}const a=[],o=[];for(const c of this.seq)c.type===e.SAMPLER_2D_SHADOW||c.type===e.SAMPLER_CUBE_SHADOW||c.type===e.SAMPLER_2D_ARRAY_SHADOW?a.push(c):o.push(c);a.length>0&&(this.seq=a.concat(o))}setValue(e,t,r,a){const o=this.map[t];o!==void 0&&o.setValue(e,r,a)}setOptional(e,t,r){const a=t[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,t,r,a){for(let o=0,c=t.length;o!==c;++o){const d=t[o],h=r[d.id];h.needsUpdate!==!1&&d.setValue(e,h.value,a)}}static seqWithValue(e,t){const r=[];for(let a=0,o=e.length;a!==o;++a){const c=e[a];c.id in t&&r.push(c)}return r}}function Cv(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const cD=37297;let uD=0;function dD(n,e){const t=n.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let c=a;c<o;c++){const d=c+1;r.push(`${d===e?">":" "} ${d}: ${t[c]}`)}return r.join(`
`)}const Nv=new pt;function fD(n){Rt._getMatrix(Nv,Rt.workingColorSpace,n);const e=`mat3( ${Nv.elements.map(t=>t.toFixed(4))} )`;switch(Rt.getTransfer(n)){case Nu:return[e,"LinearTransferOETF"];case Bt:return[e,"sRGBTransferOETF"];default:return dt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Rv(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),o=(n.getShaderInfoLog(e)||"").trim();if(r&&o==="")return"";const c=/ERROR: 0:(\d+)/.exec(o);if(c){const d=parseInt(c[1]);return t.toUpperCase()+`

`+o+`

`+dD(n.getShaderSource(e),d)}else return o}function hD(n,e){const t=fD(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const pD={[D1]:"Linear",[L1]:"Reinhard",[k1]:"Cineon",[U1]:"ACESFilmic",[O1]:"AgX",[B1]:"Neutral",[F1]:"Custom"};function mD(n,e){const t=pD[e];return t===void 0?(dt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+n+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const ou=new ee;function gD(){Rt.getLuminanceCoefficients(ou);const n=ou.x.toFixed(4),e=ou.y.toFixed(4),t=ou.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xD(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qo).join(`
`)}function yD(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function vD(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=n.getActiveAttrib(e,a),c=o.name;let d=1;o.type===n.FLOAT_MAT2&&(d=2),o.type===n.FLOAT_MAT3&&(d=3),o.type===n.FLOAT_MAT4&&(d=4),t[c]={type:o.type,location:n.getAttribLocation(e,c),locationSize:d}}return t}function Qo(n){return n!==""}function Pv(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Iv(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _D=/^[ \t]*#include +<([\w\d./]+)>/gm;function Gp(n){return n.replace(_D,wD)}const SD=new Map;function wD(n,e){let t=gt[e];if(t===void 0){const r=SD.get(e);if(r!==void 0)t=gt[r],dt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Gp(t)}const MD=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Dv(n){return n.replace(MD,bD)}function bD(n,e,t,r){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function Lv(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const ED={[gu]:"SHADOWMAP_TYPE_PCF",[Jo]:"SHADOWMAP_TYPE_VSM"};function TD(n){return ED[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const AD={[Fs]:"ENVMAP_TYPE_CUBE",[Ga]:"ENVMAP_TYPE_CUBE",[Vu]:"ENVMAP_TYPE_CUBE_UV"};function CD(n){return n.envMap===!1?"ENVMAP_TYPE_CUBE":AD[n.envMapMode]||"ENVMAP_TYPE_CUBE"}const ND={[Ga]:"ENVMAP_MODE_REFRACTION"};function RD(n){return n.envMap===!1?"ENVMAP_MODE_REFLECTION":ND[n.envMapMode]||"ENVMAP_MODE_REFLECTION"}const PD={[I1]:"ENVMAP_BLENDING_MULTIPLY",[p3]:"ENVMAP_BLENDING_MIX",[m3]:"ENVMAP_BLENDING_ADD"};function ID(n){return n.envMap===!1?"ENVMAP_BLENDING_NONE":PD[n.combine]||"ENVMAP_BLENDING_NONE"}function DD(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function LD(n,e,t,r){const a=n.getContext(),o=t.defines;let c=t.vertexShader,d=t.fragmentShader;const h=TD(t),p=CD(t),m=RD(t),x=ID(t),y=DD(t),S=xD(t),M=yD(o),T=a.createProgram();let w,_,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Qo).join(`
`),w.length>0&&(w+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Qo).join(`
`),_.length>0&&(_+=`
`)):(w=[Lv(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qo).join(`
`),_=[Lv(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+x:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ji?"#define TONE_MAPPING":"",t.toneMapping!==Ji?gt.tonemapping_pars_fragment:"",t.toneMapping!==Ji?mD("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.colorspace_pars_fragment,hD("linearToOutputTexel",t.outputColorSpace),gD(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Qo).join(`
`)),c=Gp(c),c=Pv(c,t),c=Iv(c,t),d=Gp(d),d=Pv(d,t),d=Iv(d,t),c=Dv(c),d=Dv(d),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,w=[S,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,_=["#define varying in",t.glslVersion===$y?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===$y?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const N=R+w+c,I=R+_+d,D=Cv(a,a.VERTEX_SHADER,N),k=Cv(a,a.FRAGMENT_SHADER,I);a.attachShader(T,D),a.attachShader(T,k),t.index0AttributeName!==void 0?a.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(T,0,"position"),a.linkProgram(T);function F(H){if(n.debug.checkShaderErrors){const ae=a.getProgramInfoLog(T)||"",te=a.getShaderInfoLog(D)||"",pe=a.getShaderInfoLog(k)||"",de=ae.trim(),ce=te.trim(),K=pe.trim();let $=!0,fe=!0;if(a.getProgramParameter(T,a.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,T,D,k);else{const ie=Rv(a,D,"vertex"),O=Rv(a,k,"fragment");Nt("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(T,a.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+de+`
`+ie+`
`+O)}else de!==""?dt("WebGLProgram: Program Info Log:",de):(ce===""||K==="")&&(fe=!1);fe&&(H.diagnostics={runnable:$,programLog:de,vertexShader:{log:ce,prefix:w},fragmentShader:{log:K,prefix:_}})}a.deleteShader(D),a.deleteShader(k),j=new Su(a,T),A=vD(a,T)}let j;this.getUniforms=function(){return j===void 0&&F(this),j};let A;this.getAttributes=function(){return A===void 0&&F(this),A};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=a.getProgramParameter(T,cD)),P},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=uD++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=D,this.fragmentShader=k,this}let kD=0;class UD{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(r),c=this._getShaderCacheForMaterial(e);return c.has(a)===!1&&(c.add(a),a.usedTimes++),c.has(o)===!1&&(c.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new FD(e),t.set(e,r)),r}}class FD{constructor(e){this.id=kD++,this.code=e,this.usedTimes=0}}function OD(n,e,t,r,a,o,c){const d=new K1,h=new UD,p=new Set,m=[],x=new Map,y=a.logarithmicDepthBuffer;let S=a.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(A){return p.add(A),A===0?"uv":`uv${A}`}function w(A,P,H,ae,te){const pe=ae.fog,de=te.geometry,ce=A.isMeshStandardMaterial?ae.environment:null,K=(A.isMeshStandardMaterial?t:e).get(A.envMap||ce),$=K&&K.mapping===Vu?K.image.height:null,fe=M[A.type];A.precision!==null&&(S=a.getMaxPrecision(A.precision),S!==A.precision&&dt("WebGLProgram.getParameters:",A.precision,"not supported, using",S,"instead."));const ie=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,O=ie!==void 0?ie.length:0;let le=0;de.morphAttributes.position!==void 0&&(le=1),de.morphAttributes.normal!==void 0&&(le=2),de.morphAttributes.color!==void 0&&(le=3);let Ie,Ze,et,re;if(fe){const Tt=$i[fe];Ie=Tt.vertexShader,Ze=Tt.fragmentShader}else Ie=A.vertexShader,Ze=A.fragmentShader,h.update(A),et=h.getVertexShaderID(A),re=h.getFragmentShaderID(A);const he=n.getRenderTarget(),be=n.state.buffers.depth.getReversed(),ze=te.isInstancedMesh===!0,Fe=te.isBatchedMesh===!0,vt=!!A.map,rn=!!A.matcap,xt=!!K,bt=!!A.aoMap,Lt=!!A.lightMap,ht=!!A.bumpMap,Xt=!!A.normalMap,z=!!A.displacementMap,$t=!!A.emissiveMap,St=!!A.metalnessMap,Et=!!A.roughnessMap,Ye=A.anisotropy>0,L=A.clearcoat>0,b=A.dispersion>0,Y=A.iridescence>0,me=A.sheen>0,xe=A.transmission>0,ue=Ye&&!!A.anisotropyMap,Je=L&&!!A.clearcoatMap,Ae=L&&!!A.clearcoatNormalMap,He=L&&!!A.clearcoatRoughnessMap,ot=Y&&!!A.iridescenceMap,we=Y&&!!A.iridescenceThicknessMap,Pe=me&&!!A.sheenColorMap,Xe=me&&!!A.sheenRoughnessMap,qe=!!A.specularMap,Ne=!!A.specularColorMap,ft=!!A.specularIntensityMap,G=xe&&!!A.transmissionMap,Le=xe&&!!A.thicknessMap,Ee=!!A.gradientMap,ke=!!A.alphaMap,_e=A.alphaTest>0,ge=!!A.alphaHash,Re=!!A.extensions;let lt=Ji;A.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(lt=n.toneMapping);const Ot={shaderID:fe,shaderType:A.type,shaderName:A.name,vertexShader:Ie,fragmentShader:Ze,defines:A.defines,customVertexShaderID:et,customFragmentShaderID:re,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:S,batching:Fe,batchingColor:Fe&&te._colorsTexture!==null,instancing:ze,instancingColor:ze&&te.instanceColor!==null,instancingMorph:ze&&te.morphTexture!==null,outputColorSpace:he===null?n.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:Xa,alphaToCoverage:!!A.alphaToCoverage,map:vt,matcap:rn,envMap:xt,envMapMode:xt&&K.mapping,envMapCubeUVHeight:$,aoMap:bt,lightMap:Lt,bumpMap:ht,normalMap:Xt,displacementMap:z,emissiveMap:$t,normalMapObjectSpace:Xt&&A.normalMapType===v3,normalMapTangentSpace:Xt&&A.normalMapType===y3,metalnessMap:St,roughnessMap:Et,anisotropy:Ye,anisotropyMap:ue,clearcoat:L,clearcoatMap:Je,clearcoatNormalMap:Ae,clearcoatRoughnessMap:He,dispersion:b,iridescence:Y,iridescenceMap:ot,iridescenceThicknessMap:we,sheen:me,sheenColorMap:Pe,sheenRoughnessMap:Xe,specularMap:qe,specularColorMap:Ne,specularIntensityMap:ft,transmission:xe,transmissionMap:G,thicknessMap:Le,gradientMap:Ee,opaque:A.transparent===!1&&A.blending===Ua&&A.alphaToCoverage===!1,alphaMap:ke,alphaTest:_e,alphaHash:ge,combine:A.combine,mapUv:vt&&T(A.map.channel),aoMapUv:bt&&T(A.aoMap.channel),lightMapUv:Lt&&T(A.lightMap.channel),bumpMapUv:ht&&T(A.bumpMap.channel),normalMapUv:Xt&&T(A.normalMap.channel),displacementMapUv:z&&T(A.displacementMap.channel),emissiveMapUv:$t&&T(A.emissiveMap.channel),metalnessMapUv:St&&T(A.metalnessMap.channel),roughnessMapUv:Et&&T(A.roughnessMap.channel),anisotropyMapUv:ue&&T(A.anisotropyMap.channel),clearcoatMapUv:Je&&T(A.clearcoatMap.channel),clearcoatNormalMapUv:Ae&&T(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:He&&T(A.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&T(A.iridescenceMap.channel),iridescenceThicknessMapUv:we&&T(A.iridescenceThicknessMap.channel),sheenColorMapUv:Pe&&T(A.sheenColorMap.channel),sheenRoughnessMapUv:Xe&&T(A.sheenRoughnessMap.channel),specularMapUv:qe&&T(A.specularMap.channel),specularColorMapUv:Ne&&T(A.specularColorMap.channel),specularIntensityMapUv:ft&&T(A.specularIntensityMap.channel),transmissionMapUv:G&&T(A.transmissionMap.channel),thicknessMapUv:Le&&T(A.thicknessMap.channel),alphaMapUv:ke&&T(A.alphaMap.channel),vertexTangents:!!de.attributes.tangent&&(Xt||Ye),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!de.attributes.uv&&(vt||ke),fog:!!pe,useFog:A.fog===!0,fogExp2:!!pe&&pe.isFogExp2,flatShading:A.flatShading===!0&&A.wireframe===!1,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:y,reversedDepthBuffer:be,skinning:te.isSkinnedMesh===!0,morphTargets:de.morphAttributes.position!==void 0,morphNormals:de.morphAttributes.normal!==void 0,morphColors:de.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:le,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:lt,decodeVideoTexture:vt&&A.map.isVideoTexture===!0&&Rt.getTransfer(A.map.colorSpace)===Bt,decodeVideoTextureEmissive:$t&&A.emissiveMap.isVideoTexture===!0&&Rt.getTransfer(A.emissiveMap.colorSpace)===Bt,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===mr,flipSided:A.side===Jn,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:Re&&A.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Re&&A.extensions.multiDraw===!0||Fe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return Ot.vertexUv1s=p.has(1),Ot.vertexUv2s=p.has(2),Ot.vertexUv3s=p.has(3),p.clear(),Ot}function _(A){const P=[];if(A.shaderID?P.push(A.shaderID):(P.push(A.customVertexShaderID),P.push(A.customFragmentShaderID)),A.defines!==void 0)for(const H in A.defines)P.push(H),P.push(A.defines[H]);return A.isRawShaderMaterial===!1&&(R(P,A),N(P,A),P.push(n.outputColorSpace)),P.push(A.customProgramCacheKey),P.join()}function R(A,P){A.push(P.precision),A.push(P.outputColorSpace),A.push(P.envMapMode),A.push(P.envMapCubeUVHeight),A.push(P.mapUv),A.push(P.alphaMapUv),A.push(P.lightMapUv),A.push(P.aoMapUv),A.push(P.bumpMapUv),A.push(P.normalMapUv),A.push(P.displacementMapUv),A.push(P.emissiveMapUv),A.push(P.metalnessMapUv),A.push(P.roughnessMapUv),A.push(P.anisotropyMapUv),A.push(P.clearcoatMapUv),A.push(P.clearcoatNormalMapUv),A.push(P.clearcoatRoughnessMapUv),A.push(P.iridescenceMapUv),A.push(P.iridescenceThicknessMapUv),A.push(P.sheenColorMapUv),A.push(P.sheenRoughnessMapUv),A.push(P.specularMapUv),A.push(P.specularColorMapUv),A.push(P.specularIntensityMapUv),A.push(P.transmissionMapUv),A.push(P.thicknessMapUv),A.push(P.combine),A.push(P.fogExp2),A.push(P.sizeAttenuation),A.push(P.morphTargetsCount),A.push(P.morphAttributeCount),A.push(P.numDirLights),A.push(P.numPointLights),A.push(P.numSpotLights),A.push(P.numSpotLightMaps),A.push(P.numHemiLights),A.push(P.numRectAreaLights),A.push(P.numDirLightShadows),A.push(P.numPointLightShadows),A.push(P.numSpotLightShadows),A.push(P.numSpotLightShadowsWithMaps),A.push(P.numLightProbes),A.push(P.shadowMapType),A.push(P.toneMapping),A.push(P.numClippingPlanes),A.push(P.numClipIntersection),A.push(P.depthPacking)}function N(A,P){d.disableAll(),P.instancing&&d.enable(0),P.instancingColor&&d.enable(1),P.instancingMorph&&d.enable(2),P.matcap&&d.enable(3),P.envMap&&d.enable(4),P.normalMapObjectSpace&&d.enable(5),P.normalMapTangentSpace&&d.enable(6),P.clearcoat&&d.enable(7),P.iridescence&&d.enable(8),P.alphaTest&&d.enable(9),P.vertexColors&&d.enable(10),P.vertexAlphas&&d.enable(11),P.vertexUv1s&&d.enable(12),P.vertexUv2s&&d.enable(13),P.vertexUv3s&&d.enable(14),P.vertexTangents&&d.enable(15),P.anisotropy&&d.enable(16),P.alphaHash&&d.enable(17),P.batching&&d.enable(18),P.dispersion&&d.enable(19),P.batchingColor&&d.enable(20),P.gradientMap&&d.enable(21),A.push(d.mask),d.disableAll(),P.fog&&d.enable(0),P.useFog&&d.enable(1),P.flatShading&&d.enable(2),P.logarithmicDepthBuffer&&d.enable(3),P.reversedDepthBuffer&&d.enable(4),P.skinning&&d.enable(5),P.morphTargets&&d.enable(6),P.morphNormals&&d.enable(7),P.morphColors&&d.enable(8),P.premultipliedAlpha&&d.enable(9),P.shadowMapEnabled&&d.enable(10),P.doubleSided&&d.enable(11),P.flipSided&&d.enable(12),P.useDepthPacking&&d.enable(13),P.dithering&&d.enable(14),P.transmission&&d.enable(15),P.sheen&&d.enable(16),P.opaque&&d.enable(17),P.pointsUvs&&d.enable(18),P.decodeVideoTexture&&d.enable(19),P.decodeVideoTextureEmissive&&d.enable(20),P.alphaToCoverage&&d.enable(21),A.push(d.mask)}function I(A){const P=M[A.type];let H;if(P){const ae=$i[P];H=Y3.clone(ae.uniforms)}else H=A.uniforms;return H}function D(A,P){let H=x.get(P);return H!==void 0?++H.usedTimes:(H=new LD(n,P,A,o),m.push(H),x.set(P,H)),H}function k(A){if(--A.usedTimes===0){const P=m.indexOf(A);m[P]=m[m.length-1],m.pop(),x.delete(A.cacheKey),A.destroy()}}function F(A){h.remove(A)}function j(){h.dispose()}return{getParameters:w,getProgramCacheKey:_,getUniforms:I,acquireProgram:D,releaseProgram:k,releaseShaderCache:F,programs:m,dispose:j}}function BD(){let n=new WeakMap;function e(c){return n.has(c)}function t(c){let d=n.get(c);return d===void 0&&(d={},n.set(c,d)),d}function r(c){n.delete(c)}function a(c,d,h){n.get(c)[d]=h}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:a,dispose:o}}function jD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function kv(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Uv(){const n=[];let e=0;const t=[],r=[],a=[];function o(){e=0,t.length=0,r.length=0,a.length=0}function c(x,y,S,M,T,w){let _=n[e];return _===void 0?(_={id:x.id,object:x,geometry:y,material:S,groupOrder:M,renderOrder:x.renderOrder,z:T,group:w},n[e]=_):(_.id=x.id,_.object=x,_.geometry=y,_.material=S,_.groupOrder=M,_.renderOrder=x.renderOrder,_.z=T,_.group=w),e++,_}function d(x,y,S,M,T,w){const _=c(x,y,S,M,T,w);S.transmission>0?r.push(_):S.transparent===!0?a.push(_):t.push(_)}function h(x,y,S,M,T,w){const _=c(x,y,S,M,T,w);S.transmission>0?r.unshift(_):S.transparent===!0?a.unshift(_):t.unshift(_)}function p(x,y){t.length>1&&t.sort(x||jD),r.length>1&&r.sort(y||kv),a.length>1&&a.sort(y||kv)}function m(){for(let x=e,y=n.length;x<y;x++){const S=n[x];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:t,transmissive:r,transparent:a,init:o,push:d,unshift:h,finish:m,sort:p}}function VD(){let n=new WeakMap;function e(r,a){const o=n.get(r);let c;return o===void 0?(c=new Uv,n.set(r,[c])):a>=o.length?(c=new Uv,o.push(c)):c=o[a],c}function t(){n=new WeakMap}return{get:e,dispose:t}}function zD(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new Ut};break;case"SpotLight":t={position:new ee,direction:new ee,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":t={color:new Ut,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return n[e.id]=t,t}}}function HD(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let GD=0;function WD(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function XD(n){const e=new zD,t=HD(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)r.probe.push(new ee);const a=new ee,o=new Qt,c=new Qt;function d(p){let m=0,x=0,y=0;for(let A=0;A<9;A++)r.probe[A].set(0,0,0);let S=0,M=0,T=0,w=0,_=0,R=0,N=0,I=0,D=0,k=0,F=0;p.sort(WD);for(let A=0,P=p.length;A<P;A++){const H=p[A],ae=H.color,te=H.intensity,pe=H.distance;let de=null;if(H.shadow&&H.shadow.map&&(H.shadow.map.texture.format===Wa?de=H.shadow.map.texture:de=H.shadow.map.depthTexture||H.shadow.map.texture),H.isAmbientLight)m+=ae.r*te,x+=ae.g*te,y+=ae.b*te;else if(H.isLightProbe){for(let ce=0;ce<9;ce++)r.probe[ce].addScaledVector(H.sh.coefficients[ce],te);F++}else if(H.isDirectionalLight){const ce=e.get(H);if(ce.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const K=H.shadow,$=t.get(H);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,r.directionalShadow[S]=$,r.directionalShadowMap[S]=de,r.directionalShadowMatrix[S]=H.shadow.matrix,R++}r.directional[S]=ce,S++}else if(H.isSpotLight){const ce=e.get(H);ce.position.setFromMatrixPosition(H.matrixWorld),ce.color.copy(ae).multiplyScalar(te),ce.distance=pe,ce.coneCos=Math.cos(H.angle),ce.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),ce.decay=H.decay,r.spot[T]=ce;const K=H.shadow;if(H.map&&(r.spotLightMap[D]=H.map,D++,K.updateMatrices(H),H.castShadow&&k++),r.spotLightMatrix[T]=K.matrix,H.castShadow){const $=t.get(H);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,r.spotShadow[T]=$,r.spotShadowMap[T]=de,I++}T++}else if(H.isRectAreaLight){const ce=e.get(H);ce.color.copy(ae).multiplyScalar(te),ce.halfWidth.set(H.width*.5,0,0),ce.halfHeight.set(0,H.height*.5,0),r.rectArea[w]=ce,w++}else if(H.isPointLight){const ce=e.get(H);if(ce.color.copy(H.color).multiplyScalar(H.intensity),ce.distance=H.distance,ce.decay=H.decay,H.castShadow){const K=H.shadow,$=t.get(H);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,$.shadowCameraNear=K.camera.near,$.shadowCameraFar=K.camera.far,r.pointShadow[M]=$,r.pointShadowMap[M]=de,r.pointShadowMatrix[M]=H.shadow.matrix,N++}r.point[M]=ce,M++}else if(H.isHemisphereLight){const ce=e.get(H);ce.skyColor.copy(H.color).multiplyScalar(te),ce.groundColor.copy(H.groundColor).multiplyScalar(te),r.hemi[_]=ce,_++}}w>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_FLOAT_1,r.rectAreaLTC2=Ue.LTC_FLOAT_2):(r.rectAreaLTC1=Ue.LTC_HALF_1,r.rectAreaLTC2=Ue.LTC_HALF_2)),r.ambient[0]=m,r.ambient[1]=x,r.ambient[2]=y;const j=r.hash;(j.directionalLength!==S||j.pointLength!==M||j.spotLength!==T||j.rectAreaLength!==w||j.hemiLength!==_||j.numDirectionalShadows!==R||j.numPointShadows!==N||j.numSpotShadows!==I||j.numSpotMaps!==D||j.numLightProbes!==F)&&(r.directional.length=S,r.spot.length=T,r.rectArea.length=w,r.point.length=M,r.hemi.length=_,r.directionalShadow.length=R,r.directionalShadowMap.length=R,r.pointShadow.length=N,r.pointShadowMap.length=N,r.spotShadow.length=I,r.spotShadowMap.length=I,r.directionalShadowMatrix.length=R,r.pointShadowMatrix.length=N,r.spotLightMatrix.length=I+D-k,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=F,j.directionalLength=S,j.pointLength=M,j.spotLength=T,j.rectAreaLength=w,j.hemiLength=_,j.numDirectionalShadows=R,j.numPointShadows=N,j.numSpotShadows=I,j.numSpotMaps=D,j.numLightProbes=F,r.version=GD++)}function h(p,m){let x=0,y=0,S=0,M=0,T=0;const w=m.matrixWorldInverse;for(let _=0,R=p.length;_<R;_++){const N=p[_];if(N.isDirectionalLight){const I=r.directional[x];I.direction.setFromMatrixPosition(N.matrixWorld),a.setFromMatrixPosition(N.target.matrixWorld),I.direction.sub(a),I.direction.transformDirection(w),x++}else if(N.isSpotLight){const I=r.spot[S];I.position.setFromMatrixPosition(N.matrixWorld),I.position.applyMatrix4(w),I.direction.setFromMatrixPosition(N.matrixWorld),a.setFromMatrixPosition(N.target.matrixWorld),I.direction.sub(a),I.direction.transformDirection(w),S++}else if(N.isRectAreaLight){const I=r.rectArea[M];I.position.setFromMatrixPosition(N.matrixWorld),I.position.applyMatrix4(w),c.identity(),o.copy(N.matrixWorld),o.premultiply(w),c.extractRotation(o),I.halfWidth.set(N.width*.5,0,0),I.halfHeight.set(0,N.height*.5,0),I.halfWidth.applyMatrix4(c),I.halfHeight.applyMatrix4(c),M++}else if(N.isPointLight){const I=r.point[y];I.position.setFromMatrixPosition(N.matrixWorld),I.position.applyMatrix4(w),y++}else if(N.isHemisphereLight){const I=r.hemi[T];I.direction.setFromMatrixPosition(N.matrixWorld),I.direction.transformDirection(w),T++}}}return{setup:d,setupView:h,state:r}}function Fv(n){const e=new XD(n),t=[],r=[];function a(m){p.camera=m,t.length=0,r.length=0}function o(m){t.push(m)}function c(m){r.push(m)}function d(){e.setup(t)}function h(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:p,setupLights:d,setupLightsView:h,pushLight:o,pushShadow:c}}function $D(n){let e=new WeakMap;function t(a,o=0){const c=e.get(a);let d;return c===void 0?(d=new Fv(n),e.set(a,[d])):o>=c.length?(d=new Fv(n),c.push(d)):d=c[o],d}function r(){e=new WeakMap}return{get:t,dispose:r}}const YD=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qD=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,KD=[new ee(1,0,0),new ee(-1,0,0),new ee(0,1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1)],ZD=[new ee(0,-1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,-1,0),new ee(0,-1,0)],Ov=new Qt,Yo=new ee,bh=new ee;function JD(n,e,t){let r=new Om;const a=new _t,o=new _t,c=new nn,d=new oN,h=new lN,p={},m=t.maxTextureSize,x={[ns]:Jn,[Jn]:ns,[mr]:mr},y=new tr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _t},radius:{value:4}},vertexShader:YD,fragmentShader:qD}),S=y.clone();S.defines.HORIZONTAL_PASS=1;const M=new Bi;M.setAttribute("position",new Ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new li(M,y),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=gu;let _=this.type;this.render=function(k,F,j){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||k.length===0)return;k.type===qC&&(dt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),k.type=gu);const A=n.getRenderTarget(),P=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),ae=n.state;ae.setBlending(yr),ae.buffers.depth.getReversed()===!0?ae.buffers.color.setClear(0,0,0,0):ae.buffers.color.setClear(1,1,1,1),ae.buffers.depth.setTest(!0),ae.setScissorTest(!1);const te=_!==this.type;te&&F.traverse(function(pe){pe.material&&(Array.isArray(pe.material)?pe.material.forEach(de=>de.needsUpdate=!0):pe.material.needsUpdate=!0)});for(let pe=0,de=k.length;pe<de;pe++){const ce=k[pe],K=ce.shadow;if(K===void 0){dt("WebGLShadowMap:",ce,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;a.copy(K.mapSize);const $=K.getFrameExtents();if(a.multiply($),o.copy(K.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(o.x=Math.floor(m/$.x),a.x=o.x*$.x,K.mapSize.x=o.x),a.y>m&&(o.y=Math.floor(m/$.y),a.y=o.y*$.y,K.mapSize.y=o.y)),K.map===null||te===!0){if(K.map!==null&&(K.map.depthTexture!==null&&(K.map.depthTexture.dispose(),K.map.depthTexture=null),K.map.dispose()),this.type===Jo){if(ce.isPointLight){dt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}K.map=new Qi(a.x,a.y,{format:Wa,type:Sr,minFilter:Ln,magFilter:Ln,generateMipmaps:!1}),K.map.texture.name=ce.name+".shadowMap",K.map.depthTexture=new ml(a.x,a.y,qi),K.map.depthTexture.name=ce.name+".shadowMapDepth",K.map.depthTexture.format=wr,K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=bn,K.map.depthTexture.magFilter=bn}else{ce.isPointLight?(K.map=new iS(a.x),K.map.depthTexture=new sN(a.x,er)):(K.map=new Qi(a.x,a.y),K.map.depthTexture=new ml(a.x,a.y,er)),K.map.depthTexture.name=ce.name+".shadowMap",K.map.depthTexture.format=wr;const ie=n.state.buffers.depth.getReversed();this.type===gu?(K.map.depthTexture.compareFunction=ie?km:Lm,K.map.depthTexture.minFilter=Ln,K.map.depthTexture.magFilter=Ln):(K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=bn,K.map.depthTexture.magFilter=bn)}K.camera.updateProjectionMatrix()}const fe=K.map.isWebGLCubeRenderTarget?6:1;for(let ie=0;ie<fe;ie++){if(K.map.isWebGLCubeRenderTarget)n.setRenderTarget(K.map,ie),n.clear();else{ie===0&&(n.setRenderTarget(K.map),n.clear());const O=K.getViewport(ie);c.set(o.x*O.x,o.y*O.y,o.x*O.z,o.y*O.w),ae.viewport(c)}if(ce.isPointLight){const O=K.camera,le=K.matrix,Ie=ce.distance||O.far;Ie!==O.far&&(O.far=Ie,O.updateProjectionMatrix()),Yo.setFromMatrixPosition(ce.matrixWorld),O.position.copy(Yo),bh.copy(O.position),bh.add(KD[ie]),O.up.copy(ZD[ie]),O.lookAt(bh),O.updateMatrixWorld(),le.makeTranslation(-Yo.x,-Yo.y,-Yo.z),Ov.multiplyMatrices(O.projectionMatrix,O.matrixWorldInverse),K._frustum.setFromProjectionMatrix(Ov,O.coordinateSystem,O.reversedDepth)}else K.updateMatrices(ce);r=K.getFrustum(),I(F,j,K.camera,ce,this.type)}K.isPointLightShadow!==!0&&this.type===Jo&&R(K,j),K.needsUpdate=!1}_=this.type,w.needsUpdate=!1,n.setRenderTarget(A,P,H)};function R(k,F){const j=e.update(T);y.defines.VSM_SAMPLES!==k.blurSamples&&(y.defines.VSM_SAMPLES=k.blurSamples,S.defines.VSM_SAMPLES=k.blurSamples,y.needsUpdate=!0,S.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new Qi(a.x,a.y,{format:Wa,type:Sr})),y.uniforms.shadow_pass.value=k.map.depthTexture,y.uniforms.resolution.value=k.mapSize,y.uniforms.radius.value=k.radius,n.setRenderTarget(k.mapPass),n.clear(),n.renderBufferDirect(F,null,j,y,T,null),S.uniforms.shadow_pass.value=k.mapPass.texture,S.uniforms.resolution.value=k.mapSize,S.uniforms.radius.value=k.radius,n.setRenderTarget(k.map),n.clear(),n.renderBufferDirect(F,null,j,S,T,null)}function N(k,F,j,A){let P=null;const H=j.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(H!==void 0)P=H;else if(P=j.isPointLight===!0?h:d,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const ae=P.uuid,te=F.uuid;let pe=p[ae];pe===void 0&&(pe={},p[ae]=pe);let de=pe[te];de===void 0&&(de=P.clone(),pe[te]=de,F.addEventListener("dispose",D)),P=de}if(P.visible=F.visible,P.wireframe=F.wireframe,A===Jo?P.side=F.shadowSide!==null?F.shadowSide:F.side:P.side=F.shadowSide!==null?F.shadowSide:x[F.side],P.alphaMap=F.alphaMap,P.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,P.map=F.map,P.clipShadows=F.clipShadows,P.clippingPlanes=F.clippingPlanes,P.clipIntersection=F.clipIntersection,P.displacementMap=F.displacementMap,P.displacementScale=F.displacementScale,P.displacementBias=F.displacementBias,P.wireframeLinewidth=F.wireframeLinewidth,P.linewidth=F.linewidth,j.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const ae=n.properties.get(P);ae.light=j}return P}function I(k,F,j,A,P){if(k.visible===!1)return;if(k.layers.test(F.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&P===Jo)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,k.matrixWorld);const te=e.update(k),pe=k.material;if(Array.isArray(pe)){const de=te.groups;for(let ce=0,K=de.length;ce<K;ce++){const $=de[ce],fe=pe[$.materialIndex];if(fe&&fe.visible){const ie=N(k,fe,A,P);k.onBeforeShadow(n,k,F,j,te,ie,$),n.renderBufferDirect(j,null,te,ie,k,$),k.onAfterShadow(n,k,F,j,te,ie,$)}}}else if(pe.visible){const de=N(k,pe,A,P);k.onBeforeShadow(n,k,F,j,te,de,null),n.renderBufferDirect(j,null,te,de,k,null),k.onAfterShadow(n,k,F,j,te,de,null)}}const ae=k.children;for(let te=0,pe=ae.length;te<pe;te++)I(ae[te],F,j,A,P)}function D(k){k.target.removeEventListener("dispose",D);for(const j in p){const A=p[j],P=k.target.uuid;P in A&&(A[P].dispose(),delete A[P])}}}const QD={[Jh]:Qh,[ep]:ip,[tp]:rp,[Ha]:np,[Qh]:Jh,[ip]:ep,[rp]:tp,[np]:Ha};function eL(n,e){function t(){let G=!1;const Le=new nn;let Ee=null;const ke=new nn(0,0,0,0);return{setMask:function(_e){Ee!==_e&&!G&&(n.colorMask(_e,_e,_e,_e),Ee=_e)},setLocked:function(_e){G=_e},setClear:function(_e,ge,Re,lt,Ot){Ot===!0&&(_e*=lt,ge*=lt,Re*=lt),Le.set(_e,ge,Re,lt),ke.equals(Le)===!1&&(n.clearColor(_e,ge,Re,lt),ke.copy(Le))},reset:function(){G=!1,Ee=null,ke.set(-1,0,0,0)}}}function r(){let G=!1,Le=!1,Ee=null,ke=null,_e=null;return{setReversed:function(ge){if(Le!==ge){const Re=e.get("EXT_clip_control");ge?Re.clipControlEXT(Re.LOWER_LEFT_EXT,Re.ZERO_TO_ONE_EXT):Re.clipControlEXT(Re.LOWER_LEFT_EXT,Re.NEGATIVE_ONE_TO_ONE_EXT),Le=ge;const lt=_e;_e=null,this.setClear(lt)}},getReversed:function(){return Le},setTest:function(ge){ge?he(n.DEPTH_TEST):be(n.DEPTH_TEST)},setMask:function(ge){Ee!==ge&&!G&&(n.depthMask(ge),Ee=ge)},setFunc:function(ge){if(Le&&(ge=QD[ge]),ke!==ge){switch(ge){case Jh:n.depthFunc(n.NEVER);break;case Qh:n.depthFunc(n.ALWAYS);break;case ep:n.depthFunc(n.LESS);break;case Ha:n.depthFunc(n.LEQUAL);break;case tp:n.depthFunc(n.EQUAL);break;case np:n.depthFunc(n.GEQUAL);break;case ip:n.depthFunc(n.GREATER);break;case rp:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ke=ge}},setLocked:function(ge){G=ge},setClear:function(ge){_e!==ge&&(Le&&(ge=1-ge),n.clearDepth(ge),_e=ge)},reset:function(){G=!1,Ee=null,ke=null,_e=null,Le=!1}}}function a(){let G=!1,Le=null,Ee=null,ke=null,_e=null,ge=null,Re=null,lt=null,Ot=null;return{setTest:function(Tt){G||(Tt?he(n.STENCIL_TEST):be(n.STENCIL_TEST))},setMask:function(Tt){Le!==Tt&&!G&&(n.stencilMask(Tt),Le=Tt)},setFunc:function(Tt,Qn,Un){(Ee!==Tt||ke!==Qn||_e!==Un)&&(n.stencilFunc(Tt,Qn,Un),Ee=Tt,ke=Qn,_e=Un)},setOp:function(Tt,Qn,Un){(ge!==Tt||Re!==Qn||lt!==Un)&&(n.stencilOp(Tt,Qn,Un),ge=Tt,Re=Qn,lt=Un)},setLocked:function(Tt){G=Tt},setClear:function(Tt){Ot!==Tt&&(n.clearStencil(Tt),Ot=Tt)},reset:function(){G=!1,Le=null,Ee=null,ke=null,_e=null,ge=null,Re=null,lt=null,Ot=null}}}const o=new t,c=new r,d=new a,h=new WeakMap,p=new WeakMap;let m={},x={},y=new WeakMap,S=[],M=null,T=!1,w=null,_=null,R=null,N=null,I=null,D=null,k=null,F=new Ut(0,0,0),j=0,A=!1,P=null,H=null,ae=null,te=null,pe=null;const de=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ce=!1,K=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec($)[1]),ce=K>=1):$.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),ce=K>=2);let fe=null,ie={};const O=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),Ie=new nn().fromArray(O),Ze=new nn().fromArray(le);function et(G,Le,Ee,ke){const _e=new Uint8Array(4),ge=n.createTexture();n.bindTexture(G,ge),n.texParameteri(G,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(G,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Re=0;Re<Ee;Re++)G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY?n.texImage3D(Le,0,n.RGBA,1,1,ke,0,n.RGBA,n.UNSIGNED_BYTE,_e):n.texImage2D(Le+Re,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,_e);return ge}const re={};re[n.TEXTURE_2D]=et(n.TEXTURE_2D,n.TEXTURE_2D,1),re[n.TEXTURE_CUBE_MAP]=et(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),re[n.TEXTURE_2D_ARRAY]=et(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),re[n.TEXTURE_3D]=et(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),c.setClear(1),d.setClear(0),he(n.DEPTH_TEST),c.setFunc(Ha),ht(!1),Xt(zy),he(n.CULL_FACE),bt(yr);function he(G){m[G]!==!0&&(n.enable(G),m[G]=!0)}function be(G){m[G]!==!1&&(n.disable(G),m[G]=!1)}function ze(G,Le){return x[G]!==Le?(n.bindFramebuffer(G,Le),x[G]=Le,G===n.DRAW_FRAMEBUFFER&&(x[n.FRAMEBUFFER]=Le),G===n.FRAMEBUFFER&&(x[n.DRAW_FRAMEBUFFER]=Le),!0):!1}function Fe(G,Le){let Ee=S,ke=!1;if(G){Ee=y.get(Le),Ee===void 0&&(Ee=[],y.set(Le,Ee));const _e=G.textures;if(Ee.length!==_e.length||Ee[0]!==n.COLOR_ATTACHMENT0){for(let ge=0,Re=_e.length;ge<Re;ge++)Ee[ge]=n.COLOR_ATTACHMENT0+ge;Ee.length=_e.length,ke=!0}}else Ee[0]!==n.BACK&&(Ee[0]=n.BACK,ke=!0);ke&&n.drawBuffers(Ee)}function vt(G){return M!==G?(n.useProgram(G),M=G,!0):!1}const rn={[Rs]:n.FUNC_ADD,[ZC]:n.FUNC_SUBTRACT,[JC]:n.FUNC_REVERSE_SUBTRACT};rn[QC]=n.MIN,rn[e3]=n.MAX;const xt={[t3]:n.ZERO,[n3]:n.ONE,[i3]:n.SRC_COLOR,[Kh]:n.SRC_ALPHA,[c3]:n.SRC_ALPHA_SATURATE,[o3]:n.DST_COLOR,[s3]:n.DST_ALPHA,[r3]:n.ONE_MINUS_SRC_COLOR,[Zh]:n.ONE_MINUS_SRC_ALPHA,[l3]:n.ONE_MINUS_DST_COLOR,[a3]:n.ONE_MINUS_DST_ALPHA,[u3]:n.CONSTANT_COLOR,[d3]:n.ONE_MINUS_CONSTANT_COLOR,[f3]:n.CONSTANT_ALPHA,[h3]:n.ONE_MINUS_CONSTANT_ALPHA};function bt(G,Le,Ee,ke,_e,ge,Re,lt,Ot,Tt){if(G===yr){T===!0&&(be(n.BLEND),T=!1);return}if(T===!1&&(he(n.BLEND),T=!0),G!==KC){if(G!==w||Tt!==A){if((_!==Rs||I!==Rs)&&(n.blendEquation(n.FUNC_ADD),_=Rs,I=Rs),Tt)switch(G){case Ua:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Hy:n.blendFunc(n.ONE,n.ONE);break;case Gy:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Wy:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Nt("WebGLState: Invalid blending: ",G);break}else switch(G){case Ua:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Hy:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Gy:Nt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Wy:Nt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Nt("WebGLState: Invalid blending: ",G);break}R=null,N=null,D=null,k=null,F.set(0,0,0),j=0,w=G,A=Tt}return}_e=_e||Le,ge=ge||Ee,Re=Re||ke,(Le!==_||_e!==I)&&(n.blendEquationSeparate(rn[Le],rn[_e]),_=Le,I=_e),(Ee!==R||ke!==N||ge!==D||Re!==k)&&(n.blendFuncSeparate(xt[Ee],xt[ke],xt[ge],xt[Re]),R=Ee,N=ke,D=ge,k=Re),(lt.equals(F)===!1||Ot!==j)&&(n.blendColor(lt.r,lt.g,lt.b,Ot),F.copy(lt),j=Ot),w=G,A=!1}function Lt(G,Le){G.side===mr?be(n.CULL_FACE):he(n.CULL_FACE);let Ee=G.side===Jn;Le&&(Ee=!Ee),ht(Ee),G.blending===Ua&&G.transparent===!1?bt(yr):bt(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.blendColor,G.blendAlpha,G.premultipliedAlpha),c.setFunc(G.depthFunc),c.setTest(G.depthTest),c.setMask(G.depthWrite),o.setMask(G.colorWrite);const ke=G.stencilWrite;d.setTest(ke),ke&&(d.setMask(G.stencilWriteMask),d.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),d.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),$t(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0?he(n.SAMPLE_ALPHA_TO_COVERAGE):be(n.SAMPLE_ALPHA_TO_COVERAGE)}function ht(G){P!==G&&(G?n.frontFace(n.CW):n.frontFace(n.CCW),P=G)}function Xt(G){G!==$C?(he(n.CULL_FACE),G!==H&&(G===zy?n.cullFace(n.BACK):G===YC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):be(n.CULL_FACE),H=G}function z(G){G!==ae&&(ce&&n.lineWidth(G),ae=G)}function $t(G,Le,Ee){G?(he(n.POLYGON_OFFSET_FILL),(te!==Le||pe!==Ee)&&(n.polygonOffset(Le,Ee),te=Le,pe=Ee)):be(n.POLYGON_OFFSET_FILL)}function St(G){G?he(n.SCISSOR_TEST):be(n.SCISSOR_TEST)}function Et(G){G===void 0&&(G=n.TEXTURE0+de-1),fe!==G&&(n.activeTexture(G),fe=G)}function Ye(G,Le,Ee){Ee===void 0&&(fe===null?Ee=n.TEXTURE0+de-1:Ee=fe);let ke=ie[Ee];ke===void 0&&(ke={type:void 0,texture:void 0},ie[Ee]=ke),(ke.type!==G||ke.texture!==Le)&&(fe!==Ee&&(n.activeTexture(Ee),fe=Ee),n.bindTexture(G,Le||re[G]),ke.type=G,ke.texture=Le)}function L(){const G=ie[fe];G!==void 0&&G.type!==void 0&&(n.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)}function b(){try{n.compressedTexImage2D(...arguments)}catch(G){Nt("WebGLState:",G)}}function Y(){try{n.compressedTexImage3D(...arguments)}catch(G){Nt("WebGLState:",G)}}function me(){try{n.texSubImage2D(...arguments)}catch(G){Nt("WebGLState:",G)}}function xe(){try{n.texSubImage3D(...arguments)}catch(G){Nt("WebGLState:",G)}}function ue(){try{n.compressedTexSubImage2D(...arguments)}catch(G){Nt("WebGLState:",G)}}function Je(){try{n.compressedTexSubImage3D(...arguments)}catch(G){Nt("WebGLState:",G)}}function Ae(){try{n.texStorage2D(...arguments)}catch(G){Nt("WebGLState:",G)}}function He(){try{n.texStorage3D(...arguments)}catch(G){Nt("WebGLState:",G)}}function ot(){try{n.texImage2D(...arguments)}catch(G){Nt("WebGLState:",G)}}function we(){try{n.texImage3D(...arguments)}catch(G){Nt("WebGLState:",G)}}function Pe(G){Ie.equals(G)===!1&&(n.scissor(G.x,G.y,G.z,G.w),Ie.copy(G))}function Xe(G){Ze.equals(G)===!1&&(n.viewport(G.x,G.y,G.z,G.w),Ze.copy(G))}function qe(G,Le){let Ee=p.get(Le);Ee===void 0&&(Ee=new WeakMap,p.set(Le,Ee));let ke=Ee.get(G);ke===void 0&&(ke=n.getUniformBlockIndex(Le,G.name),Ee.set(G,ke))}function Ne(G,Le){const ke=p.get(Le).get(G);h.get(Le)!==ke&&(n.uniformBlockBinding(Le,ke,G.__bindingPointIndex),h.set(Le,ke))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),c.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},fe=null,ie={},x={},y=new WeakMap,S=[],M=null,T=!1,w=null,_=null,R=null,N=null,I=null,D=null,k=null,F=new Ut(0,0,0),j=0,A=!1,P=null,H=null,ae=null,te=null,pe=null,Ie.set(0,0,n.canvas.width,n.canvas.height),Ze.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),d.reset()}return{buffers:{color:o,depth:c,stencil:d},enable:he,disable:be,bindFramebuffer:ze,drawBuffers:Fe,useProgram:vt,setBlending:bt,setMaterial:Lt,setFlipSided:ht,setCullFace:Xt,setLineWidth:z,setPolygonOffset:$t,setScissorTest:St,activeTexture:Et,bindTexture:Ye,unbindTexture:L,compressedTexImage2D:b,compressedTexImage3D:Y,texImage2D:ot,texImage3D:we,updateUBOMapping:qe,uniformBlockBinding:Ne,texStorage2D:Ae,texStorage3D:He,texSubImage2D:me,texSubImage3D:xe,compressedTexSubImage2D:ue,compressedTexSubImage3D:Je,scissor:Pe,viewport:Xe,reset:ft}}function tL(n,e,t,r,a,o,c){const d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new _t,m=new WeakMap;let x;const y=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(L,b){return S?new OffscreenCanvas(L,b):hl("canvas")}function T(L,b,Y){let me=1;const xe=Ye(L);if((xe.width>Y||xe.height>Y)&&(me=Y/Math.max(xe.width,xe.height)),me<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const ue=Math.floor(me*xe.width),Je=Math.floor(me*xe.height);x===void 0&&(x=M(ue,Je));const Ae=b?M(ue,Je):x;return Ae.width=ue,Ae.height=Je,Ae.getContext("2d").drawImage(L,0,0,ue,Je),dt("WebGLRenderer: Texture has been resized from ("+xe.width+"x"+xe.height+") to ("+ue+"x"+Je+")."),Ae}else return"data"in L&&dt("WebGLRenderer: Image in DataTexture is too big ("+xe.width+"x"+xe.height+")."),L;return L}function w(L){return L.generateMipmaps}function _(L){n.generateMipmap(L)}function R(L){return L.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:L.isWebGL3DRenderTarget?n.TEXTURE_3D:L.isWebGLArrayRenderTarget||L.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function N(L,b,Y,me,xe=!1){if(L!==null){if(n[L]!==void 0)return n[L];dt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let ue=b;if(b===n.RED&&(Y===n.FLOAT&&(ue=n.R32F),Y===n.HALF_FLOAT&&(ue=n.R16F),Y===n.UNSIGNED_BYTE&&(ue=n.R8)),b===n.RED_INTEGER&&(Y===n.UNSIGNED_BYTE&&(ue=n.R8UI),Y===n.UNSIGNED_SHORT&&(ue=n.R16UI),Y===n.UNSIGNED_INT&&(ue=n.R32UI),Y===n.BYTE&&(ue=n.R8I),Y===n.SHORT&&(ue=n.R16I),Y===n.INT&&(ue=n.R32I)),b===n.RG&&(Y===n.FLOAT&&(ue=n.RG32F),Y===n.HALF_FLOAT&&(ue=n.RG16F),Y===n.UNSIGNED_BYTE&&(ue=n.RG8)),b===n.RG_INTEGER&&(Y===n.UNSIGNED_BYTE&&(ue=n.RG8UI),Y===n.UNSIGNED_SHORT&&(ue=n.RG16UI),Y===n.UNSIGNED_INT&&(ue=n.RG32UI),Y===n.BYTE&&(ue=n.RG8I),Y===n.SHORT&&(ue=n.RG16I),Y===n.INT&&(ue=n.RG32I)),b===n.RGB_INTEGER&&(Y===n.UNSIGNED_BYTE&&(ue=n.RGB8UI),Y===n.UNSIGNED_SHORT&&(ue=n.RGB16UI),Y===n.UNSIGNED_INT&&(ue=n.RGB32UI),Y===n.BYTE&&(ue=n.RGB8I),Y===n.SHORT&&(ue=n.RGB16I),Y===n.INT&&(ue=n.RGB32I)),b===n.RGBA_INTEGER&&(Y===n.UNSIGNED_BYTE&&(ue=n.RGBA8UI),Y===n.UNSIGNED_SHORT&&(ue=n.RGBA16UI),Y===n.UNSIGNED_INT&&(ue=n.RGBA32UI),Y===n.BYTE&&(ue=n.RGBA8I),Y===n.SHORT&&(ue=n.RGBA16I),Y===n.INT&&(ue=n.RGBA32I)),b===n.RGB&&(Y===n.UNSIGNED_INT_5_9_9_9_REV&&(ue=n.RGB9_E5),Y===n.UNSIGNED_INT_10F_11F_11F_REV&&(ue=n.R11F_G11F_B10F)),b===n.RGBA){const Je=xe?Nu:Rt.getTransfer(me);Y===n.FLOAT&&(ue=n.RGBA32F),Y===n.HALF_FLOAT&&(ue=n.RGBA16F),Y===n.UNSIGNED_BYTE&&(ue=Je===Bt?n.SRGB8_ALPHA8:n.RGBA8),Y===n.UNSIGNED_SHORT_4_4_4_4&&(ue=n.RGBA4),Y===n.UNSIGNED_SHORT_5_5_5_1&&(ue=n.RGB5_A1)}return(ue===n.R16F||ue===n.R32F||ue===n.RG16F||ue===n.RG32F||ue===n.RGBA16F||ue===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ue}function I(L,b){let Y;return L?b===null||b===er||b===fl?Y=n.DEPTH24_STENCIL8:b===qi?Y=n.DEPTH32F_STENCIL8:b===dl&&(Y=n.DEPTH24_STENCIL8,dt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):b===null||b===er||b===fl?Y=n.DEPTH_COMPONENT24:b===qi?Y=n.DEPTH_COMPONENT32F:b===dl&&(Y=n.DEPTH_COMPONENT16),Y}function D(L,b){return w(L)===!0||L.isFramebufferTexture&&L.minFilter!==bn&&L.minFilter!==Ln?Math.log2(Math.max(b.width,b.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?b.mipmaps.length:1}function k(L){const b=L.target;b.removeEventListener("dispose",k),j(b),b.isVideoTexture&&m.delete(b)}function F(L){const b=L.target;b.removeEventListener("dispose",F),P(b)}function j(L){const b=r.get(L);if(b.__webglInit===void 0)return;const Y=L.source,me=y.get(Y);if(me){const xe=me[b.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&A(L),Object.keys(me).length===0&&y.delete(Y)}r.remove(L)}function A(L){const b=r.get(L);n.deleteTexture(b.__webglTexture);const Y=L.source,me=y.get(Y);delete me[b.__cacheKey],c.memory.textures--}function P(L){const b=r.get(L);if(L.depthTexture&&(L.depthTexture.dispose(),r.remove(L.depthTexture)),L.isWebGLCubeRenderTarget)for(let me=0;me<6;me++){if(Array.isArray(b.__webglFramebuffer[me]))for(let xe=0;xe<b.__webglFramebuffer[me].length;xe++)n.deleteFramebuffer(b.__webglFramebuffer[me][xe]);else n.deleteFramebuffer(b.__webglFramebuffer[me]);b.__webglDepthbuffer&&n.deleteRenderbuffer(b.__webglDepthbuffer[me])}else{if(Array.isArray(b.__webglFramebuffer))for(let me=0;me<b.__webglFramebuffer.length;me++)n.deleteFramebuffer(b.__webglFramebuffer[me]);else n.deleteFramebuffer(b.__webglFramebuffer);if(b.__webglDepthbuffer&&n.deleteRenderbuffer(b.__webglDepthbuffer),b.__webglMultisampledFramebuffer&&n.deleteFramebuffer(b.__webglMultisampledFramebuffer),b.__webglColorRenderbuffer)for(let me=0;me<b.__webglColorRenderbuffer.length;me++)b.__webglColorRenderbuffer[me]&&n.deleteRenderbuffer(b.__webglColorRenderbuffer[me]);b.__webglDepthRenderbuffer&&n.deleteRenderbuffer(b.__webglDepthRenderbuffer)}const Y=L.textures;for(let me=0,xe=Y.length;me<xe;me++){const ue=r.get(Y[me]);ue.__webglTexture&&(n.deleteTexture(ue.__webglTexture),c.memory.textures--),r.remove(Y[me])}r.remove(L)}let H=0;function ae(){H=0}function te(){const L=H;return L>=a.maxTextures&&dt("WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+a.maxTextures),H+=1,L}function pe(L){const b=[];return b.push(L.wrapS),b.push(L.wrapT),b.push(L.wrapR||0),b.push(L.magFilter),b.push(L.minFilter),b.push(L.anisotropy),b.push(L.internalFormat),b.push(L.format),b.push(L.type),b.push(L.generateMipmaps),b.push(L.premultiplyAlpha),b.push(L.flipY),b.push(L.unpackAlignment),b.push(L.colorSpace),b.join()}function de(L,b){const Y=r.get(L);if(L.isVideoTexture&&St(L),L.isRenderTargetTexture===!1&&L.isExternalTexture!==!0&&L.version>0&&Y.__version!==L.version){const me=L.image;if(me===null)dt("WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)dt("WebGLRenderer: Texture marked for update but image is incomplete");else{re(Y,L,b);return}}else L.isExternalTexture&&(Y.__webglTexture=L.sourceTexture?L.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Y.__webglTexture,n.TEXTURE0+b)}function ce(L,b){const Y=r.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&Y.__version!==L.version){re(Y,L,b);return}else L.isExternalTexture&&(Y.__webglTexture=L.sourceTexture?L.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Y.__webglTexture,n.TEXTURE0+b)}function K(L,b){const Y=r.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&Y.__version!==L.version){re(Y,L,b);return}t.bindTexture(n.TEXTURE_3D,Y.__webglTexture,n.TEXTURE0+b)}function $(L,b){const Y=r.get(L);if(L.isCubeDepthTexture!==!0&&L.version>0&&Y.__version!==L.version){he(Y,L,b);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Y.__webglTexture,n.TEXTURE0+b)}const fe={[op]:n.REPEAT,[gr]:n.CLAMP_TO_EDGE,[lp]:n.MIRRORED_REPEAT},ie={[bn]:n.NEAREST,[g3]:n.NEAREST_MIPMAP_NEAREST,[Oc]:n.NEAREST_MIPMAP_LINEAR,[Ln]:n.LINEAR,[Wf]:n.LINEAR_MIPMAP_NEAREST,[Ls]:n.LINEAR_MIPMAP_LINEAR},O={[_3]:n.NEVER,[E3]:n.ALWAYS,[S3]:n.LESS,[Lm]:n.LEQUAL,[w3]:n.EQUAL,[km]:n.GEQUAL,[M3]:n.GREATER,[b3]:n.NOTEQUAL};function le(L,b){if(b.type===qi&&e.has("OES_texture_float_linear")===!1&&(b.magFilter===Ln||b.magFilter===Wf||b.magFilter===Oc||b.magFilter===Ls||b.minFilter===Ln||b.minFilter===Wf||b.minFilter===Oc||b.minFilter===Ls)&&dt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(L,n.TEXTURE_WRAP_S,fe[b.wrapS]),n.texParameteri(L,n.TEXTURE_WRAP_T,fe[b.wrapT]),(L===n.TEXTURE_3D||L===n.TEXTURE_2D_ARRAY)&&n.texParameteri(L,n.TEXTURE_WRAP_R,fe[b.wrapR]),n.texParameteri(L,n.TEXTURE_MAG_FILTER,ie[b.magFilter]),n.texParameteri(L,n.TEXTURE_MIN_FILTER,ie[b.minFilter]),b.compareFunction&&(n.texParameteri(L,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(L,n.TEXTURE_COMPARE_FUNC,O[b.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(b.magFilter===bn||b.minFilter!==Oc&&b.minFilter!==Ls||b.type===qi&&e.has("OES_texture_float_linear")===!1)return;if(b.anisotropy>1||r.get(b).__currentAnisotropy){const Y=e.get("EXT_texture_filter_anisotropic");n.texParameterf(L,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,a.getMaxAnisotropy())),r.get(b).__currentAnisotropy=b.anisotropy}}}function Ie(L,b){let Y=!1;L.__webglInit===void 0&&(L.__webglInit=!0,b.addEventListener("dispose",k));const me=b.source;let xe=y.get(me);xe===void 0&&(xe={},y.set(me,xe));const ue=pe(b);if(ue!==L.__cacheKey){xe[ue]===void 0&&(xe[ue]={texture:n.createTexture(),usedTimes:0},c.memory.textures++,Y=!0),xe[ue].usedTimes++;const Je=xe[L.__cacheKey];Je!==void 0&&(xe[L.__cacheKey].usedTimes--,Je.usedTimes===0&&A(b)),L.__cacheKey=ue,L.__webglTexture=xe[ue].texture}return Y}function Ze(L,b,Y){return Math.floor(Math.floor(L/Y)/b)}function et(L,b,Y,me){const ue=L.updateRanges;if(ue.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,b.width,b.height,Y,me,b.data);else{ue.sort((we,Pe)=>we.start-Pe.start);let Je=0;for(let we=1;we<ue.length;we++){const Pe=ue[Je],Xe=ue[we],qe=Pe.start+Pe.count,Ne=Ze(Xe.start,b.width,4),ft=Ze(Pe.start,b.width,4);Xe.start<=qe+1&&Ne===ft&&Ze(Xe.start+Xe.count-1,b.width,4)===Ne?Pe.count=Math.max(Pe.count,Xe.start+Xe.count-Pe.start):(++Je,ue[Je]=Xe)}ue.length=Je+1;const Ae=n.getParameter(n.UNPACK_ROW_LENGTH),He=n.getParameter(n.UNPACK_SKIP_PIXELS),ot=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,b.width);for(let we=0,Pe=ue.length;we<Pe;we++){const Xe=ue[we],qe=Math.floor(Xe.start/4),Ne=Math.ceil(Xe.count/4),ft=qe%b.width,G=Math.floor(qe/b.width),Le=Ne,Ee=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ft),n.pixelStorei(n.UNPACK_SKIP_ROWS,G),t.texSubImage2D(n.TEXTURE_2D,0,ft,G,Le,Ee,Y,me,b.data)}L.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ae),n.pixelStorei(n.UNPACK_SKIP_PIXELS,He),n.pixelStorei(n.UNPACK_SKIP_ROWS,ot)}}function re(L,b,Y){let me=n.TEXTURE_2D;(b.isDataArrayTexture||b.isCompressedArrayTexture)&&(me=n.TEXTURE_2D_ARRAY),b.isData3DTexture&&(me=n.TEXTURE_3D);const xe=Ie(L,b),ue=b.source;t.bindTexture(me,L.__webglTexture,n.TEXTURE0+Y);const Je=r.get(ue);if(ue.version!==Je.__version||xe===!0){t.activeTexture(n.TEXTURE0+Y);const Ae=Rt.getPrimaries(Rt.workingColorSpace),He=b.colorSpace===Zr?null:Rt.getPrimaries(b.colorSpace),ot=b.colorSpace===Zr||Ae===He?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,b.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,b.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);let we=T(b.image,!1,a.maxTextureSize);we=Et(b,we);const Pe=o.convert(b.format,b.colorSpace),Xe=o.convert(b.type);let qe=N(b.internalFormat,Pe,Xe,b.colorSpace,b.isVideoTexture);le(me,b);let Ne;const ft=b.mipmaps,G=b.isVideoTexture!==!0,Le=Je.__version===void 0||xe===!0,Ee=ue.dataReady,ke=D(b,we);if(b.isDepthTexture)qe=I(b.format===ks,b.type),Le&&(G?t.texStorage2D(n.TEXTURE_2D,1,qe,we.width,we.height):t.texImage2D(n.TEXTURE_2D,0,qe,we.width,we.height,0,Pe,Xe,null));else if(b.isDataTexture)if(ft.length>0){G&&Le&&t.texStorage2D(n.TEXTURE_2D,ke,qe,ft[0].width,ft[0].height);for(let _e=0,ge=ft.length;_e<ge;_e++)Ne=ft[_e],G?Ee&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,Ne.width,Ne.height,Pe,Xe,Ne.data):t.texImage2D(n.TEXTURE_2D,_e,qe,Ne.width,Ne.height,0,Pe,Xe,Ne.data);b.generateMipmaps=!1}else G?(Le&&t.texStorage2D(n.TEXTURE_2D,ke,qe,we.width,we.height),Ee&&et(b,we,Pe,Xe)):t.texImage2D(n.TEXTURE_2D,0,qe,we.width,we.height,0,Pe,Xe,we.data);else if(b.isCompressedTexture)if(b.isCompressedArrayTexture){G&&Le&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ke,qe,ft[0].width,ft[0].height,we.depth);for(let _e=0,ge=ft.length;_e<ge;_e++)if(Ne=ft[_e],b.format!==ki)if(Pe!==null)if(G){if(Ee)if(b.layerUpdates.size>0){const Re=mv(Ne.width,Ne.height,b.format,b.type);for(const lt of b.layerUpdates){const Ot=Ne.data.subarray(lt*Re/Ne.data.BYTES_PER_ELEMENT,(lt+1)*Re/Ne.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,lt,Ne.width,Ne.height,1,Pe,Ot)}b.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,Ne.width,Ne.height,we.depth,Pe,Ne.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,_e,qe,Ne.width,Ne.height,we.depth,0,Ne.data,0,0);else dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else G?Ee&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,Ne.width,Ne.height,we.depth,Pe,Xe,Ne.data):t.texImage3D(n.TEXTURE_2D_ARRAY,_e,qe,Ne.width,Ne.height,we.depth,0,Pe,Xe,Ne.data)}else{G&&Le&&t.texStorage2D(n.TEXTURE_2D,ke,qe,ft[0].width,ft[0].height);for(let _e=0,ge=ft.length;_e<ge;_e++)Ne=ft[_e],b.format!==ki?Pe!==null?G?Ee&&t.compressedTexSubImage2D(n.TEXTURE_2D,_e,0,0,Ne.width,Ne.height,Pe,Ne.data):t.compressedTexImage2D(n.TEXTURE_2D,_e,qe,Ne.width,Ne.height,0,Ne.data):dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):G?Ee&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,Ne.width,Ne.height,Pe,Xe,Ne.data):t.texImage2D(n.TEXTURE_2D,_e,qe,Ne.width,Ne.height,0,Pe,Xe,Ne.data)}else if(b.isDataArrayTexture)if(G){if(Le&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ke,qe,we.width,we.height,we.depth),Ee)if(b.layerUpdates.size>0){const _e=mv(we.width,we.height,b.format,b.type);for(const ge of b.layerUpdates){const Re=we.data.subarray(ge*_e/we.data.BYTES_PER_ELEMENT,(ge+1)*_e/we.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ge,we.width,we.height,1,Pe,Xe,Re)}b.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,we.width,we.height,we.depth,Pe,Xe,we.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,qe,we.width,we.height,we.depth,0,Pe,Xe,we.data);else if(b.isData3DTexture)G?(Le&&t.texStorage3D(n.TEXTURE_3D,ke,qe,we.width,we.height,we.depth),Ee&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,we.width,we.height,we.depth,Pe,Xe,we.data)):t.texImage3D(n.TEXTURE_3D,0,qe,we.width,we.height,we.depth,0,Pe,Xe,we.data);else if(b.isFramebufferTexture){if(Le)if(G)t.texStorage2D(n.TEXTURE_2D,ke,qe,we.width,we.height);else{let _e=we.width,ge=we.height;for(let Re=0;Re<ke;Re++)t.texImage2D(n.TEXTURE_2D,Re,qe,_e,ge,0,Pe,Xe,null),_e>>=1,ge>>=1}}else if(ft.length>0){if(G&&Le){const _e=Ye(ft[0]);t.texStorage2D(n.TEXTURE_2D,ke,qe,_e.width,_e.height)}for(let _e=0,ge=ft.length;_e<ge;_e++)Ne=ft[_e],G?Ee&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,Pe,Xe,Ne):t.texImage2D(n.TEXTURE_2D,_e,qe,Pe,Xe,Ne);b.generateMipmaps=!1}else if(G){if(Le){const _e=Ye(we);t.texStorage2D(n.TEXTURE_2D,ke,qe,_e.width,_e.height)}Ee&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Pe,Xe,we)}else t.texImage2D(n.TEXTURE_2D,0,qe,Pe,Xe,we);w(b)&&_(me),Je.__version=ue.version,b.onUpdate&&b.onUpdate(b)}L.__version=b.version}function he(L,b,Y){if(b.image.length!==6)return;const me=Ie(L,b),xe=b.source;t.bindTexture(n.TEXTURE_CUBE_MAP,L.__webglTexture,n.TEXTURE0+Y);const ue=r.get(xe);if(xe.version!==ue.__version||me===!0){t.activeTexture(n.TEXTURE0+Y);const Je=Rt.getPrimaries(Rt.workingColorSpace),Ae=b.colorSpace===Zr?null:Rt.getPrimaries(b.colorSpace),He=b.colorSpace===Zr||Je===Ae?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,b.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,b.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const ot=b.isCompressedTexture||b.image[0].isCompressedTexture,we=b.image[0]&&b.image[0].isDataTexture,Pe=[];for(let ge=0;ge<6;ge++)!ot&&!we?Pe[ge]=T(b.image[ge],!0,a.maxCubemapSize):Pe[ge]=we?b.image[ge].image:b.image[ge],Pe[ge]=Et(b,Pe[ge]);const Xe=Pe[0],qe=o.convert(b.format,b.colorSpace),Ne=o.convert(b.type),ft=N(b.internalFormat,qe,Ne,b.colorSpace),G=b.isVideoTexture!==!0,Le=ue.__version===void 0||me===!0,Ee=xe.dataReady;let ke=D(b,Xe);le(n.TEXTURE_CUBE_MAP,b);let _e;if(ot){G&&Le&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ke,ft,Xe.width,Xe.height);for(let ge=0;ge<6;ge++){_e=Pe[ge].mipmaps;for(let Re=0;Re<_e.length;Re++){const lt=_e[Re];b.format!==ki?qe!==null?G?Ee&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re,0,0,lt.width,lt.height,qe,lt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re,ft,lt.width,lt.height,0,lt.data):dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):G?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re,0,0,lt.width,lt.height,qe,Ne,lt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re,ft,lt.width,lt.height,0,qe,Ne,lt.data)}}}else{if(_e=b.mipmaps,G&&Le){_e.length>0&&ke++;const ge=Ye(Pe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ke,ft,ge.width,ge.height)}for(let ge=0;ge<6;ge++)if(we){G?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,Pe[ge].width,Pe[ge].height,qe,Ne,Pe[ge].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,ft,Pe[ge].width,Pe[ge].height,0,qe,Ne,Pe[ge].data);for(let Re=0;Re<_e.length;Re++){const Ot=_e[Re].image[ge].image;G?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re+1,0,0,Ot.width,Ot.height,qe,Ne,Ot.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re+1,ft,Ot.width,Ot.height,0,qe,Ne,Ot.data)}}else{G?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,qe,Ne,Pe[ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,ft,qe,Ne,Pe[ge]);for(let Re=0;Re<_e.length;Re++){const lt=_e[Re];G?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re+1,0,0,qe,Ne,lt.image[ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Re+1,ft,qe,Ne,lt.image[ge])}}}w(b)&&_(n.TEXTURE_CUBE_MAP),ue.__version=xe.version,b.onUpdate&&b.onUpdate(b)}L.__version=b.version}function be(L,b,Y,me,xe,ue){const Je=o.convert(Y.format,Y.colorSpace),Ae=o.convert(Y.type),He=N(Y.internalFormat,Je,Ae,Y.colorSpace),ot=r.get(b),we=r.get(Y);if(we.__renderTarget=b,!ot.__hasExternalTextures){const Pe=Math.max(1,b.width>>ue),Xe=Math.max(1,b.height>>ue);xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?t.texImage3D(xe,ue,He,Pe,Xe,b.depth,0,Je,Ae,null):t.texImage2D(xe,ue,He,Pe,Xe,0,Je,Ae,null)}t.bindFramebuffer(n.FRAMEBUFFER,L),$t(b)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,me,xe,we.__webglTexture,0,z(b)):(xe===n.TEXTURE_2D||xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,me,xe,we.__webglTexture,ue),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(L,b,Y){if(n.bindRenderbuffer(n.RENDERBUFFER,L),b.depthBuffer){const me=b.depthTexture,xe=me&&me.isDepthTexture?me.type:null,ue=I(b.stencilBuffer,xe),Je=b.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;$t(b)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,z(b),ue,b.width,b.height):Y?n.renderbufferStorageMultisample(n.RENDERBUFFER,z(b),ue,b.width,b.height):n.renderbufferStorage(n.RENDERBUFFER,ue,b.width,b.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Je,n.RENDERBUFFER,L)}else{const me=b.textures;for(let xe=0;xe<me.length;xe++){const ue=me[xe],Je=o.convert(ue.format,ue.colorSpace),Ae=o.convert(ue.type),He=N(ue.internalFormat,Je,Ae,ue.colorSpace);$t(b)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,z(b),He,b.width,b.height):Y?n.renderbufferStorageMultisample(n.RENDERBUFFER,z(b),He,b.width,b.height):n.renderbufferStorage(n.RENDERBUFFER,He,b.width,b.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Fe(L,b,Y){const me=b.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(n.FRAMEBUFFER,L),!(b.depthTexture&&b.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const xe=r.get(b.depthTexture);if(xe.__renderTarget=b,(!xe.__webglTexture||b.depthTexture.image.width!==b.width||b.depthTexture.image.height!==b.height)&&(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0),me){if(xe.__webglInit===void 0&&(xe.__webglInit=!0,b.depthTexture.addEventListener("dispose",k)),xe.__webglTexture===void 0){xe.__webglTexture=n.createTexture(),t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture),le(n.TEXTURE_CUBE_MAP,b.depthTexture);const ot=o.convert(b.depthTexture.format),we=o.convert(b.depthTexture.type);let Pe;b.depthTexture.format===wr?Pe=n.DEPTH_COMPONENT24:b.depthTexture.format===ks&&(Pe=n.DEPTH24_STENCIL8);for(let Xe=0;Xe<6;Xe++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,Pe,b.width,b.height,0,ot,we,null)}}else de(b.depthTexture,0);const ue=xe.__webglTexture,Je=z(b),Ae=me?n.TEXTURE_CUBE_MAP_POSITIVE_X+Y:n.TEXTURE_2D,He=b.depthTexture.format===ks?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(b.depthTexture.format===wr)$t(b)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,He,Ae,ue,0,Je):n.framebufferTexture2D(n.FRAMEBUFFER,He,Ae,ue,0);else if(b.depthTexture.format===ks)$t(b)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,He,Ae,ue,0,Je):n.framebufferTexture2D(n.FRAMEBUFFER,He,Ae,ue,0);else throw new Error("Unknown depthTexture format")}function vt(L){const b=r.get(L),Y=L.isWebGLCubeRenderTarget===!0;if(b.__boundDepthTexture!==L.depthTexture){const me=L.depthTexture;if(b.__depthDisposeCallback&&b.__depthDisposeCallback(),me){const xe=()=>{delete b.__boundDepthTexture,delete b.__depthDisposeCallback,me.removeEventListener("dispose",xe)};me.addEventListener("dispose",xe),b.__depthDisposeCallback=xe}b.__boundDepthTexture=me}if(L.depthTexture&&!b.__autoAllocateDepthBuffer)if(Y)for(let me=0;me<6;me++)Fe(b.__webglFramebuffer[me],L,me);else{const me=L.texture.mipmaps;me&&me.length>0?Fe(b.__webglFramebuffer[0],L,0):Fe(b.__webglFramebuffer,L,0)}else if(Y){b.__webglDepthbuffer=[];for(let me=0;me<6;me++)if(t.bindFramebuffer(n.FRAMEBUFFER,b.__webglFramebuffer[me]),b.__webglDepthbuffer[me]===void 0)b.__webglDepthbuffer[me]=n.createRenderbuffer(),ze(b.__webglDepthbuffer[me],L,!1);else{const xe=L.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ue=b.__webglDepthbuffer[me];n.bindRenderbuffer(n.RENDERBUFFER,ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,ue)}}else{const me=L.texture.mipmaps;if(me&&me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,b.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,b.__webglFramebuffer),b.__webglDepthbuffer===void 0)b.__webglDepthbuffer=n.createRenderbuffer(),ze(b.__webglDepthbuffer,L,!1);else{const xe=L.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ue=b.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,ue)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function rn(L,b,Y){const me=r.get(L);b!==void 0&&be(me.__webglFramebuffer,L,L.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Y!==void 0&&vt(L)}function xt(L){const b=L.texture,Y=r.get(L),me=r.get(b);L.addEventListener("dispose",F);const xe=L.textures,ue=L.isWebGLCubeRenderTarget===!0,Je=xe.length>1;if(Je||(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=b.version,c.memory.textures++),ue){Y.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(b.mipmaps&&b.mipmaps.length>0){Y.__webglFramebuffer[Ae]=[];for(let He=0;He<b.mipmaps.length;He++)Y.__webglFramebuffer[Ae][He]=n.createFramebuffer()}else Y.__webglFramebuffer[Ae]=n.createFramebuffer()}else{if(b.mipmaps&&b.mipmaps.length>0){Y.__webglFramebuffer=[];for(let Ae=0;Ae<b.mipmaps.length;Ae++)Y.__webglFramebuffer[Ae]=n.createFramebuffer()}else Y.__webglFramebuffer=n.createFramebuffer();if(Je)for(let Ae=0,He=xe.length;Ae<He;Ae++){const ot=r.get(xe[Ae]);ot.__webglTexture===void 0&&(ot.__webglTexture=n.createTexture(),c.memory.textures++)}if(L.samples>0&&$t(L)===!1){Y.__webglMultisampledFramebuffer=n.createFramebuffer(),Y.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglMultisampledFramebuffer);for(let Ae=0;Ae<xe.length;Ae++){const He=xe[Ae];Y.__webglColorRenderbuffer[Ae]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Y.__webglColorRenderbuffer[Ae]);const ot=o.convert(He.format,He.colorSpace),we=o.convert(He.type),Pe=N(He.internalFormat,ot,we,He.colorSpace,L.isXRRenderTarget===!0),Xe=z(L);n.renderbufferStorageMultisample(n.RENDERBUFFER,Xe,Pe,L.width,L.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,Y.__webglColorRenderbuffer[Ae])}n.bindRenderbuffer(n.RENDERBUFFER,null),L.depthBuffer&&(Y.__webglDepthRenderbuffer=n.createRenderbuffer(),ze(Y.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ue){t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture),le(n.TEXTURE_CUBE_MAP,b);for(let Ae=0;Ae<6;Ae++)if(b.mipmaps&&b.mipmaps.length>0)for(let He=0;He<b.mipmaps.length;He++)be(Y.__webglFramebuffer[Ae][He],L,b,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,He);else be(Y.__webglFramebuffer[Ae],L,b,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);w(b)&&_(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Je){for(let Ae=0,He=xe.length;Ae<He;Ae++){const ot=xe[Ae],we=r.get(ot);let Pe=n.TEXTURE_2D;(L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(Pe=L.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Pe,we.__webglTexture),le(Pe,ot),be(Y.__webglFramebuffer,L,ot,n.COLOR_ATTACHMENT0+Ae,Pe,0),w(ot)&&_(Pe)}t.unbindTexture()}else{let Ae=n.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(Ae=L.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ae,me.__webglTexture),le(Ae,b),b.mipmaps&&b.mipmaps.length>0)for(let He=0;He<b.mipmaps.length;He++)be(Y.__webglFramebuffer[He],L,b,n.COLOR_ATTACHMENT0,Ae,He);else be(Y.__webglFramebuffer,L,b,n.COLOR_ATTACHMENT0,Ae,0);w(b)&&_(Ae),t.unbindTexture()}L.depthBuffer&&vt(L)}function bt(L){const b=L.textures;for(let Y=0,me=b.length;Y<me;Y++){const xe=b[Y];if(w(xe)){const ue=R(L),Je=r.get(xe).__webglTexture;t.bindTexture(ue,Je),_(ue),t.unbindTexture()}}}const Lt=[],ht=[];function Xt(L){if(L.samples>0){if($t(L)===!1){const b=L.textures,Y=L.width,me=L.height;let xe=n.COLOR_BUFFER_BIT;const ue=L.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Je=r.get(L),Ae=b.length>1;if(Ae)for(let ot=0;ot<b.length;ot++)t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Je.__webglMultisampledFramebuffer);const He=L.texture.mipmaps;He&&He.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Je.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Je.__webglFramebuffer);for(let ot=0;ot<b.length;ot++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(xe|=n.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(xe|=n.STENCIL_BUFFER_BIT)),Ae){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Je.__webglColorRenderbuffer[ot]);const we=r.get(b[ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,we,0)}n.blitFramebuffer(0,0,Y,me,0,0,Y,me,xe,n.NEAREST),h===!0&&(Lt.length=0,ht.length=0,Lt.push(n.COLOR_ATTACHMENT0+ot),L.depthBuffer&&L.resolveDepthBuffer===!1&&(Lt.push(ue),ht.push(ue),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ht)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Lt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ae)for(let ot=0;ot<b.length;ot++){t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,Je.__webglColorRenderbuffer[ot]);const we=r.get(b[ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,we,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Je.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&h){const b=L.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[b])}}}function z(L){return Math.min(a.maxSamples,L.samples)}function $t(L){const b=r.get(L);return L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&b.__useRenderToTexture!==!1}function St(L){const b=c.render.frame;m.get(L)!==b&&(m.set(L,b),L.update())}function Et(L,b){const Y=L.colorSpace,me=L.format,xe=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||Y!==Xa&&Y!==Zr&&(Rt.getTransfer(Y)===Bt?(me!==ki||xe!==oi)&&dt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Nt("WebGLTextures: Unsupported texture color space:",Y)),b}function Ye(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(p.width=L.naturalWidth||L.width,p.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(p.width=L.displayWidth,p.height=L.displayHeight):(p.width=L.width,p.height=L.height),p}this.allocateTextureUnit=te,this.resetTextureUnits=ae,this.setTexture2D=de,this.setTexture2DArray=ce,this.setTexture3D=K,this.setTextureCube=$,this.rebindTextures=rn,this.setupRenderTarget=xt,this.updateRenderTargetMipmap=bt,this.updateMultisampleRenderTarget=Xt,this.setupDepthRenderbuffer=vt,this.setupFrameBufferTexture=be,this.useMultisampledRTT=$t,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function nL(n,e){function t(r,a=Zr){let o;const c=Rt.getTransfer(a);if(r===oi)return n.UNSIGNED_BYTE;if(r===Nm)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Rm)return n.UNSIGNED_SHORT_5_5_5_1;if(r===H1)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===G1)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===V1)return n.BYTE;if(r===z1)return n.SHORT;if(r===dl)return n.UNSIGNED_SHORT;if(r===Cm)return n.INT;if(r===er)return n.UNSIGNED_INT;if(r===qi)return n.FLOAT;if(r===Sr)return n.HALF_FLOAT;if(r===W1)return n.ALPHA;if(r===X1)return n.RGB;if(r===ki)return n.RGBA;if(r===wr)return n.DEPTH_COMPONENT;if(r===ks)return n.DEPTH_STENCIL;if(r===$1)return n.RED;if(r===Pm)return n.RED_INTEGER;if(r===Wa)return n.RG;if(r===Im)return n.RG_INTEGER;if(r===Dm)return n.RGBA_INTEGER;if(r===xu||r===yu||r===vu||r===_u)if(c===Bt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===xu)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===yu)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===vu)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===_u)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===xu)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===yu)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===vu)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===_u)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===cp||r===up||r===dp||r===fp)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===cp)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===up)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===dp)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===fp)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===hp||r===pp||r===mp||r===gp||r===xp||r===yp||r===vp)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===hp||r===pp)return c===Bt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===mp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(r===gp)return o.COMPRESSED_R11_EAC;if(r===xp)return o.COMPRESSED_SIGNED_R11_EAC;if(r===yp)return o.COMPRESSED_RG11_EAC;if(r===vp)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===_p||r===Sp||r===wp||r===Mp||r===bp||r===Ep||r===Tp||r===Ap||r===Cp||r===Np||r===Rp||r===Pp||r===Ip||r===Dp)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===_p)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Sp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===wp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Mp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===bp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ep)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Tp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Ap)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Cp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Np)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Rp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Pp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ip)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Dp)return c===Bt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Lp||r===kp||r===Up)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Lp)return c===Bt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===kp)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Up)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Fp||r===Op||r===Bp||r===jp)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Fp)return o.COMPRESSED_RED_RGTC1_EXT;if(r===Op)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Bp)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===jp)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===fl?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const iL=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,rL=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class sL{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new oS(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new tr({vertexShader:iL,fragmentShader:rL,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new li(new zu(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class aL extends Ja{constructor(e,t){super();const r=this;let a=null,o=1,c=null,d="local-floor",h=1,p=null,m=null,x=null,y=null,S=null,M=null;const T=typeof XRWebGLBinding<"u",w=new sL,_={},R=t.getContextAttributes();let N=null,I=null;const D=[],k=[],F=new _t;let j=null;const A=new ai;A.viewport=new nn;const P=new ai;P.viewport=new nn;const H=[A,P],ae=new gN;let te=null,pe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let he=D[re];return he===void 0&&(he=new ph,D[re]=he),he.getTargetRaySpace()},this.getControllerGrip=function(re){let he=D[re];return he===void 0&&(he=new ph,D[re]=he),he.getGripSpace()},this.getHand=function(re){let he=D[re];return he===void 0&&(he=new ph,D[re]=he),he.getHandSpace()};function de(re){const he=k.indexOf(re.inputSource);if(he===-1)return;const be=D[he];be!==void 0&&(be.update(re.inputSource,re.frame,p||c),be.dispatchEvent({type:re.type,data:re.inputSource}))}function ce(){a.removeEventListener("select",de),a.removeEventListener("selectstart",de),a.removeEventListener("selectend",de),a.removeEventListener("squeeze",de),a.removeEventListener("squeezestart",de),a.removeEventListener("squeezeend",de),a.removeEventListener("end",ce),a.removeEventListener("inputsourceschange",K);for(let re=0;re<D.length;re++){const he=k[re];he!==null&&(k[re]=null,D[re].disconnect(he))}te=null,pe=null,w.reset();for(const re in _)delete _[re];e.setRenderTarget(N),S=null,y=null,x=null,a=null,I=null,et.stop(),r.isPresenting=!1,e.setPixelRatio(j),e.setSize(F.width,F.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){o=re,r.isPresenting===!0&&dt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){d=re,r.isPresenting===!0&&dt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||c},this.setReferenceSpace=function(re){p=re},this.getBaseLayer=function(){return y!==null?y:S},this.getBinding=function(){return x===null&&T&&(x=new XRWebGLBinding(a,t)),x},this.getFrame=function(){return M},this.getSession=function(){return a},this.setSession=async function(re){if(a=re,a!==null){if(N=e.getRenderTarget(),a.addEventListener("select",de),a.addEventListener("selectstart",de),a.addEventListener("selectend",de),a.addEventListener("squeeze",de),a.addEventListener("squeezestart",de),a.addEventListener("squeezeend",de),a.addEventListener("end",ce),a.addEventListener("inputsourceschange",K),R.xrCompatible!==!0&&await t.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(F),T&&"createProjectionLayer"in XRWebGLBinding.prototype){let be=null,ze=null,Fe=null;R.depth&&(Fe=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,be=R.stencil?ks:wr,ze=R.stencil?fl:er);const vt={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:o};x=this.getBinding(),y=x.createProjectionLayer(vt),a.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),I=new Qi(y.textureWidth,y.textureHeight,{format:ki,type:oi,depthTexture:new ml(y.textureWidth,y.textureHeight,ze,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const be={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:o};S=new XRWebGLLayer(a,t,be),a.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),I=new Qi(S.framebufferWidth,S.framebufferHeight,{format:ki,type:oi,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:S.ignoreDepthValues===!1,resolveStencilBuffer:S.ignoreDepthValues===!1})}I.isXRRenderTarget=!0,this.setFoveation(h),p=null,c=await a.requestReferenceSpace(d),et.setContext(a),et.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function K(re){for(let he=0;he<re.removed.length;he++){const be=re.removed[he],ze=k.indexOf(be);ze>=0&&(k[ze]=null,D[ze].disconnect(be))}for(let he=0;he<re.added.length;he++){const be=re.added[he];let ze=k.indexOf(be);if(ze===-1){for(let vt=0;vt<D.length;vt++)if(vt>=k.length){k.push(be),ze=vt;break}else if(k[vt]===null){k[vt]=be,ze=vt;break}if(ze===-1)break}const Fe=D[ze];Fe&&Fe.connect(be)}}const $=new ee,fe=new ee;function ie(re,he,be){$.setFromMatrixPosition(he.matrixWorld),fe.setFromMatrixPosition(be.matrixWorld);const ze=$.distanceTo(fe),Fe=he.projectionMatrix.elements,vt=be.projectionMatrix.elements,rn=Fe[14]/(Fe[10]-1),xt=Fe[14]/(Fe[10]+1),bt=(Fe[9]+1)/Fe[5],Lt=(Fe[9]-1)/Fe[5],ht=(Fe[8]-1)/Fe[0],Xt=(vt[8]+1)/vt[0],z=rn*ht,$t=rn*Xt,St=ze/(-ht+Xt),Et=St*-ht;if(he.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Et),re.translateZ(St),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),Fe[10]===-1)re.projectionMatrix.copy(he.projectionMatrix),re.projectionMatrixInverse.copy(he.projectionMatrixInverse);else{const Ye=rn+St,L=xt+St,b=z-Et,Y=$t+(ze-Et),me=bt*xt/L*Ye,xe=Lt*xt/L*Ye;re.projectionMatrix.makePerspective(b,Y,me,xe,Ye,L),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function O(re,he){he===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(he.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(a===null)return;let he=re.near,be=re.far;w.texture!==null&&(w.depthNear>0&&(he=w.depthNear),w.depthFar>0&&(be=w.depthFar)),ae.near=P.near=A.near=he,ae.far=P.far=A.far=be,(te!==ae.near||pe!==ae.far)&&(a.updateRenderState({depthNear:ae.near,depthFar:ae.far}),te=ae.near,pe=ae.far),ae.layers.mask=re.layers.mask|6,A.layers.mask=ae.layers.mask&3,P.layers.mask=ae.layers.mask&5;const ze=re.parent,Fe=ae.cameras;O(ae,ze);for(let vt=0;vt<Fe.length;vt++)O(Fe[vt],ze);Fe.length===2?ie(ae,A,P):ae.projectionMatrix.copy(A.projectionMatrix),le(re,ae,ze)};function le(re,he,be){be===null?re.matrix.copy(he.matrixWorld):(re.matrix.copy(be.matrixWorld),re.matrix.invert(),re.matrix.multiply(he.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(he.projectionMatrix),re.projectionMatrixInverse.copy(he.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=zp*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return ae},this.getFoveation=function(){if(!(y===null&&S===null))return h},this.setFoveation=function(re){h=re,y!==null&&(y.fixedFoveation=re),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=re)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(ae)},this.getCameraTexture=function(re){return _[re]};let Ie=null;function Ze(re,he){if(m=he.getViewerPose(p||c),M=he,m!==null){const be=m.views;S!==null&&(e.setRenderTargetFramebuffer(I,S.framebuffer),e.setRenderTarget(I));let ze=!1;be.length!==ae.cameras.length&&(ae.cameras.length=0,ze=!0);for(let xt=0;xt<be.length;xt++){const bt=be[xt];let Lt=null;if(S!==null)Lt=S.getViewport(bt);else{const Xt=x.getViewSubImage(y,bt);Lt=Xt.viewport,xt===0&&(e.setRenderTargetTextures(I,Xt.colorTexture,Xt.depthStencilTexture),e.setRenderTarget(I))}let ht=H[xt];ht===void 0&&(ht=new ai,ht.layers.enable(xt),ht.viewport=new nn,H[xt]=ht),ht.matrix.fromArray(bt.transform.matrix),ht.matrix.decompose(ht.position,ht.quaternion,ht.scale),ht.projectionMatrix.fromArray(bt.projectionMatrix),ht.projectionMatrixInverse.copy(ht.projectionMatrix).invert(),ht.viewport.set(Lt.x,Lt.y,Lt.width,Lt.height),xt===0&&(ae.matrix.copy(ht.matrix),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale)),ze===!0&&ae.cameras.push(ht)}const Fe=a.enabledFeatures;if(Fe&&Fe.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&T){x=r.getBinding();const xt=x.getDepthInformation(be[0]);xt&&xt.isValid&&xt.texture&&w.init(xt,a.renderState)}if(Fe&&Fe.includes("camera-access")&&T){e.state.unbindTexture(),x=r.getBinding();for(let xt=0;xt<be.length;xt++){const bt=be[xt].camera;if(bt){let Lt=_[bt];Lt||(Lt=new oS,_[bt]=Lt);const ht=x.getCameraImage(bt);Lt.sourceTexture=ht}}}}for(let be=0;be<D.length;be++){const ze=k[be],Fe=D[be];ze!==null&&Fe!==void 0&&Fe.update(ze,he,p||c)}Ie&&Ie(re,he),he.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:he}),M=null}const et=new uS;et.setAnimationLoop(Ze),this.setAnimationLoop=function(re){Ie=re},this.dispose=function(){}}}const As=new Mr,oL=new Qt;function lL(n,e){function t(w,_){w.matrixAutoUpdate===!0&&w.updateMatrix(),_.value.copy(w.matrix)}function r(w,_){_.color.getRGB(w.fogColor.value,eS(n)),_.isFog?(w.fogNear.value=_.near,w.fogFar.value=_.far):_.isFogExp2&&(w.fogDensity.value=_.density)}function a(w,_,R,N,I){_.isMeshBasicMaterial||_.isMeshLambertMaterial?o(w,_):_.isMeshToonMaterial?(o(w,_),x(w,_)):_.isMeshPhongMaterial?(o(w,_),m(w,_)):_.isMeshStandardMaterial?(o(w,_),y(w,_),_.isMeshPhysicalMaterial&&S(w,_,I)):_.isMeshMatcapMaterial?(o(w,_),M(w,_)):_.isMeshDepthMaterial?o(w,_):_.isMeshDistanceMaterial?(o(w,_),T(w,_)):_.isMeshNormalMaterial?o(w,_):_.isLineBasicMaterial?(c(w,_),_.isLineDashedMaterial&&d(w,_)):_.isPointsMaterial?h(w,_,R,N):_.isSpriteMaterial?p(w,_):_.isShadowMaterial?(w.color.value.copy(_.color),w.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function o(w,_){w.opacity.value=_.opacity,_.color&&w.diffuse.value.copy(_.color),_.emissive&&w.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(w.map.value=_.map,t(_.map,w.mapTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,t(_.alphaMap,w.alphaMapTransform)),_.bumpMap&&(w.bumpMap.value=_.bumpMap,t(_.bumpMap,w.bumpMapTransform),w.bumpScale.value=_.bumpScale,_.side===Jn&&(w.bumpScale.value*=-1)),_.normalMap&&(w.normalMap.value=_.normalMap,t(_.normalMap,w.normalMapTransform),w.normalScale.value.copy(_.normalScale),_.side===Jn&&w.normalScale.value.negate()),_.displacementMap&&(w.displacementMap.value=_.displacementMap,t(_.displacementMap,w.displacementMapTransform),w.displacementScale.value=_.displacementScale,w.displacementBias.value=_.displacementBias),_.emissiveMap&&(w.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,w.emissiveMapTransform)),_.specularMap&&(w.specularMap.value=_.specularMap,t(_.specularMap,w.specularMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest);const R=e.get(_),N=R.envMap,I=R.envMapRotation;N&&(w.envMap.value=N,As.copy(I),As.x*=-1,As.y*=-1,As.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(As.y*=-1,As.z*=-1),w.envMapRotation.value.setFromMatrix4(oL.makeRotationFromEuler(As)),w.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=_.reflectivity,w.ior.value=_.ior,w.refractionRatio.value=_.refractionRatio),_.lightMap&&(w.lightMap.value=_.lightMap,w.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,w.lightMapTransform)),_.aoMap&&(w.aoMap.value=_.aoMap,w.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,w.aoMapTransform))}function c(w,_){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,_.map&&(w.map.value=_.map,t(_.map,w.mapTransform))}function d(w,_){w.dashSize.value=_.dashSize,w.totalSize.value=_.dashSize+_.gapSize,w.scale.value=_.scale}function h(w,_,R,N){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,w.size.value=_.size*R,w.scale.value=N*.5,_.map&&(w.map.value=_.map,t(_.map,w.uvTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,t(_.alphaMap,w.alphaMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest)}function p(w,_){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,w.rotation.value=_.rotation,_.map&&(w.map.value=_.map,t(_.map,w.mapTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,t(_.alphaMap,w.alphaMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest)}function m(w,_){w.specular.value.copy(_.specular),w.shininess.value=Math.max(_.shininess,1e-4)}function x(w,_){_.gradientMap&&(w.gradientMap.value=_.gradientMap)}function y(w,_){w.metalness.value=_.metalness,_.metalnessMap&&(w.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,w.metalnessMapTransform)),w.roughness.value=_.roughness,_.roughnessMap&&(w.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,w.roughnessMapTransform)),_.envMap&&(w.envMapIntensity.value=_.envMapIntensity)}function S(w,_,R){w.ior.value=_.ior,_.sheen>0&&(w.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),w.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(w.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,w.sheenColorMapTransform)),_.sheenRoughnessMap&&(w.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,w.sheenRoughnessMapTransform))),_.clearcoat>0&&(w.clearcoat.value=_.clearcoat,w.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(w.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,w.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(w.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Jn&&w.clearcoatNormalScale.value.negate())),_.dispersion>0&&(w.dispersion.value=_.dispersion),_.iridescence>0&&(w.iridescence.value=_.iridescence,w.iridescenceIOR.value=_.iridescenceIOR,w.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(w.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,w.iridescenceMapTransform)),_.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),_.transmission>0&&(w.transmission.value=_.transmission,w.transmissionSamplerMap.value=R.texture,w.transmissionSamplerSize.value.set(R.width,R.height),_.transmissionMap&&(w.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,w.transmissionMapTransform)),w.thickness.value=_.thickness,_.thicknessMap&&(w.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=_.attenuationDistance,w.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(w.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(w.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=_.specularIntensity,w.specularColor.value.copy(_.specularColor),_.specularColorMap&&(w.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,w.specularColorMapTransform)),_.specularIntensityMap&&(w.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,w.specularIntensityMapTransform))}function M(w,_){_.matcap&&(w.matcap.value=_.matcap)}function T(w,_){const R=e.get(_).light;w.referencePosition.value.setFromMatrixPosition(R.matrixWorld),w.nearDistance.value=R.shadow.camera.near,w.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function cL(n,e,t,r){let a={},o={},c=[];const d=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,N){const I=N.program;r.uniformBlockBinding(R,I)}function p(R,N){let I=a[R.id];I===void 0&&(M(R),I=m(R),a[R.id]=I,R.addEventListener("dispose",w));const D=N.program;r.updateUBOMapping(R,D);const k=e.render.frame;o[R.id]!==k&&(y(R),o[R.id]=k)}function m(R){const N=x();R.__bindingPointIndex=N;const I=n.createBuffer(),D=R.__size,k=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,I),n.bufferData(n.UNIFORM_BUFFER,D,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,N,I),I}function x(){for(let R=0;R<d;R++)if(c.indexOf(R)===-1)return c.push(R),R;return Nt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const N=a[R.id],I=R.uniforms,D=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,N);for(let k=0,F=I.length;k<F;k++){const j=Array.isArray(I[k])?I[k]:[I[k]];for(let A=0,P=j.length;A<P;A++){const H=j[A];if(S(H,k,A,D)===!0){const ae=H.__offset,te=Array.isArray(H.value)?H.value:[H.value];let pe=0;for(let de=0;de<te.length;de++){const ce=te[de],K=T(ce);typeof ce=="number"||typeof ce=="boolean"?(H.__data[0]=ce,n.bufferSubData(n.UNIFORM_BUFFER,ae+pe,H.__data)):ce.isMatrix3?(H.__data[0]=ce.elements[0],H.__data[1]=ce.elements[1],H.__data[2]=ce.elements[2],H.__data[3]=0,H.__data[4]=ce.elements[3],H.__data[5]=ce.elements[4],H.__data[6]=ce.elements[5],H.__data[7]=0,H.__data[8]=ce.elements[6],H.__data[9]=ce.elements[7],H.__data[10]=ce.elements[8],H.__data[11]=0):(ce.toArray(H.__data,pe),pe+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ae,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function S(R,N,I,D){const k=R.value,F=N+"_"+I;if(D[F]===void 0)return typeof k=="number"||typeof k=="boolean"?D[F]=k:D[F]=k.clone(),!0;{const j=D[F];if(typeof k=="number"||typeof k=="boolean"){if(j!==k)return D[F]=k,!0}else if(j.equals(k)===!1)return j.copy(k),!0}return!1}function M(R){const N=R.uniforms;let I=0;const D=16;for(let F=0,j=N.length;F<j;F++){const A=Array.isArray(N[F])?N[F]:[N[F]];for(let P=0,H=A.length;P<H;P++){const ae=A[P],te=Array.isArray(ae.value)?ae.value:[ae.value];for(let pe=0,de=te.length;pe<de;pe++){const ce=te[pe],K=T(ce),$=I%D,fe=$%K.boundary,ie=$+fe;I+=fe,ie!==0&&D-ie<K.storage&&(I+=D-ie),ae.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),ae.__offset=I,I+=K.storage}}}const k=I%D;return k>0&&(I+=D-k),R.__size=I,R.__cache={},this}function T(R){const N={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(N.boundary=4,N.storage=4):R.isVector2?(N.boundary=8,N.storage=8):R.isVector3||R.isColor?(N.boundary=16,N.storage=12):R.isVector4?(N.boundary=16,N.storage=16):R.isMatrix3?(N.boundary=48,N.storage=48):R.isMatrix4?(N.boundary=64,N.storage=64):R.isTexture?dt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):dt("WebGLRenderer: Unsupported uniform value type.",R),N}function w(R){const N=R.target;N.removeEventListener("dispose",w);const I=c.indexOf(N.__bindingPointIndex);c.splice(I,1),n.deleteBuffer(a[N.id]),delete a[N.id],delete o[N.id]}function _(){for(const R in a)n.deleteBuffer(a[R]);c=[],a={},o={}}return{bind:h,update:p,dispose:_}}const uL=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Xi=null;function dL(){return Xi===null&&(Xi=new tN(uL,16,16,Wa,Sr),Xi.name="DFG_LUT",Xi.minFilter=Ln,Xi.magFilter=Ln,Xi.wrapS=gr,Xi.wrapT=gr,Xi.generateMipmaps=!1,Xi.needsUpdate=!0),Xi}class mS{constructor(e={}){const{canvas:t=T3(),context:r=null,depth:a=!0,stencil:o=!1,alpha:c=!1,antialias:d=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:x=!1,reversedDepthBuffer:y=!1,outputBufferType:S=oi}=e;this.isWebGLRenderer=!0;let M;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");M=r.getContextAttributes().alpha}else M=c;const T=S,w=new Set([Dm,Im,Pm]),_=new Set([oi,er,dl,fl,Nm,Rm]),R=new Uint32Array(4),N=new Int32Array(4);let I=null,D=null;const k=[],F=[];let j=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ji,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let P=!1;this._outputColorSpace=yi;let H=0,ae=0,te=null,pe=-1,de=null;const ce=new nn,K=new nn;let $=null;const fe=new Ut(0);let ie=0,O=t.width,le=t.height,Ie=1,Ze=null,et=null;const re=new nn(0,0,O,le),he=new nn(0,0,O,le);let be=!1;const ze=new Om;let Fe=!1,vt=!1;const rn=new Qt,xt=new ee,bt=new nn,Lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ht=!1;function Xt(){return te===null?Ie:1}let z=r;function $t(C,q){return t.getContext(C,q)}try{const C={alpha:!0,depth:a,stencil:o,antialias:d,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:x};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Am}`),t.addEventListener("webglcontextlost",lt,!1),t.addEventListener("webglcontextrestored",Ot,!1),t.addEventListener("webglcontextcreationerror",Tt,!1),z===null){const q="webgl2";if(z=$t(q,C),z===null)throw $t(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(C){throw Nt("WebGLRenderer: "+C.message),C}let St,Et,Ye,L,b,Y,me,xe,ue,Je,Ae,He,ot,we,Pe,Xe,qe,Ne,ft,G,Le,Ee,ke,_e;function ge(){St=new dI(z),St.init(),Ee=new nL(z,St),Et=new nI(z,St,e,Ee),Ye=new eL(z,St),Et.reversedDepthBuffer&&y&&Ye.buffers.depth.setReversed(!0),L=new pI(z),b=new BD,Y=new tL(z,St,Ye,b,Et,Ee,L),me=new rI(A),xe=new uI(A),ue=new yN(z),ke=new eI(z,ue),Je=new fI(z,ue,L,ke),Ae=new gI(z,Je,ue,L),ft=new mI(z,Et,Y),Xe=new iI(b),He=new OD(A,me,xe,St,Et,ke,Xe),ot=new lL(A,b),we=new VD,Pe=new $D(St),Ne=new QP(A,me,xe,Ye,Ae,M,h),qe=new JD(A,Ae,Et),_e=new cL(z,L,Et,Ye),G=new tI(z,St,L),Le=new hI(z,St,L),L.programs=He.programs,A.capabilities=Et,A.extensions=St,A.properties=b,A.renderLists=we,A.shadowMap=qe,A.state=Ye,A.info=L}ge(),T!==oi&&(j=new yI(T,t.width,t.height,a,o));const Re=new aL(A,z);this.xr=Re,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const C=St.get("WEBGL_lose_context");C&&C.loseContext()},this.forceContextRestore=function(){const C=St.get("WEBGL_lose_context");C&&C.restoreContext()},this.getPixelRatio=function(){return Ie},this.setPixelRatio=function(C){C!==void 0&&(Ie=C,this.setSize(O,le,!1))},this.getSize=function(C){return C.set(O,le)},this.setSize=function(C,q,oe=!0){if(Re.isPresenting){dt("WebGLRenderer: Can't change size while VR device is presenting.");return}O=C,le=q,t.width=Math.floor(C*Ie),t.height=Math.floor(q*Ie),oe===!0&&(t.style.width=C+"px",t.style.height=q+"px"),j!==null&&j.setSize(t.width,t.height),this.setViewport(0,0,C,q)},this.getDrawingBufferSize=function(C){return C.set(O*Ie,le*Ie).floor()},this.setDrawingBufferSize=function(C,q,oe){O=C,le=q,Ie=oe,t.width=Math.floor(C*oe),t.height=Math.floor(q*oe),this.setViewport(0,0,C,q)},this.setEffects=function(C){if(T===oi){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(C){for(let q=0;q<C.length;q++)if(C[q].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}j.setEffects(C||[])},this.getCurrentViewport=function(C){return C.copy(ce)},this.getViewport=function(C){return C.copy(re)},this.setViewport=function(C,q,oe,ne){C.isVector4?re.set(C.x,C.y,C.z,C.w):re.set(C,q,oe,ne),Ye.viewport(ce.copy(re).multiplyScalar(Ie).round())},this.getScissor=function(C){return C.copy(he)},this.setScissor=function(C,q,oe,ne){C.isVector4?he.set(C.x,C.y,C.z,C.w):he.set(C,q,oe,ne),Ye.scissor(K.copy(he).multiplyScalar(Ie).round())},this.getScissorTest=function(){return be},this.setScissorTest=function(C){Ye.setScissorTest(be=C)},this.setOpaqueSort=function(C){Ze=C},this.setTransparentSort=function(C){et=C},this.getClearColor=function(C){return C.copy(Ne.getClearColor())},this.setClearColor=function(){Ne.setClearColor(...arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha(...arguments)},this.clear=function(C=!0,q=!0,oe=!0){let ne=0;if(C){let J=!1;if(te!==null){const De=te.texture.format;J=w.has(De)}if(J){const De=te.texture.type,Oe=_.has(De),Ce=Ne.getClearColor(),We=Ne.getClearAlpha(),je=Ce.r,at=Ce.g,nt=Ce.b;Oe?(R[0]=je,R[1]=at,R[2]=nt,R[3]=We,z.clearBufferuiv(z.COLOR,0,R)):(N[0]=je,N[1]=at,N[2]=nt,N[3]=We,z.clearBufferiv(z.COLOR,0,N))}else ne|=z.COLOR_BUFFER_BIT}q&&(ne|=z.DEPTH_BUFFER_BIT),oe&&(ne|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",lt,!1),t.removeEventListener("webglcontextrestored",Ot,!1),t.removeEventListener("webglcontextcreationerror",Tt,!1),Ne.dispose(),we.dispose(),Pe.dispose(),b.dispose(),me.dispose(),xe.dispose(),Ae.dispose(),ke.dispose(),_e.dispose(),He.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",ss),Re.removeEventListener("sessionend",as),wi.stop()};function lt(C){C.preventDefault(),Pu("WebGLRenderer: Context Lost."),P=!0}function Ot(){Pu("WebGLRenderer: Context Restored."),P=!1;const C=L.autoReset,q=qe.enabled,oe=qe.autoUpdate,ne=qe.needsUpdate,J=qe.type;ge(),L.autoReset=C,qe.enabled=q,qe.autoUpdate=oe,qe.needsUpdate=ne,qe.type=J}function Tt(C){Nt("WebGLRenderer: A WebGL context could not be created. Reason: ",C.statusMessage)}function Qn(C){const q=C.target;q.removeEventListener("dispose",Qn),Un(q)}function Un(C){eo(C),b.remove(C)}function eo(C){const q=b.get(C).programs;q!==void 0&&(q.forEach(function(oe){He.releaseProgram(oe)}),C.isShaderMaterial&&He.releaseShaderCache(C))}this.renderBufferDirect=function(C,q,oe,ne,J,De){q===null&&(q=Lt);const Oe=J.isMesh&&J.matrixWorld.determinant()<0,Ce=Nl(C,q,oe,ne,J);Ye.setMaterial(ne,Oe);let We=oe.index,je=1;if(ne.wireframe===!0){if(We=Je.getWireframeAttribute(oe),We===void 0)return;je=2}const at=oe.drawRange,nt=oe.attributes.position;let mt=at.start*je,At=(at.start+at.count)*je;De!==null&&(mt=Math.max(mt,De.start*je),At=Math.min(At,(De.start+De.count)*je)),We!==null?(mt=Math.max(mt,0),At=Math.min(At,We.count)):nt!=null&&(mt=Math.max(mt,0),At=Math.min(At,nt.count));const zt=At-mt;if(zt<0||zt===1/0)return;ke.setup(J,ne,Ce,oe,We);let jt,Pt=G;if(We!==null&&(jt=ue.get(We),Pt=Le,Pt.setIndex(jt)),J.isMesh)ne.wireframe===!0?(Ye.setLineWidth(ne.wireframeLinewidth*Xt()),Pt.setMode(z.LINES)):Pt.setMode(z.TRIANGLES);else if(J.isLine){let it=ne.linewidth;it===void 0&&(it=1),Ye.setLineWidth(it*Xt()),J.isLineSegments?Pt.setMode(z.LINES):J.isLineLoop?Pt.setMode(z.LINE_LOOP):Pt.setMode(z.LINE_STRIP)}else J.isPoints?Pt.setMode(z.POINTS):J.isSprite&&Pt.setMode(z.TRIANGLES);if(J.isBatchedMesh)if(J._multiDrawInstances!==null)pl("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Pt.renderMultiDrawInstances(J._multiDrawStarts,J._multiDrawCounts,J._multiDrawCount,J._multiDrawInstances);else if(St.get("WEBGL_multi_draw"))Pt.renderMultiDraw(J._multiDrawStarts,J._multiDrawCounts,J._multiDrawCount);else{const it=J._multiDrawStarts,Dt=J._multiDrawCounts,wt=J._multiDrawCount,Tn=We?ue.get(We).bytesPerElement:1,ji=b.get(ne).currentProgram.getUniforms();for(let cn=0;cn<wt;cn++)ji.setValue(z,"_gl_DrawID",cn),Pt.render(it[cn]/Tn,Dt[cn])}else if(J.isInstancedMesh)Pt.renderInstances(mt,zt,J.count);else if(oe.isInstancedBufferGeometry){const it=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,Dt=Math.min(oe.instanceCount,it);Pt.renderInstances(mt,zt,Dt)}else Pt.render(mt,zt)};function br(C,q,oe){C.transparent===!0&&C.side===mr&&C.forceSinglePass===!1?(C.side=Jn,C.needsUpdate=!0,os(C,q,oe),C.side=ns,C.needsUpdate=!0,os(C,q,oe),C.side=mr):os(C,q,oe)}this.compile=function(C,q,oe=null){oe===null&&(oe=C),D=Pe.get(oe),D.init(q),F.push(D),oe.traverseVisible(function(J){J.isLight&&J.layers.test(q.layers)&&(D.pushLight(J),J.castShadow&&D.pushShadow(J))}),C!==oe&&C.traverseVisible(function(J){J.isLight&&J.layers.test(q.layers)&&(D.pushLight(J),J.castShadow&&D.pushShadow(J))}),D.setupLights();const ne=new Set;return C.traverse(function(J){if(!(J.isMesh||J.isPoints||J.isLine||J.isSprite))return;const De=J.material;if(De)if(Array.isArray(De))for(let Oe=0;Oe<De.length;Oe++){const Ce=De[Oe];br(Ce,oe,J),ne.add(Ce)}else br(De,oe,J),ne.add(De)}),D=F.pop(),ne},this.compileAsync=function(C,q,oe=null){const ne=this.compile(C,q,oe);return new Promise(J=>{function De(){if(ne.forEach(function(Oe){b.get(Oe).currentProgram.isReady()&&ne.delete(Oe)}),ne.size===0){J(C);return}setTimeout(De,10)}St.get("KHR_parallel_shader_compile")!==null?De():setTimeout(De,10)})};let to=null;function rs(C){to&&to(C)}function ss(){wi.stop()}function as(){wi.start()}const wi=new uS;wi.setAnimationLoop(rs),typeof self<"u"&&wi.setContext(self),this.setAnimationLoop=function(C){to=C,Re.setAnimationLoop(C),C===null?wi.stop():wi.start()},Re.addEventListener("sessionstart",ss),Re.addEventListener("sessionend",as),this.render=function(C,q){if(q!==void 0&&q.isCamera!==!0){Nt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;const oe=Re.enabled===!0&&Re.isPresenting===!0,ne=j!==null&&(te===null||oe)&&j.begin(A,te);if(C.matrixWorldAutoUpdate===!0&&C.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(j===null||j.isCompositing()===!1)&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(q),q=Re.getCamera()),C.isScene===!0&&C.onBeforeRender(A,C,q,te),D=Pe.get(C,F.length),D.init(q),F.push(D),rn.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),ze.setFromProjectionMatrix(rn,Ki,q.reversedDepth),vt=this.localClippingEnabled,Fe=Xe.init(this.clippingPlanes,vt),I=we.get(C,k.length),I.init(),k.push(I),Re.enabled===!0&&Re.isPresenting===!0){const Oe=A.xr.getDepthSensingMesh();Oe!==null&&no(Oe,q,-1/0,A.sortObjects)}no(C,q,0,A.sortObjects),I.finish(),A.sortObjects===!0&&I.sort(Ze,et),ht=Re.enabled===!1||Re.isPresenting===!1||Re.hasDepthSensing()===!1,ht&&Ne.addToRenderList(I,C),this.info.render.frame++,Fe===!0&&Xe.beginShadows();const J=D.state.shadowsArray;if(qe.render(J,C,q),Fe===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ne&&j.hasRenderPass())===!1){const Oe=I.opaque,Ce=I.transmissive;if(D.setupLights(),q.isArrayCamera){const We=q.cameras;if(Ce.length>0)for(let je=0,at=We.length;je<at;je++){const nt=We[je];Al(Oe,Ce,C,nt)}ht&&Ne.render(C);for(let je=0,at=We.length;je<at;je++){const nt=We[je];Tl(I,C,nt,nt.viewport)}}else Ce.length>0&&Al(Oe,Ce,C,q),ht&&Ne.render(C),Tl(I,C,q)}te!==null&&ae===0&&(Y.updateMultisampleRenderTarget(te),Y.updateRenderTargetMipmap(te)),ne&&j.end(A),C.isScene===!0&&C.onAfterRender(A,C,q),ke.resetDefaultState(),pe=-1,de=null,F.pop(),F.length>0?(D=F[F.length-1],Fe===!0&&Xe.setGlobalState(A.clippingPlanes,D.state.camera)):D=null,k.pop(),k.length>0?I=k[k.length-1]:I=null};function no(C,q,oe,ne){if(C.visible===!1)return;if(C.layers.test(q.layers)){if(C.isGroup)oe=C.renderOrder;else if(C.isLOD)C.autoUpdate===!0&&C.update(q);else if(C.isLight)D.pushLight(C),C.castShadow&&D.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||ze.intersectsSprite(C)){ne&&bt.setFromMatrixPosition(C.matrixWorld).applyMatrix4(rn);const Oe=Ae.update(C),Ce=C.material;Ce.visible&&I.push(C,Oe,Ce,oe,bt.z,null)}}else if((C.isMesh||C.isLine||C.isPoints)&&(!C.frustumCulled||ze.intersectsObject(C))){const Oe=Ae.update(C),Ce=C.material;if(ne&&(C.boundingSphere!==void 0?(C.boundingSphere===null&&C.computeBoundingSphere(),bt.copy(C.boundingSphere.center)):(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),bt.copy(Oe.boundingSphere.center)),bt.applyMatrix4(C.matrixWorld).applyMatrix4(rn)),Array.isArray(Ce)){const We=Oe.groups;for(let je=0,at=We.length;je<at;je++){const nt=We[je],mt=Ce[nt.materialIndex];mt&&mt.visible&&I.push(C,Oe,mt,oe,bt.z,nt)}}else Ce.visible&&I.push(C,Oe,Ce,oe,bt.z,null)}}const De=C.children;for(let Oe=0,Ce=De.length;Oe<Ce;Oe++)no(De[Oe],q,oe,ne)}function Tl(C,q,oe,ne){const{opaque:J,transmissive:De,transparent:Oe}=C;D.setupLightsView(oe),Fe===!0&&Xe.setGlobalState(A.clippingPlanes,oe),ne&&Ye.viewport(ce.copy(ne)),J.length>0&&ci(J,q,oe),De.length>0&&ci(De,q,oe),Oe.length>0&&ci(Oe,q,oe),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function Al(C,q,oe,ne){if((oe.isScene===!0?oe.overrideMaterial:null)!==null)return;if(D.state.transmissionRenderTarget[ne.id]===void 0){const mt=St.has("EXT_color_buffer_half_float")||St.has("EXT_color_buffer_float");D.state.transmissionRenderTarget[ne.id]=new Qi(1,1,{generateMipmaps:!0,type:mt?Sr:oi,minFilter:Ls,samples:Et.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Rt.workingColorSpace})}const De=D.state.transmissionRenderTarget[ne.id],Oe=ne.viewport||ce;De.setSize(Oe.z*A.transmissionResolutionScale,Oe.w*A.transmissionResolutionScale);const Ce=A.getRenderTarget(),We=A.getActiveCubeFace(),je=A.getActiveMipmapLevel();A.setRenderTarget(De),A.getClearColor(fe),ie=A.getClearAlpha(),ie<1&&A.setClearColor(16777215,.5),A.clear(),ht&&Ne.render(oe);const at=A.toneMapping;A.toneMapping=Ji;const nt=ne.viewport;if(ne.viewport!==void 0&&(ne.viewport=void 0),D.setupLightsView(ne),Fe===!0&&Xe.setGlobalState(A.clippingPlanes,ne),ci(C,oe,ne),Y.updateMultisampleRenderTarget(De),Y.updateRenderTargetMipmap(De),St.has("WEBGL_multisampled_render_to_texture")===!1){let mt=!1;for(let At=0,zt=q.length;At<zt;At++){const jt=q[At],{object:Pt,geometry:it,material:Dt,group:wt}=jt;if(Dt.side===mr&&Pt.layers.test(ne.layers)){const Tn=Dt.side;Dt.side=Jn,Dt.needsUpdate=!0,io(Pt,oe,ne,it,Dt,wt),Dt.side=Tn,Dt.needsUpdate=!0,mt=!0}}mt===!0&&(Y.updateMultisampleRenderTarget(De),Y.updateRenderTargetMipmap(De))}A.setRenderTarget(Ce,We,je),A.setClearColor(fe,ie),nt!==void 0&&(ne.viewport=nt),A.toneMapping=at}function ci(C,q,oe){const ne=q.isScene===!0?q.overrideMaterial:null;for(let J=0,De=C.length;J<De;J++){const Oe=C[J],{object:Ce,geometry:We,group:je}=Oe;let at=Oe.material;at.allowOverride===!0&&ne!==null&&(at=ne),Ce.layers.test(oe.layers)&&io(Ce,q,oe,We,at,je)}}function io(C,q,oe,ne,J,De){C.onBeforeRender(A,q,oe,ne,J,De),C.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,C.matrixWorld),C.normalMatrix.getNormalMatrix(C.modelViewMatrix),J.onBeforeRender(A,q,oe,ne,C,De),J.transparent===!0&&J.side===mr&&J.forceSinglePass===!1?(J.side=Jn,J.needsUpdate=!0,A.renderBufferDirect(oe,q,ne,J,C,De),J.side=ns,J.needsUpdate=!0,A.renderBufferDirect(oe,q,ne,J,C,De),J.side=mr):A.renderBufferDirect(oe,q,ne,J,C,De),C.onAfterRender(A,q,oe,ne,J,De)}function os(C,q,oe){q.isScene!==!0&&(q=Lt);const ne=b.get(C),J=D.state.lights,De=D.state.shadowsArray,Oe=J.state.version,Ce=He.getParameters(C,J.state,De,q,oe),We=He.getProgramCacheKey(Ce);let je=ne.programs;ne.environment=C.isMeshStandardMaterial?q.environment:null,ne.fog=q.fog,ne.envMap=(C.isMeshStandardMaterial?xe:me).get(C.envMap||ne.environment),ne.envMapRotation=ne.environment!==null&&C.envMap===null?q.environmentRotation:C.envMapRotation,je===void 0&&(C.addEventListener("dispose",Qn),je=new Map,ne.programs=je);let at=je.get(We);if(at!==void 0){if(ne.currentProgram===at&&ne.lightsStateVersion===Oe)return ro(C,Ce),at}else Ce.uniforms=He.getUniforms(C),C.onBeforeCompile(Ce,A),at=He.acquireProgram(Ce,We),je.set(We,at),ne.uniforms=Ce.uniforms;const nt=ne.uniforms;return(!C.isShaderMaterial&&!C.isRawShaderMaterial||C.clipping===!0)&&(nt.clippingPlanes=Xe.uniform),ro(C,Ce),ne.needsLights=Pl(C),ne.lightsStateVersion=Oe,ne.needsLights&&(nt.ambientLightColor.value=J.state.ambient,nt.lightProbe.value=J.state.probe,nt.directionalLights.value=J.state.directional,nt.directionalLightShadows.value=J.state.directionalShadow,nt.spotLights.value=J.state.spot,nt.spotLightShadows.value=J.state.spotShadow,nt.rectAreaLights.value=J.state.rectArea,nt.ltc_1.value=J.state.rectAreaLTC1,nt.ltc_2.value=J.state.rectAreaLTC2,nt.pointLights.value=J.state.point,nt.pointLightShadows.value=J.state.pointShadow,nt.hemisphereLights.value=J.state.hemi,nt.directionalShadowMap.value=J.state.directionalShadowMap,nt.directionalShadowMatrix.value=J.state.directionalShadowMatrix,nt.spotShadowMap.value=J.state.spotShadowMap,nt.spotLightMatrix.value=J.state.spotLightMatrix,nt.spotLightMap.value=J.state.spotLightMap,nt.pointShadowMap.value=J.state.pointShadowMap,nt.pointShadowMatrix.value=J.state.pointShadowMatrix),ne.currentProgram=at,ne.uniformsList=null,at}function Cl(C){if(C.uniformsList===null){const q=C.currentProgram.getUniforms();C.uniformsList=Su.seqWithValue(q.seq,C.uniforms)}return C.uniformsList}function ro(C,q){const oe=b.get(C);oe.outputColorSpace=q.outputColorSpace,oe.batching=q.batching,oe.batchingColor=q.batchingColor,oe.instancing=q.instancing,oe.instancingColor=q.instancingColor,oe.instancingMorph=q.instancingMorph,oe.skinning=q.skinning,oe.morphTargets=q.morphTargets,oe.morphNormals=q.morphNormals,oe.morphColors=q.morphColors,oe.morphTargetsCount=q.morphTargetsCount,oe.numClippingPlanes=q.numClippingPlanes,oe.numIntersection=q.numClipIntersection,oe.vertexAlphas=q.vertexAlphas,oe.vertexTangents=q.vertexTangents,oe.toneMapping=q.toneMapping}function Nl(C,q,oe,ne,J){q.isScene!==!0&&(q=Lt),Y.resetTextureUnits();const De=q.fog,Oe=ne.isMeshStandardMaterial?q.environment:null,Ce=te===null?A.outputColorSpace:te.isXRRenderTarget===!0?te.texture.colorSpace:Xa,We=(ne.isMeshStandardMaterial?xe:me).get(ne.envMap||Oe),je=ne.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,at=!!oe.attributes.tangent&&(!!ne.normalMap||ne.anisotropy>0),nt=!!oe.morphAttributes.position,mt=!!oe.morphAttributes.normal,At=!!oe.morphAttributes.color;let zt=Ji;ne.toneMapped&&(te===null||te.isXRRenderTarget===!0)&&(zt=A.toneMapping);const jt=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,Pt=jt!==void 0?jt.length:0,it=b.get(ne),Dt=D.state.lights;if(Fe===!0&&(vt===!0||C!==de)){const mn=C===de&&ne.id===pe;Xe.setState(ne,C,mn)}let wt=!1;ne.version===it.__version?(it.needsLights&&it.lightsStateVersion!==Dt.state.version||it.outputColorSpace!==Ce||J.isBatchedMesh&&it.batching===!1||!J.isBatchedMesh&&it.batching===!0||J.isBatchedMesh&&it.batchingColor===!0&&J.colorTexture===null||J.isBatchedMesh&&it.batchingColor===!1&&J.colorTexture!==null||J.isInstancedMesh&&it.instancing===!1||!J.isInstancedMesh&&it.instancing===!0||J.isSkinnedMesh&&it.skinning===!1||!J.isSkinnedMesh&&it.skinning===!0||J.isInstancedMesh&&it.instancingColor===!0&&J.instanceColor===null||J.isInstancedMesh&&it.instancingColor===!1&&J.instanceColor!==null||J.isInstancedMesh&&it.instancingMorph===!0&&J.morphTexture===null||J.isInstancedMesh&&it.instancingMorph===!1&&J.morphTexture!==null||it.envMap!==We||ne.fog===!0&&it.fog!==De||it.numClippingPlanes!==void 0&&(it.numClippingPlanes!==Xe.numPlanes||it.numIntersection!==Xe.numIntersection)||it.vertexAlphas!==je||it.vertexTangents!==at||it.morphTargets!==nt||it.morphNormals!==mt||it.morphColors!==At||it.toneMapping!==zt||it.morphTargetsCount!==Pt)&&(wt=!0):(wt=!0,it.__version=ne.version);let Tn=it.currentProgram;wt===!0&&(Tn=os(ne,q,J));let ji=!1,cn=!1,ls=!1;const kt=Tn.getUniforms(),ut=it.uniforms;if(Ye.useProgram(Tn.program)&&(ji=!0,cn=!0,ls=!0),ne.id!==pe&&(pe=ne.id,cn=!0),ji||de!==C){Ye.buffers.depth.getReversed()&&C.reversedDepth!==!0&&(C._reversedDepth=!0,C.updateProjectionMatrix()),kt.setValue(z,"projectionMatrix",C.projectionMatrix),kt.setValue(z,"viewMatrix",C.matrixWorldInverse);const gn=kt.map.cameraPosition;gn!==void 0&&gn.setValue(z,xt.setFromMatrixPosition(C.matrixWorld)),Et.logarithmicDepthBuffer&&kt.setValue(z,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2)),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&kt.setValue(z,"isOrthographic",C.isOrthographicCamera===!0),de!==C&&(de=C,cn=!0,ls=!0)}if(it.needsLights&&(Dt.state.directionalShadowMap.length>0&&kt.setValue(z,"directionalShadowMap",Dt.state.directionalShadowMap,Y),Dt.state.spotShadowMap.length>0&&kt.setValue(z,"spotShadowMap",Dt.state.spotShadowMap,Y),Dt.state.pointShadowMap.length>0&&kt.setValue(z,"pointShadowMap",Dt.state.pointShadowMap,Y)),J.isSkinnedMesh){kt.setOptional(z,J,"bindMatrix"),kt.setOptional(z,J,"bindMatrixInverse");const mn=J.skeleton;mn&&(mn.boneTexture===null&&mn.computeBoneTexture(),kt.setValue(z,"boneTexture",mn.boneTexture,Y))}J.isBatchedMesh&&(kt.setOptional(z,J,"batchingTexture"),kt.setValue(z,"batchingTexture",J._matricesTexture,Y),kt.setOptional(z,J,"batchingIdTexture"),kt.setValue(z,"batchingIdTexture",J._indirectTexture,Y),kt.setOptional(z,J,"batchingColorTexture"),J._colorsTexture!==null&&kt.setValue(z,"batchingColorTexture",J._colorsTexture,Y));const Fn=oe.morphAttributes;if((Fn.position!==void 0||Fn.normal!==void 0||Fn.color!==void 0)&&ft.update(J,oe,Tn),(cn||it.receiveShadow!==J.receiveShadow)&&(it.receiveShadow=J.receiveShadow,kt.setValue(z,"receiveShadow",J.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(ut.envMap.value=We,ut.flipEnvMap.value=We.isCubeTexture&&We.isRenderTargetTexture===!1?-1:1),ne.isMeshStandardMaterial&&ne.envMap===null&&q.environment!==null&&(ut.envMapIntensity.value=q.environmentIntensity),ut.dfgLUT!==void 0&&(ut.dfgLUT.value=dL()),cn&&(kt.setValue(z,"toneMappingExposure",A.toneMappingExposure),it.needsLights&&Rl(ut,ls),De&&ne.fog===!0&&ot.refreshFogUniforms(ut,De),ot.refreshMaterialUniforms(ut,ne,Ie,le,D.state.transmissionRenderTarget[C.id]),Su.upload(z,Cl(it),ut,Y)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(Su.upload(z,Cl(it),ut,Y),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&kt.setValue(z,"center",J.center),kt.setValue(z,"modelViewMatrix",J.modelViewMatrix),kt.setValue(z,"normalMatrix",J.normalMatrix),kt.setValue(z,"modelMatrix",J.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const mn=ne.uniformsGroups;for(let gn=0,js=mn.length;gn<js;gn++){const Vi=mn[gn];_e.update(Vi,Tn),_e.bind(Vi,Tn)}}return Tn}function Rl(C,q){C.ambientLightColor.needsUpdate=q,C.lightProbe.needsUpdate=q,C.directionalLights.needsUpdate=q,C.directionalLightShadows.needsUpdate=q,C.pointLights.needsUpdate=q,C.pointLightShadows.needsUpdate=q,C.spotLights.needsUpdate=q,C.spotLightShadows.needsUpdate=q,C.rectAreaLights.needsUpdate=q,C.hemisphereLights.needsUpdate=q}function Pl(C){return C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&C.lights===!0}this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return ae},this.getRenderTarget=function(){return te},this.setRenderTargetTextures=function(C,q,oe){const ne=b.get(C);ne.__autoAllocateDepthBuffer=C.resolveDepthBuffer===!1,ne.__autoAllocateDepthBuffer===!1&&(ne.__useRenderToTexture=!1),b.get(C.texture).__webglTexture=q,b.get(C.depthTexture).__webglTexture=ne.__autoAllocateDepthBuffer?void 0:oe,ne.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(C,q){const oe=b.get(C);oe.__webglFramebuffer=q,oe.__useDefaultFramebuffer=q===void 0};const Wu=z.createFramebuffer();this.setRenderTarget=function(C,q=0,oe=0){te=C,H=q,ae=oe;let ne=null,J=!1,De=!1;if(C){const Ce=b.get(C);if(Ce.__useDefaultFramebuffer!==void 0){Ye.bindFramebuffer(z.FRAMEBUFFER,Ce.__webglFramebuffer),ce.copy(C.viewport),K.copy(C.scissor),$=C.scissorTest,Ye.viewport(ce),Ye.scissor(K),Ye.setScissorTest($),pe=-1;return}else if(Ce.__webglFramebuffer===void 0)Y.setupRenderTarget(C);else if(Ce.__hasExternalTextures)Y.rebindTextures(C,b.get(C.texture).__webglTexture,b.get(C.depthTexture).__webglTexture);else if(C.depthBuffer){const at=C.depthTexture;if(Ce.__boundDepthTexture!==at){if(at!==null&&b.has(at)&&(C.width!==at.image.width||C.height!==at.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Y.setupDepthRenderbuffer(C)}}const We=C.texture;(We.isData3DTexture||We.isDataArrayTexture||We.isCompressedArrayTexture)&&(De=!0);const je=b.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget?(Array.isArray(je[q])?ne=je[q][oe]:ne=je[q],J=!0):C.samples>0&&Y.useMultisampledRTT(C)===!1?ne=b.get(C).__webglMultisampledFramebuffer:Array.isArray(je)?ne=je[oe]:ne=je,ce.copy(C.viewport),K.copy(C.scissor),$=C.scissorTest}else ce.copy(re).multiplyScalar(Ie).floor(),K.copy(he).multiplyScalar(Ie).floor(),$=be;if(oe!==0&&(ne=Wu),Ye.bindFramebuffer(z.FRAMEBUFFER,ne)&&Ye.drawBuffers(C,ne),Ye.viewport(ce),Ye.scissor(K),Ye.setScissorTest($),J){const Ce=b.get(C.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+q,Ce.__webglTexture,oe)}else if(De){const Ce=q;for(let We=0;We<C.textures.length;We++){const je=b.get(C.textures[We]);z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0+We,je.__webglTexture,oe,Ce)}}else if(C!==null&&oe!==0){const Ce=b.get(C.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Ce.__webglTexture,oe)}pe=-1},this.readRenderTargetPixels=function(C,q,oe,ne,J,De,Oe,Ce=0){if(!(C&&C.isWebGLRenderTarget)){Nt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let We=b.get(C).__webglFramebuffer;if(C.isWebGLCubeRenderTarget&&Oe!==void 0&&(We=We[Oe]),We){Ye.bindFramebuffer(z.FRAMEBUFFER,We);try{const je=C.textures[Ce],at=je.format,nt=je.type;if(!Et.textureFormatReadable(at)){Nt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Et.textureTypeReadable(nt)){Nt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=C.width-ne&&oe>=0&&oe<=C.height-J&&(C.textures.length>1&&z.readBuffer(z.COLOR_ATTACHMENT0+Ce),z.readPixels(q,oe,ne,J,Ee.convert(at),Ee.convert(nt),De))}finally{const je=te!==null?b.get(te).__webglFramebuffer:null;Ye.bindFramebuffer(z.FRAMEBUFFER,je)}}},this.readRenderTargetPixelsAsync=async function(C,q,oe,ne,J,De,Oe,Ce=0){if(!(C&&C.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let We=b.get(C).__webglFramebuffer;if(C.isWebGLCubeRenderTarget&&Oe!==void 0&&(We=We[Oe]),We)if(q>=0&&q<=C.width-ne&&oe>=0&&oe<=C.height-J){Ye.bindFramebuffer(z.FRAMEBUFFER,We);const je=C.textures[Ce],at=je.format,nt=je.type;if(!Et.textureFormatReadable(at))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Et.textureTypeReadable(nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const mt=z.createBuffer();z.bindBuffer(z.PIXEL_PACK_BUFFER,mt),z.bufferData(z.PIXEL_PACK_BUFFER,De.byteLength,z.STREAM_READ),C.textures.length>1&&z.readBuffer(z.COLOR_ATTACHMENT0+Ce),z.readPixels(q,oe,ne,J,Ee.convert(at),Ee.convert(nt),0);const At=te!==null?b.get(te).__webglFramebuffer:null;Ye.bindFramebuffer(z.FRAMEBUFFER,At);const zt=z.fenceSync(z.SYNC_GPU_COMMANDS_COMPLETE,0);return z.flush(),await A3(z,zt,4),z.bindBuffer(z.PIXEL_PACK_BUFFER,mt),z.getBufferSubData(z.PIXEL_PACK_BUFFER,0,De),z.deleteBuffer(mt),z.deleteSync(zt),De}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(C,q=null,oe=0){const ne=Math.pow(2,-oe),J=Math.floor(C.image.width*ne),De=Math.floor(C.image.height*ne),Oe=q!==null?q.x:0,Ce=q!==null?q.y:0;Y.setTexture2D(C,0),z.copyTexSubImage2D(z.TEXTURE_2D,oe,0,0,Oe,Ce,J,De),Ye.unbindTexture()};const Xu=z.createFramebuffer(),qt=z.createFramebuffer();this.copyTextureToTexture=function(C,q,oe=null,ne=null,J=0,De=null){De===null&&(J!==0?(pl("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),De=J,J=0):De=0);let Oe,Ce,We,je,at,nt,mt,At,zt;const jt=C.isCompressedTexture?C.mipmaps[De]:C.image;if(oe!==null)Oe=oe.max.x-oe.min.x,Ce=oe.max.y-oe.min.y,We=oe.isBox3?oe.max.z-oe.min.z:1,je=oe.min.x,at=oe.min.y,nt=oe.isBox3?oe.min.z:0;else{const Fn=Math.pow(2,-J);Oe=Math.floor(jt.width*Fn),Ce=Math.floor(jt.height*Fn),C.isDataArrayTexture?We=jt.depth:C.isData3DTexture?We=Math.floor(jt.depth*Fn):We=1,je=0,at=0,nt=0}ne!==null?(mt=ne.x,At=ne.y,zt=ne.z):(mt=0,At=0,zt=0);const Pt=Ee.convert(q.format),it=Ee.convert(q.type);let Dt;q.isData3DTexture?(Y.setTexture3D(q,0),Dt=z.TEXTURE_3D):q.isDataArrayTexture||q.isCompressedArrayTexture?(Y.setTexture2DArray(q,0),Dt=z.TEXTURE_2D_ARRAY):(Y.setTexture2D(q,0),Dt=z.TEXTURE_2D),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,q.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,q.unpackAlignment);const wt=z.getParameter(z.UNPACK_ROW_LENGTH),Tn=z.getParameter(z.UNPACK_IMAGE_HEIGHT),ji=z.getParameter(z.UNPACK_SKIP_PIXELS),cn=z.getParameter(z.UNPACK_SKIP_ROWS),ls=z.getParameter(z.UNPACK_SKIP_IMAGES);z.pixelStorei(z.UNPACK_ROW_LENGTH,jt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,jt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,je),z.pixelStorei(z.UNPACK_SKIP_ROWS,at),z.pixelStorei(z.UNPACK_SKIP_IMAGES,nt);const kt=C.isDataArrayTexture||C.isData3DTexture,ut=q.isDataArrayTexture||q.isData3DTexture;if(C.isDepthTexture){const Fn=b.get(C),mn=b.get(q),gn=b.get(Fn.__renderTarget),js=b.get(mn.__renderTarget);Ye.bindFramebuffer(z.READ_FRAMEBUFFER,gn.__webglFramebuffer),Ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,js.__webglFramebuffer);for(let Vi=0;Vi<We;Vi++)kt&&(z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,b.get(C).__webglTexture,J,nt+Vi),z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,b.get(q).__webglTexture,De,zt+Vi)),z.blitFramebuffer(je,at,Oe,Ce,mt,At,Oe,Ce,z.DEPTH_BUFFER_BIT,z.NEAREST);Ye.bindFramebuffer(z.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else if(J!==0||C.isRenderTargetTexture||b.has(C)){const Fn=b.get(C),mn=b.get(q);Ye.bindFramebuffer(z.READ_FRAMEBUFFER,Xu),Ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,qt);for(let gn=0;gn<We;gn++)kt?z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Fn.__webglTexture,J,nt+gn):z.framebufferTexture2D(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Fn.__webglTexture,J),ut?z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,mn.__webglTexture,De,zt+gn):z.framebufferTexture2D(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,mn.__webglTexture,De),J!==0?z.blitFramebuffer(je,at,Oe,Ce,mt,At,Oe,Ce,z.COLOR_BUFFER_BIT,z.NEAREST):ut?z.copyTexSubImage3D(Dt,De,mt,At,zt+gn,je,at,Oe,Ce):z.copyTexSubImage2D(Dt,De,mt,At,je,at,Oe,Ce);Ye.bindFramebuffer(z.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else ut?C.isDataTexture||C.isData3DTexture?z.texSubImage3D(Dt,De,mt,At,zt,Oe,Ce,We,Pt,it,jt.data):q.isCompressedArrayTexture?z.compressedTexSubImage3D(Dt,De,mt,At,zt,Oe,Ce,We,Pt,jt.data):z.texSubImage3D(Dt,De,mt,At,zt,Oe,Ce,We,Pt,it,jt):C.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,De,mt,At,Oe,Ce,Pt,it,jt.data):C.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,De,mt,At,jt.width,jt.height,Pt,jt.data):z.texSubImage2D(z.TEXTURE_2D,De,mt,At,Oe,Ce,Pt,it,jt);z.pixelStorei(z.UNPACK_ROW_LENGTH,wt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Tn),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ji),z.pixelStorei(z.UNPACK_SKIP_ROWS,cn),z.pixelStorei(z.UNPACK_SKIP_IMAGES,ls),De===0&&q.generateMipmaps&&z.generateMipmap(Dt),Ye.unbindTexture()},this.initRenderTarget=function(C){b.get(C).__webglFramebuffer===void 0&&Y.setupRenderTarget(C)},this.initTexture=function(C){C.isCubeTexture?Y.setTextureCube(C,0):C.isData3DTexture?Y.setTexture3D(C,0):C.isDataArrayTexture||C.isCompressedArrayTexture?Y.setTexture2DArray(C,0):Y.setTexture2D(C,0),Ye.unbindTexture()},this.resetState=function(){H=0,ae=0,te=null,Ye.reset(),ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ki}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Rt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Rt._getUnpackColorSpace()}}const Bs="/assets/faed1dd832314fe381fd34c35312b9faa571832d-BcRMDdfh.png",fL="/assets/82eb0254e6f3e728e5562a8e7c2d26574216fd8e-CRFUvfp2.png",B={atomicOrange:"#f78405",white:"#ffffff",black:"#1a1a1a",electricBlue:"#6666ff",navyBlue:"#242b64"};function hL(){const[n,e]=Me.useState(!1);return u.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[u.jsx("div",{className:"hidden lg:block absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8"})}),u.jsxs("div",{className:"hidden lg:flex items-center gap-6 bg-gray-50/80 backdrop-blur-sm rounded-full px-6 py-2.5",children:[u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsx("a",{href:"#features",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"Features"}),u.jsx("a",{href:"#how-it-works",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"How it Works"}),u.jsx("a",{href:"#ai-tools",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"AI Tools"}),u.jsx("a",{href:"#community",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"Community"}),u.jsx("a",{href:"#webinars",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"Webinars"}),u.jsx("a",{href:"#pricing",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"Pricing"}),u.jsx("a",{href:"#about",className:"text-sm font-medium hover:text-gray-600 transition-colors",children:"About"})]}),u.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[u.jsx("a",{href:"#login",className:"px-5 py-2 text-sm font-medium border border-gray-300 rounded-full hover:bg-gray-100 bg-white",children:"Log In"}),u.jsx("a",{href:"#signup",className:"px-5 py-2 text-sm font-medium text-white rounded-full transition-colors",style:{backgroundColor:B.atomicOrange},onMouseEnter:t=>t.currentTarget.style.opacity="0.9",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"Launch App"})]})]}),u.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?u.jsx(Bb,{className:"w-6 h-6"}):u.jsx(rb,{className:"w-6 h-6"})})]})}),u.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:n?1:0,height:n?"auto":0},transition:{duration:.3},className:"lg:hidden absolute top-20 left-0 right-0 bg-white shadow-lg z-20 overflow-hidden",children:n&&u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("a",{href:"#features",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"Features"}),u.jsx("a",{href:"#how-it-works",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"How it Works"}),u.jsx("a",{href:"#ai-tools",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"AI Tools"}),u.jsx("a",{href:"#community",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"Community"}),u.jsx("a",{href:"#webinars",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"Webinars"}),u.jsx("a",{href:"#pricing",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"Pricing"}),u.jsx("a",{href:"#about",className:"text-sm font-medium hover:text-gray-600 py-2 border-b border-gray-100",onClick:()=>e(!1),children:"About"}),u.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[u.jsx("a",{href:"#login",className:"px-5 py-3 text-sm font-medium border border-gray-300 rounded-full hover:bg-gray-100 bg-white text-center",children:"Log In"}),u.jsx("a",{href:"#signup",className:"px-5 py-3 text-sm font-medium text-white rounded-full transition-opacity text-center",style:{backgroundColor:B.atomicOrange},children:"Launch App"})]})]})})}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 lg:px-8 py-8 lg:py-0",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"inline-block mb-4",children:u.jsx("span",{className:"px-3 lg:px-4 py-1.5 lg:py-2 rounded-full text-[10px] lg:text-xs font-semibold tracking-wide uppercase text-white",style:{backgroundColor:`${B.atomicOrange}33`},children:u.jsx("span",{style:{color:B.atomicOrange},children:"STARTUP LAUNCH MADE EASY"})})}),u.jsxs(X.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl lg:text-6xl leading-[1.1] tracking-tight mb-4 lg:mb-6",children:["Turning Startup Ideas",u.jsx("br",{}),"into Reality"]}),u.jsx(X.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-sm lg:text-base mb-6 lg:mb-8 text-gray-700 leading-relaxed max-w-md",children:"NextIgnition helps founders grow from idea to launch. Connect with experts, get mentorship, build your MVP, and raise funding all on one platform."}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"flex flex-wrap gap-2 lg:gap-3 mb-6 lg:mb-8",children:[u.jsx("span",{className:"px-3 lg:px-4 py-1.5 lg:py-2 bg-gray-100 text-gray-700 rounded-full text-xs lg:text-sm font-medium",children:"AI Powered Matching"}),u.jsx("span",{className:"px-3 lg:px-4 py-1.5 lg:py-2 bg-gray-100 text-gray-700 rounded-full text-xs lg:text-sm font-medium",children:"All in One Platform"}),u.jsx("span",{className:"px-3 lg:px-4 py-1.5 lg:py-2 bg-gray-100 text-gray-700 rounded-full text-xs lg:text-sm font-medium",children:"Global Community"})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"flex flex-wrap gap-2 lg:gap-3 mb-8 lg:mb-16",children:[u.jsx("button",{className:"px-4 lg:px-6 py-2 lg:py-3 text-white rounded-md transition-opacity font-medium text-sm lg:text-base",style:{backgroundColor:B.atomicOrange},onMouseEnter:t=>t.currentTarget.style.opacity="0.9",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"Join as Founder"}),u.jsx("button",{className:"px-4 lg:px-6 py-2 lg:py-3 text-white rounded-md transition-opacity font-medium text-sm lg:text-base",style:{backgroundColor:B.navyBlue},onMouseEnter:t=>t.currentTarget.style.opacity="0.9",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"Join as Co-founder"}),u.jsx("button",{className:"px-4 lg:px-6 py-2 lg:py-3 text-white rounded-md transition-opacity font-medium text-sm lg:text-base",style:{backgroundColor:B.electricBlue},onMouseEnter:t=>t.currentTarget.style.opacity="0.9",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"Join as Expert"}),u.jsx("button",{className:"px-4 lg:px-6 py-2 lg:py-3 text-white rounded-md transition-opacity font-medium text-sm lg:text-base",style:{backgroundColor:B.electricBlue},onMouseEnter:t=>t.currentTarget.style.opacity="0.9",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"Join as Investor"}),u.jsx("button",{className:"px-4 lg:px-6 py-2 lg:py-3 bg-white rounded-md transition-all font-medium text-sm lg:text-base",style:{border:`2px solid ${B.atomicOrange}`,color:B.atomicOrange},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=`${B.atomicOrange}11`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=B.white},children:"Request a Demo"})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"flex items-center gap-4 lg:gap-6",children:[u.jsxs("div",{className:"flex -space-x-2",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full border-2 border-white flex items-center justify-center text-white text-[10px] lg:text-xs font-semibold",style:{backgroundColor:B.atomicOrange},children:"AC"}),u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full border-2 border-white flex items-center justify-center text-white text-[10px] lg:text-xs font-semibold",style:{backgroundColor:B.electricBlue},children:"RF"}),u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full border-2 border-white flex items-center justify-center text-white text-[10px] lg:text-xs font-semibold",style:{backgroundColor:B.navyBlue},children:"DF"}),u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full bg-purple-400 border-2 border-white flex items-center justify-center text-white text-[10px] lg:text-xs font-semibold",children:"HK"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-800",children:"2,500+ founders joined"}),u.jsx("p",{className:"text-[10px] lg:text-xs text-gray-600",children:"500+ experts available  AI powered matching"})]})]})]}),u.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,delay:.6},className:"relative min-h-[200px] lg:min-h-[700px]",children:u.jsx(pL,{})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 lg:h-96 opacity-30 pointer-events-none",style:{background:`linear-gradient(to top, ${B.atomicOrange}, transparent)`}})]})}function pL(){const n=Me.useRef(null);return Me.useEffect(()=>{if(!n.current)return;const e=new rS,t=new ai(75,1,.1,1e3),r=new mS({canvas:n.current,alpha:!0,antialias:!0});r.setSize(700,700),r.setPixelRatio(window.devicePixelRatio),t.position.z=4.1;const a=new Ba(2.4,32,32),o=new Oa({color:4473924,wireframe:!1,transparent:!0,opacity:.9}),c=new li(a,o);e.add(c);const d=new Ba(2.51,16,16),h=new Oa({color:5592405,wireframe:!0,transparent:!0,opacity:.3}),p=new li(d,h);e.add(p);const m=new Ba(2.52,12,8),x=new Oa({color:16739072,wireframe:!0,transparent:!0,opacity:.6}),y=new li(m,x);y.rotation.x=Math.PI/4,e.add(y);let S=null;new fN().load(fL,N=>{const I=new sS({map:N,transparent:!0});S=new eN(I),S.position.set(-2.1,2.2,.6),S.scale.set(.65,.65,1),S.material.rotation=1.6,e.add(S)},void 0,N=>{console.error("Error loading rocket image:",N)});const T=new cS(16777215,.5);e.add(T);const w=new mN(16753920,.8);w.position.set(0,-1,1),e.add(w);let _;const R=()=>{if(_=requestAnimationFrame(R),c.rotation.y+=.002,c.rotation.x+=.001,p.rotation.y+=.002,p.rotation.x+=.001,y.rotation.y-=.003,S){const N=Date.now()*.001;S.position.y=2.2+Math.sin(N*.8)*.1}r.render(e,t)};return R(),()=>{cancelAnimationFrame(_),a.dispose(),o.dispose(),d.dispose(),h.dispose(),m.dispose(),x.dispose(),r.dispose()}},[]),u.jsxs("div",{className:"absolute bottom-0 right-0 w-[700px] h-[700px] overflow-visible",children:[u.jsx("div",{className:"absolute w-[750px] h-[750px] lg:w-[750px] lg:h-[750px] rounded-full opacity-70 bottom-0 right-1/2 translate-x-[87%] translate-y-[70%] lg:right-0 lg:translate-x-[25%] lg:translate-y-[15%]",style:{background:`radial-gradient(circle at center, #4a3428 0%, #2a1f1a 40%, ${B.black} 70%)`}}),u.jsx("canvas",{ref:n,className:"absolute w-[250px] h-[250px] lg:w-[600px] lg:h-[600px] bottom-0 right-1/2 translate-x-[90%] translate-y-[70%] lg:right-0 lg:translate-x-[25%] lg:translate-y-[15%]"}),u.jsx(X.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,delay:1.2,ease:"easeOut"},className:"hidden lg:block absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 z-10 pointer-events-auto",children:u.jsxs(X.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"bg-white rounded-xl shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",style:{backgroundColor:B.atomicOrange},children:[u.jsx(X.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:B.atomicOrange}})}),u.jsx("span",{className:"text-white text-sm font-medium",children:"NextIgnition Platform Insights"})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("div",{className:"text-xs font-semibold mb-4 tracking-wide",style:{color:B.atomicOrange},children:"Live Platform Stats"}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.5},children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Founders"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-2xl font-bold text-[16px]",children:"2.5K"}),u.jsx(X.div,{animate:{y:[0,-3,0]},transition:{duration:1.5,repeat:1/0},children:u.jsx(La,{className:"w-3 h-3 text-green-500"})})]})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6,duration:.5},children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Success"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-2xl font-bold text-[16px]",children:"87%"}),u.jsx(X.div,{animate:{y:[0,-3,0]},transition:{duration:1.5,repeat:1/0},children:u.jsx(La,{className:"w-3 h-3 text-green-500"})})]})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.7,duration:.5},children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Funding"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-2xl font-bold text-[16px]",children:"$42M"}),u.jsx(X.div,{animate:{y:[0,-3,0]},transition:{duration:1.5,repeat:1/0,delay:.2},children:u.jsx(La,{className:"w-3 h-3 text-green-500"})})]})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.5},children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Experts"}),u.jsx("div",{className:"flex items-center gap-0.5 mt-1",children:[{bg:"bg-orange-500",letter:"AI"},{bg:"bg-green-500",letter:"ML"},{bg:"bg-blue-500",letter:"PM"},{bg:"bg-yellow-500",letter:"VC"}].map((e,t)=>u.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.9+t*.1,duration:.3},whileHover:{scale:1.2},className:`w-5 h-5 ${e.bg} rounded text-white text-[8px] flex items-center justify-center font-bold cursor-pointer`,children:e.letter},t))})]})]})]})]})})]})}function mL(){const n=[{number:"01",icon:Os,title:"AI Powered Expert Matching",description:"Find the perfect expert for your needs. Our intelligent matching algorithm analyzes your startup needs and matches you with relevant experts, filtered by industry, expertise, and availability.",color:B.atomicOrange},{number:"02",icon:ob,title:"Business Only Community Feed",description:"Connect with like minded entrepreneurs in a professional environment. Real time updates from founders and experts, filter by Industry, Startup Stage, and Location. No spam, only business content.",color:B.electricBlue},{number:"03",icon:lu,title:"Founder Expert Booking System",description:"Schedule consultations seamlessly. Browse available experts, book 1 on 1 sessions, manage your calendar, set session duration and topics with automatic reminders and confirmations.",color:B.navyBlue},{number:"04",icon:gl,title:"AI Tools Suite",description:"Powerful AI tools to accelerate your startup. Startup Summary Generator transforms ideas into investor ready summaries. Profile Summarizer optimizes profiles for maximum visibility. Pitch Deck Summarizer extracts key highlights automatically.",color:B.atomicOrange},{number:"05",icon:qo,title:"Webinars & Events",description:"Learn from industry leaders. Live webinars with experts, recorded sessions library, networking events, interactive Q&A sessions, and auto reminders for registered events.",color:B.electricBlue},{number:"06",icon:vb,title:"Switch Role Feature",description:"One account, multiple roles. Seamlessly switch between Founder, Expert, Investor, and Co-founder roles with one click. Maintain separate profiles for each role and access role specific features instantly.",color:B.navyBlue},{number:"07",icon:dM,title:"Real Time Messaging & Notifications",description:"Stay connected and informed. In app messaging system, internal email notifications, real time updates, push notifications, and never miss important updates.",color:B.atomicOrange},{number:"08",icon:zv,title:"In App Support & Feedback",description:"Get help when you need it. 24/7 in app support, quick feedback system, help center with FAQs, direct contact with support team, and community driven solutions.",color:B.electricBlue}];return u.jsxs("section",{id:"features",className:"relative bg-white py-24 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-12",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-semibold tracking-wide uppercase mb-6",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"CORE FEATURES"}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"Everything You Need to Launch & Scale"}),u.jsx("p",{className:"text-lg text-gray-600 max-w-3xl",children:"Built for founders who want to move fast. Access powerful tools, connect with experts, and grow your startup all in one platform."})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-12",children:u.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 rounded-full text-white font-semibold",style:{backgroundColor:B.black},children:[u.jsx("span",{className:"text-2xl",children:"8"}),u.jsx("span",{className:"text-sm",children:"Core Features"})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:n.map((e,t)=>{const r=e.icon;return u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*t},className:"bg-gray-50 rounded-2xl p-6 relative overflow-hidden group hover:shadow-lg transition-shadow h-[400px] flex flex-col",children:[u.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[u.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-white text-xs font-bold mb-3 self-start",style:{backgroundColor:e.color},children:e.number}),u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${e.color}22`},children:u.jsx(r,{className:"w-5 h-5",style:{color:e.color}})}),u.jsx("h3",{className:"text-base font-semibold leading-tight pt-1 flex-1",children:e.title})]}),u.jsx("p",{className:"text-gray-700 leading-relaxed text-xs mb-4",children:e.description}),u.jsxs("div",{className:"mt-auto",children:[t===0&&u.jsxs("div",{className:"bg-white rounded-xl p-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-gray-500",children:"Active Experts"}),u.jsx("span",{className:"font-bold",children:"250+"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3].map(a=>u.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:e.color+"44"}},a))}),u.jsx("div",{className:"text-[10px] text-gray-500",children:"Top Industries: AI, SaaS, Fintech"})]}),t===1&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Match Accuracy"}),u.jsx("span",{className:"text-2xl font-bold",style:{color:e.color},children:"94%"})]}),u.jsx("div",{className:"space-y-1.5",children:[85,92,78].map((a,o)=>u.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:u.jsx(X.div,{initial:{width:0},whileInView:{width:`${a}%`},viewport:{once:!0},transition:{duration:1,delay:.5+o*.1},className:"h-full rounded-full",style:{backgroundColor:e.color}})},o))})]}),t===2&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["M","T","W","T","F","S","S"].map((a,o)=>u.jsx("div",{className:"text-[8px] text-center text-gray-400 font-bold",children:a},o))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:14}).map((a,o)=>u.jsx("div",{className:"aspect-square rounded",style:{backgroundColor:o%3===0?e.color:o%5===0?e.color+"66":"#f3f4f6"}},o))}),u.jsx("div",{className:"text-[10px] text-gray-500 mt-2",children:"12 sessions booked this week"})]}),t===3&&u.jsxs("div",{className:"bg-white rounded-xl p-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full rounded-full",style:{width:"68%",backgroundColor:e.color}})}),u.jsx("span",{className:"text-xs font-bold",children:"68%"})]}),u.jsx("div",{className:"flex gap-1",children:[4,5,4,5,3,5,4].map((a,o)=>u.jsx("div",{className:"flex-1 rounded-t",style:{height:`${a*6}px`,backgroundColor:o===6?e.color:e.color+"44"}},o))}),u.jsx("div",{className:"text-[10px] text-gray-500",children:"+24% engagement this month"})]}),t===4&&u.jsx("div",{className:"bg-white rounded-xl p-3",children:u.jsx("div",{className:"space-y-2",children:[{title:"Fundraising 101",time:"Today 2PM",attendees:45},{title:"MVP Workshop",time:"Tomorrow",attendees:32}].map((a,o)=>u.jsxs("div",{className:"flex items-center justify-between text-xs pb-2 border-b border-gray-100 last:border-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-[11px]",children:a.title}),u.jsx("div",{className:"text-[10px] text-gray-500",children:a.time})]}),u.jsx("div",{className:"px-2 py-1 rounded text-[10px] font-bold text-white",style:{backgroundColor:e.color},children:a.attendees})]},o))})}),t===5&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Milestones"}),u.jsx("span",{className:"text-xs font-bold",children:"5/8 Complete"})]}),u.jsx("div",{className:"space-y-2",children:[!0,!0,!0,!0,!0,!1,!1,!1].map((a,o)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border-2 flex items-center justify-center",style:{borderColor:a?e.color:"#d1d5db",backgroundColor:a?e.color:"transparent"},children:a&&u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),u.jsx("div",{className:"flex-1 h-1 bg-gray-100 rounded"})]},o))})]}),t===6&&u.jsx("div",{className:"bg-white rounded-xl p-3 space-y-2",children:[{type:"New match found",time:"2m ago"},{type:"Session reminder",time:"1h ago"},{type:"Message received",time:"3h ago"}].map((a,o)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full mt-1 flex-shrink-0",style:{backgroundColor:e.color}}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-[11px] font-medium",children:a.type}),u.jsx("div",{className:"text-[10px] text-gray-400",children:a.time})]})]},o))}),t===7&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:["Templates","Guides","Tools","Videos"].map((a,o)=>u.jsxs("div",{className:"p-2 rounded text-center",style:{backgroundColor:e.color+"22"},children:[u.jsx("div",{className:"text-lg font-bold",style:{color:e.color},children:[24,18,32,15][o]}),u.jsx("div",{className:"text-[9px] text-gray-600",children:a})]},o))}),u.jsx("div",{className:"text-[10px] text-gray-500 text-center",children:"Updated weekly"})]})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",style:{background:`linear-gradient(to top, ${e.color}22, transparent)`}})]},t)})})]})]})}function gL(){const n=[{number:"01",title:"Sign Up & Create Your Profile",description:"Choose your role and build your professional profile in minutes.",details:["Select role: Founder, Expert, Investor, or Co-founder","Complete your profile with skills and experience","Set your preferences and goals"]},{number:"02",title:"Post Your Startup Idea or Challenge",description:"Share what you're working on or need help with.",details:["Post your startup idea or business challenge","Describe your needs and goals","Set visibility preferences"]},{number:"03",title:"Get Matched with Experts & Resources (AI Powered)",description:"Our AI finds the perfect experts and resources for you.",details:["AI analyzes your needs and matches you with relevant experts","Browse curated expert profiles","Access relevant resources and tools"]},{number:"04",title:"Book Consults, Join Webinars, and Grow Your Startup",description:"Take action and accelerate your growth.",details:["Schedule 1 on 1 consultations with experts","Join live webinars and events","Track your progress and milestones"]}];return u.jsxs("section",{id:"how-it-works",className:"relative bg-white py-[48px] overflow-hidden px-[0px]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16 max-w-3xl",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-3",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"SIMPLE PROCESS"}),u.jsxs("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:["From Idea to Launch",u.jsx("br",{}),"in Four Steps"]}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Getting started is easy. Our streamlined process helps you connect with the right people and resources quickly."})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-16",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-gray-200",children:u.jsx(X.div,{initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1.5,delay:.5},className:"h-full",style:{backgroundColor:B.atomicOrange}})}),u.jsx("div",{className:"grid grid-cols-4 gap-8 relative",children:n.map((e,t)=>u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3+t*.1},className:"relative",children:[u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.4,delay:.6+t*.1},className:"w-12 h-12 rounded-full border-4 border-white mb-6 shadow-md relative z-10",style:{backgroundColor:B.atomicOrange}}),u.jsx("div",{className:"text-sm font-bold tracking-wider mb-2",style:{color:B.atomicOrange},children:e.number}),u.jsx("h3",{className:"font-semibold mb-2 leading-tight text-base",children:e.title}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description})]},t))})]})}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:n.map((e,t)=>{const a=[Hv,Eh,gl,ja][t];return u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4+t*.1},className:"bg-gray-50 rounded-2xl p-6 flex flex-col h-[320px]",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${B.atomicOrange}22`},children:u.jsx(a,{className:"w-5 h-5",style:{color:B.atomicOrange}})}),u.jsx("h3",{className:"text-lg font-bold mb-2",children:e.number}),u.jsx("p",{className:"text-sm font-semibold mb-4 leading-relaxed",children:e.title}),u.jsx("div",{className:"space-y-2.5 flex-1",children:e.details.map((o,c)=>u.jsxs(X.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:.7+t*.1+c*.05},className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${B.electricBlue}22`},children:u.jsx(Vv,{className:"w-2.5 h-2.5",style:{color:B.electricBlue}})}),u.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:o})]},c))})]},t)})}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12",children:u.jsx("button",{className:"px-8 py-4 rounded-full text-white font-semibold text-sm hover:shadow-lg transition-shadow",style:{backgroundColor:B.atomicOrange},children:"Start Your Journey Now"})})]})]})}function xL(){const n=[{icon:ja,title:"Founder",subtitle:"Turn your idea into a successful startup",description:"Share your startup challenges and get expert advice. Get matched with mentors who understand your industry. Track your growth and milestones.",features:["Expert mentorship on demand","AI powered matching","Funding opportunities","Growth tracking tools","Professional network","Upload pitch decks and videos","Access AI tools to refine your pitch"],buttonText:"Join as Founder",color:B.atomicOrange},{icon:GM,title:"Expert",subtitle:"Share your knowledge and build your reputation",description:"Share your expertise with founders. Earn income through consultations. Build your professional reputation.",features:["Monetize your expertise","Flexible scheduling","Build your brand","Network with founders and investors","Showcase your achievements","Set your own rates and availability","Host webinars and events"],buttonText:"Join as Expert",color:B.electricBlue},{icon:La,title:"Investor",subtitle:"Discover promising startups and make informed decisions",description:"Stealth access to startup profiles. Browse AI summarized pitch decks. Filter by industry, stage, and location.",features:["Early access to startups","AI powered pitch summaries","Efficient deal flow","Direct founder connections","Investment analytics","Track investment opportunities","Join exclusive investor events"],buttonText:"Join as Investor",color:B.navyBlue},{icon:Os,title:"Co-founder",subtitle:"Find your perfect co-founder match",description:"Connect with potential co-founders who complement your skills. Find technical, business, or creative partners.",features:["Co-founder matching","Skill complement matching","Equity planning tools","Team building resources","Networking opportunities","Build your founding team","Share equity and responsibilities"],buttonText:"Join as Co-founder",color:B.atomicOrange}];return u.jsxs("section",{id:"roles",className:"relative bg-[rgba(26,26,26,1)] overflow-hidden p-[0px]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:["'",u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-[32px] py-[96px] bg-[rgb(26,26,26)]",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16 text-center max-w-3xl mx-auto",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-3",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"FOR EVERYONE"}),u.jsxs("h2",{className:"text-5xl leading-tight tracking-tight mb-4 text-[rgb(255,255,255)]",children:["One Platform,",u.jsx("br",{}),"Four Powerful Roles"]}),u.jsx("p",{className:"text-[rgb(224,224,224)] text-lg",children:"Whether you're building, advising, investing, or finding a co-founder  NextIgnition has a place for you."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:n.map((e,t)=>{const r=e.icon;return u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*t},className:"bg-gray-50 rounded-2xl p-6 flex flex-col relative overflow-hidden group hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:"relative mb-6",children:u.jsxs(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.3+t*.1},className:"w-24 h-24 rounded-full mx-auto flex items-center justify-center relative",style:{backgroundColor:`${e.color}22`},children:[u.jsx(r,{className:"w-10 h-10",style:{color:e.color}}),u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full opacity-50",style:{backgroundColor:e.color}}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 rounded-full opacity-30",style:{backgroundColor:e.color}})]})}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-center",style:{color:e.color},children:e.title}),u.jsx("p",{className:"text-sm font-semibold mb-3 text-center text-gray-900",children:e.subtitle}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-6 text-center",children:e.description}),u.jsx("div",{className:"space-y-2.5 flex-1 mb-6",children:e.features.map((a,o)=>u.jsxs(X.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:.5+t*.1+o*.05},className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${e.color}22`},children:u.jsx(Vv,{className:"w-2.5 h-2.5",style:{color:e.color}})}),u.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:a})]},o))}),u.jsx("button",{className:"w-full py-3 rounded-full text-white font-semibold text-sm hover:shadow-lg transition-all hover:scale-105",style:{backgroundColor:e.color},children:e.buttonText}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",style:{background:`linear-gradient(to top, ${e.color}22, transparent)`}})]},t)})})]})]})}function yL(){const n=[{icon:OM,number:"01",title:"Startup Summary Generator",description:"Transform your complex startup idea into a compelling, investor ready summary in seconds. Input your startup idea and get a concise, professional summary optimized for investor pitches. Save time and improve clarity.",quote:'"Turn your 10 page plan into a punchy 2 paragraph pitch"',color:B.atomicOrange},{icon:Hv,number:"02",title:"Profile Summarizer",description:"Create compelling profiles automatically. Transform your profile for maximum visibility, optimize for investor appeal, highlight key achievements, and get professional formatting.",quote:'"Highlight your strengths for maximum impact"',color:B.electricBlue},{icon:Wv,number:"03",title:"Pitch Deck Summarizer",description:"Extract insights from your pitch deck. Upload your pitch deck and get key highlights automatically. Identify strengths and gaps, and generate executive summaries.",quote:`"Know your deck's strengths and weaknesses"`,color:B.navyBlue}];return u.jsxs("section",{id:"ai-tools",className:"relative bg-white py-[48px] overflow-hidden px-[0px]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-20",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-4",style:{backgroundColor:`${B.electricBlue}22`,color:B.electricBlue},children:[u.jsx(gl,{className:"w-4 h-4"}),"AI POWERED"]}),u.jsxs("h2",{className:"text-5xl leading-tight tracking-tight mb-4 max-w-2xl",children:["Supercharge Your Startup",u.jsx("br",{}),"with AI Tools"]}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl",children:"Let AI handle the heavy lifting. Generate summaries, optimize profiles, and analyze pitch decks  all built to help you move faster."})]}),u.jsx("div",{className:"space-y-16 mb-[32px] mt-[0px] mr-[0px] ml-[0px]",children:n.map((e,t)=>{const r=e.icon,a=t%2===0;return u.jsxs(X.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.1*t},className:"relative",children:[t<n.length-1&&u.jsx("div",{className:"hidden lg:block absolute left-16 top-full w-0.5 h-16 -mt-0",style:{background:`linear-gradient(to bottom, ${e.color}44, transparent)`}}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-6 lg:gap-12",children:[u.jsxs("div",{className:"flex-shrink-0 w-full lg:w-[400px]",children:[u.jsxs(X.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2+t*.1},className:"flex items-start gap-4 mb-4",children:[u.jsx("span",{className:"text-7xl font-bold opacity-20 leading-none",style:{color:e.color},children:e.number}),u.jsx("div",{className:"p-3 rounded-2xl mt-2",style:{backgroundColor:`${e.color}22`},children:u.jsx(r,{className:"w-8 h-8",style:{color:e.color}})})]}),u.jsx(X.h3,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.3+t*.1},className:"text-3xl font-bold mb-3",style:{color:e.color},children:e.title}),u.jsx(X.div,{initial:{width:0},whileInView:{width:"80px"},viewport:{once:!0},transition:{duration:.8,delay:.4+t*.1},className:"h-1 rounded-full mb-6",style:{backgroundColor:e.color}})]}),u.jsxs("div",{className:"hidden lg:block flex-1 pt-4",children:[u.jsx(X.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4+t*.1},className:"text-gray-700 text-base leading-relaxed mb-6",children:e.description}),u.jsxs(X.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.5+t*.1},className:"relative pl-6 mb-6",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full",style:{backgroundColor:e.color}}),u.jsx("p",{className:"text-lg font-semibold italic",style:{color:e.color},children:e.quote})]}),u.jsxs(X.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6+t*.1},className:"group inline-flex items-center gap-2 px-6 py-3 rounded-full text-white font-semibold text-sm hover:shadow-lg transition-all hover:gap-3",style:{backgroundColor:e.color},children:["Try it Now",u.jsx(zn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}),u.jsx(X.div,{initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:1,delay:.2+t*.1},className:"absolute -z-10 w-64 h-64 rounded-full blur-3xl pointer-events-none",style:{background:`radial-gradient(circle, ${e.color}15, transparent)`,top:"-50px",right:a?"10%":"30%"}})]},t)})}),u.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.5},className:"text-center pt-8 border-t-2 border-gray-200",children:u.jsxs("button",{className:"group inline-flex items-center gap-3 px-10 py-4 rounded-full text-white font-bold text-base hover:shadow-2xl transition-all hover:gap-4",style:{background:`linear-gradient(135deg, ${B.atomicOrange}, ${B.electricBlue})`},children:["Access All AI Tools Free",u.jsx(zn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})}function vL(){const n=["Tech Startups","Healthcare & Biotech","FinTech","E-commerce & Retail","SaaS & B2B","Consumer Products","Education & EdTech","Food & Beverage","Real Estate & PropTech","Energy & CleanTech"],e=["Industry specific discussion forums","Filter content by your industry","Connect with founders in your sector","Access to industry experts","Sector specific resources and guides","Industry news and updates","Networking events by industry","Job opportunities in your sector","Partnership opportunities","Industry trend insights"],t=[B.atomicOrange,B.electricBlue,B.navyBlue];return u.jsxs("section",{id:"community",className:"relative bg-gradient-to-b from-white to-gray-50 py-[48px] overflow-hidden px-[0px] bg-[rgba(40,40,40,0)] pt-[48px] pr-[0px] pb-[0px] pl-[0px]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-[32px] py-[48px] bg-[rgb(248,248,248)]",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16 text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-4",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:[u.jsx(Os,{className:"w-4 h-4"}),"INDUSTRY COMMUNITY"]}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"Connect with Your Industry"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Join specialized communities for your sector. Connect with founders, experts, and investors in your industry."})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center gap-3 mb-20",children:n.map((r,a)=>{const o=t[a%t.length];return u.jsx(X.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:.3+a*.05},whileHover:{scale:1.05,y:-2},className:"px-5 py-3 rounded-full font-semibold text-sm cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:`${o}22`,color:o,border:`2px solid ${o}44`},children:r},a)})}),u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"mb-12 hidden lg:block",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h3",{className:"text-3xl font-bold mb-3",children:"What You Get in Each Community"}),u.jsx("p",{className:"text-gray-600 text-base",children:"Everything you need to grow within your industry"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-6xl mx-auto",children:e.map((r,a)=>{const o=t[a%t.length];return u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.5+a*.05},className:"group bg-white rounded-xl p-5 hover:shadow-lg transition-all cursor-pointer border-2 border-transparent hover:border-opacity-30",style:{borderColor:`${o}00`},onMouseEnter:c=>{c.currentTarget.style.borderColor=`${o}44`},onMouseLeave:c=>{c.currentTarget.style.borderColor=`${o}00`},children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-sm",style:{backgroundColor:o},children:a+1})}),u.jsx("p",{className:"text-sm text-gray-800 leading-snug text-center font-medium",children:r}),u.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl pointer-events-none -z-10",style:{background:`linear-gradient(135deg, ${o}08, transparent)`}})]},a)})})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.8},className:"text-center mt-16",children:u.jsxs("button",{className:"group inline-flex items-center gap-3 px-10 py-4 rounded-full text-white font-bold text-base hover:shadow-2xl transition-all hover:gap-4",style:{backgroundColor:B.atomicOrange},children:["Join Your Industry Community Free",u.jsx(zn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})}function _L(){const n=[{icon:qo,title:"Live Webinars",description:"Weekly sessions with industry experts, interactive Q&A sessions, real time learning, and expert insights and tips.",color:B.atomicOrange,gradient:"from-orange-50 to-white"},{icon:Eh,title:"Expert Led Workshops",description:"Hands on learning experiences, practical skills development, step by step guidance, and actionable takeaways.",color:B.electricBlue,gradient:"from-blue-50 to-white"},{icon:Gv,title:"Networking Sessions",description:"Connect with peers, meet industry experts, build your network, share experiences, and find collaborators.",color:B.navyBlue,gradient:"from-indigo-50 to-white"}],e=[{icon:EM,text:"Auto reminders via email and app"},{icon:lu,text:"Calendar integration"},{icon:hM,text:"Recorded sessions library"},{icon:xx,text:"Downloadable materials"},{icon:gx,text:"Event replays"},{icon:Xv,text:"Speaker profiles"},{icon:vx,text:"Event chat and networking"},{icon:xx,text:"Post event resources"}],t=["Fundraising Strategies for Startups","Product Market Fit: Finding Your Niche","Growth Hacking Techniques","Legal Essentials for Startups","Scaling Your Team Effectively","Investor Pitch Best Practices","Marketing on a Startup Budget","Industry Specific Insights"],r=[B.atomicOrange];return u.jsxs("section",{id:"webinars",className:"relative bg-white py-24 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsx(X.div,{className:"absolute top-20 right-20 w-24 h-24 rounded-2xl flex items-center justify-center pointer-events-none opacity-10",style:{backgroundColor:`${B.electricBlue}22`},animate:{y:[0,-20,0],rotate:[0,10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:u.jsx(qo,{className:"w-12 h-12",style:{color:B.electricBlue}})}),u.jsx(X.div,{className:"absolute top-1/3 right-10 w-20 h-20 rounded-xl flex items-center justify-center pointer-events-none opacity-10",style:{backgroundColor:`${B.atomicOrange}22`},animate:{y:[0,15,0],rotate:[0,-10,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1},children:u.jsx(lu,{className:"w-10 h-10",style:{color:B.atomicOrange}})}),u.jsx(X.div,{className:"absolute bottom-1/4 right-32 w-16 h-16 rounded-lg flex items-center justify-center pointer-events-none opacity-10",style:{backgroundColor:`${B.navyBlue}22`},animate:{y:[0,-10,0],rotate:[0,15,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:2},children:u.jsx(gx,{className:"w-8 h-8",style:{color:B.navyBlue}})}),u.jsx(X.div,{className:"absolute top-1/2 right-16 w-14 h-14 rounded-full flex items-center justify-center pointer-events-none opacity-10",style:{backgroundColor:`${B.electricBlue}22`},animate:{scale:[1,1.2,1],rotate:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},children:u.jsx(vx,{className:"w-7 h-7",style:{color:B.electricBlue}})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-4",style:{backgroundColor:`${B.electricBlue}22`,color:B.electricBlue},children:[u.jsx(qo,{className:"w-4 h-4"}),"FREE WEBINARS"]}),u.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl leading-tight tracking-tight mb-4",children:["Learn from Industry Leaders",u.jsx("br",{className:"hidden md:block"}),"All Free"]}),u.jsx("p",{className:"text-gray-600 text-base md:text-lg max-w-2xl",children:"Access expert knowledge through free webinars and events. Weekly sessions with industry experts, interactive Q&A, and recorded sessions library."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8 mb-16 md:mb-24",children:n.map((a,o)=>{const c=a.icon;return u.jsxs(X.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.1*o},className:`bg-gradient-to-br ${a.gradient} rounded-3xl p-8 relative overflow-hidden group hover:shadow-2xl transition-all`,children:[u.jsx(X.div,{initial:{rotate:0},whileInView:{rotate:360},viewport:{once:!0},transition:{duration:.8,delay:.3+o*.1},className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-6 mx-auto",style:{backgroundColor:`${a.color}22`},children:u.jsx(c,{className:"w-8 h-8",style:{color:a.color}})}),u.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:a.color},children:a.title}),u.jsx("p",{className:"text-sm text-gray-700 leading-relaxed text-center",children:a.description}),u.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 rounded-full opacity-10",style:{backgroundColor:a.color}})]},o)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mb-16 md:mb-24 items-start",children:[u.jsxs(X.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"lg:col-span-4",children:[u.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:"Event Features"}),u.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Everything you need for seamless event participation"}),u.jsxs("div",{className:"mt-8 relative",children:[u.jsxs(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"w-32 h-32 rounded-full relative",style:{backgroundColor:`${B.electricBlue}22`},children:[u.jsx("div",{className:"absolute inset-4 rounded-full flex items-center justify-center",style:{backgroundColor:`${B.electricBlue}33`},children:u.jsx(lu,{className:"w-10 h-10",style:{color:B.electricBlue}})}),u.jsx(X.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:u.jsx("div",{className:"absolute top-0 left-1/2 w-3 h-3 rounded-full -ml-1.5",style:{backgroundColor:B.atomicOrange}})}),u.jsx(X.div,{animate:{rotate:-360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:u.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 rounded-full",style:{backgroundColor:B.navyBlue}})})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.5},className:"mt-6 p-4 rounded-xl",style:{backgroundColor:`${B.atomicOrange}11`},children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:B.atomicOrange},children:"8"}),u.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Key Features"})]})]})]}),u.jsx("div",{className:"lg:col-span-8",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 lg:gap-6",children:e.map((a,o)=>{const c=a.icon,d=r[o%r.length];return u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.05*o},className:"group relative bg-white rounded-2xl p-4 md:p-5 hover:shadow-lg transition-all border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-3 mb-3",children:u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center font-bold text-white text-sm flex-shrink-0",style:{backgroundColor:d},children:String(o+1).padStart(2,"0")})}),u.jsx("p",{className:"text-sm text-gray-800 leading-snug font-medium",children:a.text}),u.jsx(X.div,{initial:{width:0},whileInView:{width:"50px"},viewport:{once:!0},transition:{duration:.6,delay:.1+o*.05},className:"h-1 mt-4 rounded-full",style:{backgroundColor:d}}),u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-5 flex items-center justify-center",children:u.jsx(c,{className:"w-12 h-12",style:{color:d}})})]},o)})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-12 mb-12 md:mb-16 p-5 md:p-6 lg:p-8 rounded-2xl bg-[rgb(26,26,26)]",children:[u.jsxs(X.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"lg:col-span-4",children:[u.jsx("h3",{className:"text-3xl lg:text-4xl font-bold mb-4 leading-tight text-[rgb(255,255,255)]",children:"Upcoming Webinar Topics"}),u.jsx("p",{className:"text-[rgb(255,255,255)] text-base leading-relaxed mb-6",children:"Learn from industry leaders on these key topics"}),u.jsxs("div",{className:"relative hidden lg:block",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:`${B.atomicOrange}22`},children:u.jsx(Eh,{className:"w-7 h-7",style:{color:B.atomicOrange}})}),u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:`${B.electricBlue}22`},children:u.jsx(Os,{className:"w-7 h-7",style:{color:B.electricBlue}})}),u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:`${B.white}22`},children:u.jsx(qo,{className:"w-7 h-7",style:{color:B.white}})})]}),u.jsxs(X.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.8,delay:.5},className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"h-0.5 flex-1 rounded",style:{backgroundColor:B.atomicOrange}}),u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:B.electricBlue}}),u.jsx("div",{className:"h-0.5 flex-1 rounded",style:{backgroundColor:B.white}})]}),u.jsx(X.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8,delay:.7},className:"text-base font-semibold italic",style:{color:B.atomicOrange},children:"And many more..."})]})]}),u.jsx("div",{className:"lg:col-span-8",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 lg:gap-x-8 gap-y-3 lg:gap-y-4",children:t.map((a,o)=>{const c=r[o%r.length];return u.jsxs(X.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.05*o},className:"flex items-start gap-3 group cursor-pointer p-3 rounded-xl hover:bg-gray-50 transition-all",children:[u.jsx("div",{className:"flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center font-bold text-base group-hover:scale-110 transition-transform",style:{backgroundColor:`${c}22`,color:c},children:o+1}),u.jsx("div",{className:"flex-1 pt-1",children:u.jsx("p",{className:"text-sm font-semibold text-[rgb(255,255,255)] group-hover:text-black group-hover:translate-x-1 transition-transform leading-snug",children:a})}),u.jsx(zn,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity mt-1.5 flex-shrink-0",style:{color:c}})]},o)})})})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"text-center",children:u.jsxs("button",{className:"group inline-flex items-center gap-3 px-10 py-4 rounded-full text-white font-bold text-base hover:shadow-2xl transition-all hover:gap-4",style:{background:`linear-gradient(135deg, ${B.atomicOrange}, ${B.electricBlue})`},children:["Register for Free Webinars",u.jsx(zn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})}function SL(){const n=[{number:"01",icon:wu,title:"Milestone Tracking",description:"Set and track your startup milestones from idea to launch and beyond.",color:B.atomicOrange,graphicType:"milestones"},{number:"02",icon:gM,title:"Goal Setting",description:"Define your goals and monitor progress with visual dashboards.",color:B.electricBlue,graphicType:"progress"},{number:"03",icon:mx,title:"Achievement Badges",description:"Earn badges as you complete milestones and reach important goals.",color:B.navyBlue,graphicType:"badges"},{number:"04",icon:La,title:"Performance Insights",description:"Get actionable insights from your growth metrics and analytics.",color:B.atomicOrange,graphicType:"insights"}],e=[{icon:NM,text:"Funding progress",color:B.atomicOrange},{icon:Os,text:"Mentor sessions completed",color:B.electricBlue},{icon:Gv,text:"Network growth",color:B.navyBlue},{icon:Wv,text:"Pitch improvements",color:B.atomicOrange},{icon:Ib,text:"Milestone achievements",color:B.electricBlue}];return u.jsxs("section",{id:"growth",className:"relative bg-[rgb(255,255,255)] py-[48px] overflow-hidden px-[0px]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-[32px] bg-[rgba(255,255,255,0.05)]",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-12",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-semibold tracking-wide uppercase mb-6",style:{backgroundColor:`${B.electricBlue}22`,color:B.electricBlue},children:"GROWTH TRACKING"}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"Monitor Your Progress"}),u.jsx("p",{className:"text-lg text-gray-600 max-w-3xl",children:"Track your startup journey with comprehensive dashboards, milestone tracking, and performance insights."})]}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-12",children:u.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 rounded-full text-white font-semibold",style:{backgroundColor:B.black},children:[u.jsx("span",{className:"text-2xl",children:"4"}),u.jsx("span",{className:"text-sm",children:"Core Features"})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-16",children:n.map((t,r)=>{const a=t.icon;return u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*r},className:"bg-gray-50 rounded-2xl p-6 relative overflow-hidden group hover:shadow-lg transition-shadow h-[380px] flex flex-col",children:[u.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[u.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-white text-xs font-bold mb-3 self-start",style:{backgroundColor:t.color},children:t.number}),u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${t.color}22`},children:u.jsx(a,{className:"w-5 h-5",style:{color:t.color}})}),u.jsx("h3",{className:"text-base font-semibold leading-tight pt-1 flex-1",children:t.title})]}),u.jsx("p",{className:"text-gray-700 leading-relaxed text-xs mb-4",children:t.description}),u.jsxs("div",{className:"mt-auto",children:[t.graphicType==="milestones"&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),u.jsx("span",{className:"text-xs font-bold",children:"6/10 Complete"})]}),u.jsx("div",{className:"space-y-2",children:[!0,!0,!0,!0,!0,!0,!1,!1,!1,!1].map((o,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border-2 flex items-center justify-center",style:{borderColor:o?t.color:"#d1d5db",backgroundColor:o?t.color:"transparent"},children:o&&u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),u.jsx("div",{className:"flex-1 h-1 bg-gray-100 rounded"})]},c))})]}),t.graphicType==="progress"&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Goal Completion"}),u.jsx("span",{className:"text-2xl font-bold",style:{color:t.color},children:"82%"})]}),u.jsx("div",{className:"space-y-1.5",children:[82,65,90].map((o,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-[9px] text-gray-400 w-8",children:["Q",c+1]}),u.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:u.jsx(X.div,{initial:{width:0},whileInView:{width:`${o}%`},viewport:{once:!0},transition:{duration:1,delay:.5+c*.1},className:"h-full rounded-full",style:{backgroundColor:t.color}})}),u.jsxs("span",{className:"text-[9px] text-gray-600 w-8 text-right",children:[o,"%"]})]},c))})]}),t.graphicType==="badges"&&u.jsxs("div",{className:"bg-white rounded-xl p-3",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[1,2,3,4,5,6].map(o=>u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.4,delay:.6+o*.05},className:"aspect-square rounded-lg flex items-center justify-center",style:{backgroundColor:o<=4?`${t.color}22`:"#f3f4f6"},children:o<=4&&u.jsx(mx,{className:"w-5 h-5",style:{color:t.color}})},o))}),u.jsx("div",{className:"text-[10px] text-gray-500 text-center",children:"4/6 badges earned"})]}),t.graphicType==="insights"&&u.jsxs("div",{className:"bg-white rounded-xl p-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full rounded-full",style:{width:"75%",backgroundColor:t.color}})}),u.jsx("span",{className:"text-xs font-bold",children:"75%"})]}),u.jsx("div",{className:"flex gap-1",children:[4,5,3,6,4,7,5].map((o,c)=>u.jsx("div",{className:"flex-1 rounded-t",style:{height:`${o*5}px`,backgroundColor:c===6?t.color:t.color+"44"}},c))}),u.jsx("div",{className:"text-[10px] text-gray-500",children:"+32% growth this quarter"})]})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",style:{background:`linear-gradient(to top, ${t.color}22, transparent)`}})]},r)})}),u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",children:"What You Can Track"}),u.jsx("p",{className:"text-gray-600 text-base mb-8",children:"Monitor every aspect of your startup journey"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((t,r)=>{const a=t.icon;return u.jsxs(X.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.1*r},className:"bg-gray-50 rounded-2xl p-5 text-center hover:shadow-md transition-shadow group",children:[u.jsx(X.div,{whileHover:{rotate:360},transition:{duration:.6},className:"w-12 h-12 mx-auto mb-3 rounded-xl flex items-center justify-center",style:{backgroundColor:`${t.color}22`},children:u.jsx(a,{className:"w-6 h-6",style:{color:t.color}})}),u.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full flex items-center justify-center font-bold text-white text-sm",style:{backgroundColor:t.color},children:String(r+1).padStart(2,"0")}),u.jsx("p",{className:"text-xs font-medium text-gray-800 leading-tight",children:t.text})]},r)})})]})]})]})}function wL(){const n=[{icon:Xp,title:"End to End Encryption",description:"Your data is protected with enterprise grade encryption standards.",color:B.atomicOrange},{icon:Th,title:"Secure Data Storage",description:"All data is stored securely with regular backups and recovery systems.",color:B.electricBlue},{icon:IM,title:"Privacy Controls",description:"Control who sees your profile and manage data sharing preferences.",color:B.electricBlue},{icon:UM,title:"GDPR Compliant",description:"Fully compliant with international data protection regulations.",color:B.atomicOrange},{icon:wb,title:"Regular Security Audits",description:"Continuous security monitoring and regular audits to ensure protection.",color:B.electricBlue}],e=[{value:"500+",label:"Startups Funded",color:B.atomicOrange},{value:"1,200+",label:"MVPs Launched",color:B.electricBlue},{value:"15,000+",label:"Mentorship Hours",color:B.electricBlue},{value:"50+",label:"Countries",color:B.atomicOrange}];return u.jsxs("section",{id:"security",className:"relative p-[0px] overflow-hidden bg-[rgb(26,26,26)]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})})]})}),u.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:B.electricBlue,filter:"blur(80px)"}}),u.jsx("div",{className:"absolute bottom-20 left-20 w-80 h-80 rounded-full opacity-5",style:{backgroundColor:B.atomicOrange,filter:"blur(100px)"}}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-[32px] bg-[rgb(26,26,26)] py-[96px]",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16 text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-4",style:{backgroundColor:`${B.electricBlue}33`,color:B.electricBlue},children:[u.jsx(Th,{className:"w-4 h-4"}),"SECURITY & PRIVACY"]}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4 text-white",children:"Your Data is Safe"}),u.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Enterprise grade security to protect your information and ensure your privacy."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6 mb-20",children:n.map((t,r)=>{const a=t.icon;return u.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*r},className:"relative group",children:u.jsxs("div",{className:"rounded-2xl p-6 h-full transition-all group-hover:scale-105",style:{backgroundColor:"#2a2a2a",border:"1px solid #333"},children:[u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.3+r*.1},className:"w-14 h-14 rounded-xl flex items-center justify-center mb-4 mx-auto",style:{backgroundColor:`${t.color}22`},children:u.jsx(a,{className:"w-7 h-7",style:{color:t.color}})}),u.jsx("h3",{className:"text-sm font-bold mb-3 text-white text-center leading-tight",children:t.title}),u.jsx("p",{className:"text-xs text-gray-400 leading-relaxed text-center",children:t.description}),u.jsx("div",{className:"absolute -inset-px rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",style:{background:`linear-gradient(135deg, ${t.color}33, transparent)`,filter:"blur(10px)",zIndex:-1}})]})},r)})}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:e.map((t,r)=>u.jsxs(X.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.1*r},className:"text-center relative group",children:[u.jsx("div",{className:"mb-2",children:u.jsx(X.span,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2+r*.1},className:"text-5xl font-bold",style:{color:t.color},children:t.value})}),u.jsx("p",{className:"text-sm text-gray-400 font-medium",children:t.label}),u.jsx(X.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.6,delay:.3+r*.1},className:"h-1 w-16 mx-auto mt-3 rounded-full",style:{backgroundColor:t.color}}),u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 rounded-full opacity-0 group-hover:opacity-20 transition-opacity pointer-events-none",style:{backgroundColor:t.color,filter:"blur(40px)"}})]},r))})]})]})}function ML(){const n=[{quote:"NextIgnition connected me with the perfect mentor who helped me refine my pitch. We closed our seed round within 3 months!",initials:"SC",name:"Sarah Chen",title:"Founder, TechStart AI",color:B.atomicOrange},{quote:"The AI tools saved me hours of work. The pitch deck summarizer gave me insights I never would have caught myself.",initials:"MJ",name:"Marcus Johnson",title:"Co founder, GreenLogistics",color:B.electricBlue},{quote:"As an expert, I've been able to help dozens of founders while building my personal brand. The platform makes it effortless.",initials:"ER",name:"Dr. Emily Rodriguez",title:"Startup Advisor",color:B.navyBlue}];return u.jsxs("section",{id:"testimonials",className:"relative bg-white py-24 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16",children:[u.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-4",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"SUCCESS STORIES"}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"Trusted by Founders Worldwide"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl",children:"Join thousands of founders and experts who are building the future together."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:n.map((e,t)=>u.jsx(X.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.15*t},className:"relative group",children:u.jsxs("div",{className:"bg-gray-50 rounded-3xl p-8 h-full flex flex-col relative overflow-hidden hover:shadow-xl transition-all",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-6",style:{backgroundColor:`${e.color}22`},children:u.jsx(xb,{className:"w-6 h-6",style:{color:e.color}})}),u.jsxs("p",{className:"text-gray-800 leading-relaxed mb-8 flex-1 text-base",children:['"',e.quote,'"']}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.3+t*.1},className:"w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0",style:{backgroundColor:e.color},children:e.initials}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-gray-900 text-base",children:e.name}),u.jsx("div",{className:"text-sm text-gray-600",children:e.title})]})]}),u.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 rounded-full opacity-0 group-hover:opacity-10 transition-opacity pointer-events-none",style:{backgroundColor:e.color}}),u.jsx("div",{className:"absolute top-0 left-0 w-1 h-20 rounded-r",style:{backgroundColor:e.color}})]})},t))})]})]})}function bL(){const n=Me.useRef(null),{scrollYProgress:e}=R1({target:n,offset:["start end","end start"]}),t=[{icon:qM,title:"All in One Platform",description:"Everything you need in one place",color:B.atomicOrange,delay:0},{icon:gl,title:"AI Powered",description:"Smart matching and tools",color:B.electricBlue,delay:.1},{icon:Os,title:"Expert Network",description:"Access to top mentors and advisors",color:B.navyBlue,delay:.2},{icon:zM,title:"Global Community",description:"Connect with entrepreneurs worldwide",color:B.atomicOrange,delay:.3},{icon:La,title:"Proven Results",description:"Real startups, real success stories",color:B.electricBlue,delay:.4},{icon:AM,title:"Free to Start",description:"No credit card required",color:B.navyBlue,delay:.5},{icon:Th,title:"Secure & Private",description:"Your data is protected",color:B.atomicOrange,delay:.6},{icon:Ab,title:"Mobile & Web",description:"Access anywhere, anytime",color:B.electricBlue,delay:.7}],r=sl(e,[0,1],[0,360]),a=sl(e,[0,1],[360,0]);return u.jsxs("section",{id:"why-choose",ref:n,className:"relative bg-white py-24 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsx(X.div,{style:{rotate:r},className:"absolute top-1/4 right-10 w-96 h-96 rounded-full opacity-5 pointer-events-none",animate:{scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:u.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:B.electricBlue}})}),u.jsx(X.div,{style:{rotate:a},className:"absolute bottom-1/4 left-10 w-80 h-80 rounded-full opacity-5 pointer-events-none",animate:{scale:[1.2,1,1.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},children:u.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:B.atomicOrange}})}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-6",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"WHY CHOOSE NEXTIGNITION"}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"The Complete Startup Ecosystem"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-3xl",children:"Everything you need to turn your startup idea into reality, all in one powerful platform."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-12",children:t.map((o,c)=>{const d=o.icon,h=c%4;return u.jsxs(X.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0},transition:{duration:.6,delay:o.delay,type:"spring",stiffness:100},whileHover:{y:-10,transition:{duration:.3}},className:"group relative",children:[u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 h-full flex flex-col items-center text-center relative overflow-hidden",children:[u.jsx(X.div,{className:"relative mb-4",animate:{y:[0,-8,0]},transition:{duration:3,repeat:1/0,delay:c*.2,ease:"easeInOut"},children:u.jsxs(X.div,{className:"w-16 h-16 rounded-2xl flex items-center justify-center relative",style:{backgroundColor:`${o.color}22`},whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:[u.jsx(d,{className:"w-8 h-8 relative z-10",style:{color:o.color}}),u.jsx(X.div,{className:"absolute inset-0 rounded-2xl",style:{border:`2px solid ${o.color}`},animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:c*.3}})]})}),u.jsx("h3",{className:"font-bold text-base mb-2 text-gray-900",children:o.title}),u.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:o.description}),u.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1",children:[0,1,2].map(p=>u.jsx(X.div,{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:o.color},animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:p*.2+c*.1}},p))}),u.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",style:{background:`linear-gradient(135deg, ${o.color}11, transparent)`}})]}),h<3&&u.jsx(X.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.6,delay:.8+c*.05},className:"hidden lg:block absolute top-1/2 -right-3 w-6 h-px origin-left",style:{backgroundColor:`${o.color}33`}})]},c)})}),u.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.9},className:"text-center",children:u.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-3 px-8 py-4 rounded-full text-white font-bold text-lg shadow-lg relative overflow-hidden group",style:{backgroundColor:B.atomicOrange},children:[u.jsx("span",{className:"relative z-10",children:"Get Started Free"}),u.jsx(X.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:u.jsx(zn,{className:"w-5 h-5 relative z-10"})}),u.jsx(X.div,{className:"absolute inset-0",style:{backgroundColor:B.navyBlue},initial:{x:"-100%"},whileHover:{x:0},transition:{duration:.3}})]})})]})]})}function EL(){const n=Me.useRef(null),{scrollYProgress:e}=R1({target:n,offset:["start end","end start"]}),t=sl(e,[0,1],[100,-100]);sl(e,[0,1],[-50,50]),sl(e,[0,.5,1],[.3,1,.3]);const r=[{value:"2024",label:"Founded",icon:ja,color:B.atomicOrange},{value:"15K+",label:"Users",icon:Os,color:B.electricBlue},{value:"50+",label:"Countries",icon:wu,color:B.navyBlue}];return u.jsxs("section",{id:"about",ref:n,className:"relative overflow-hidden",style:{backgroundColor:B.white},children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.1",vectorEffect:"non-scaling-stroke"})})]})}),[...Array(20)].map((a,o)=>u.jsx(X.div,{className:"absolute w-1 h-1 rounded-full",style:{backgroundColor:o%3===0?B.atomicOrange:o%3===1?B.electricBlue:B.navyBlue,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},o)),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-[32px] bg-[rgb(26,26,26)] py-[96px]",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16 text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-6",style:{backgroundColor:`${B.atomicOrange}33`,color:B.atomicOrange},children:[u.jsx(yx,{className:"w-4 h-4"}),"OUR MISSION"]}),u.jsx(X.h2,{className:"text-5xl leading-tight tracking-tight mb-4 text-white",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8,delay:.2},children:"Built by Founders, For Founders"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-12 mb-16",children:[u.jsx(X.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"relative",children:u.jsxs("div",{className:"rounded-3xl p-10 relative overflow-hidden",style:{backgroundColor:"#2a2a2a",border:"1px solid #333"},children:[u.jsx(X.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.8,delay:.3},className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-6",style:{backgroundColor:`${B.atomicOrange}22`},children:u.jsx("span",{className:"text-4xl font-bold",style:{color:B.atomicOrange},children:'"'})}),u.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:["Founded by ",u.jsx("span",{className:"font-bold text-white",children:"Sanket"})," to empower early stage founders, NextIgnition solves real startup challenges with mentorship, AI, and a global community."]}),u.jsx(X.div,{className:"absolute bottom-0 left-0 h-1 rounded-full",style:{backgroundColor:B.atomicOrange},initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1,delay:.5}}),u.jsx(X.div,{style:{y:t,backgroundColor:B.electricBlue},className:"absolute top-10 right-10 w-20 h-20 rounded-full opacity-10"})]})}),u.jsx(X.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"relative",children:u.jsxs("div",{className:"rounded-3xl p-10 h-full flex flex-col justify-center",style:{backgroundColor:"#2a2a2a",border:"1px solid #333"},children:[u.jsx("p",{className:"text-gray-300 text-base leading-relaxed mb-6",children:"We believe every great idea deserves a chance to become reality. That's why we built NextIgnition to remove the barriers between brilliant founders and the resources they need to succeed."}),u.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-8",children:"Whether you're just starting out or scaling up, we're here to help you move smarter and faster."}),u.jsx("div",{className:"space-y-4 mb-8",children:[{label:"Innovation",value:95,color:B.atomicOrange},{label:"Community",value:88,color:B.electricBlue},{label:"Growth",value:92,color:B.navyBlue}].map((a,o)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:a.label}),u.jsxs("span",{className:"text-xs font-bold text-white",children:[a.value,"%"]})]}),u.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:u.jsx(X.div,{className:"h-full rounded-full relative",style:{backgroundColor:a.color},initial:{width:0},whileInView:{width:`${a.value}%`},viewport:{once:!0},transition:{duration:1,delay:.3+o*.2},children:u.jsx(X.div,{className:"absolute right-0 top-0 bottom-0 w-8",style:{background:`linear-gradient(to right, transparent, ${a.color})`,filter:"blur(4px)"},animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0}})})})]},o))}),u.jsx("div",{className:"flex gap-6",children:r.map((a,o)=>{const c=a.icon;return u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.5+o*.1},className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a.color}22`},children:u.jsx(c,{className:"w-3 h-3",style:{color:a.color}})}),u.jsx("span",{className:"text-xl font-bold text-white",children:a.value})]}),u.jsx("span",{className:"text-xs text-gray-500",children:a.label})]},o)})})]})})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center",children:[u.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-3 px-8 py-4 rounded-full font-bold text-lg relative overflow-hidden group",style:{backgroundColor:B.atomicOrange,color:"white"},children:[u.jsx(Vb,{className:"w-5 h-5 relative z-10"}),u.jsx("span",{className:"relative z-10",children:"Join Our Mission"}),u.jsx(X.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},className:"relative z-10",children:u.jsx(zn,{className:"w-5 h-5"})}),u.jsx(X.div,{className:"absolute inset-0 rounded-full",style:{backgroundColor:B.electricBlue},initial:{scale:0,opacity:1},whileHover:{scale:2,opacity:0},transition:{duration:.6}})]}),u.jsx("div",{className:"relative",children:[yx,wu,ja].map((a,o)=>u.jsx(X.div,{className:"absolute",style:{left:`${50+Math.cos(o*2*Math.PI/3)*120}px`,top:`${-30+Math.sin(o*2*Math.PI/3)*60}px`},animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,delay:o*.3},children:u.jsx(a,{className:"w-6 h-6 opacity-20",style:{color:o===0?B.atomicOrange:o===1?B.electricBlue:B.navyBlue}})},o))})]})]})]})}function TL(){return u.jsx("section",{id:"pricing",className:"py-16 lg:py-24 bg-gray-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 lg:mb-16",children:[u.jsx("div",{className:"inline-block px-4 py-2 rounded-full text-xs font-semibold tracking-wide uppercase mb-4",style:{backgroundColor:`${B.atomicOrange}22`,color:B.atomicOrange},children:"SIMPLE PRICING"}),u.jsx("h2",{className:"text-3xl lg:text-5xl mb-4 lg:mb-6",children:"Pricing Plans Coming Soon"}),u.jsx("p",{className:"text-base lg:text-lg text-gray-600 max-w-2xl mx-auto",children:"We're putting the finishing touches on our pricing plans. Get started for free and stay tuned for exciting updates."})]}),u.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 lg:p-12 text-center border-2 border-gray-100",children:[u.jsx(X.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:`${B.atomicOrange}15`},children:u.jsx("svg",{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:B.atomicOrange},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx(X.h3,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"text-2xl lg:text-3xl mb-3 lg:mb-4",children:"Coming Soon"}),u.jsx(X.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},className:"text-xl lg:text-2xl font-semibold mb-4 text-gray-800",children:"Pricing Plans Launching Soon"}),u.jsx(X.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.7},className:"text-sm lg:text-base text-gray-600 mb-8 max-w-lg mx-auto",children:"We're working on flexible pricing options that work for everyone. In the meantime, all core features are available for free."}),u.jsx(X.button,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-3 lg:px-10 lg:py-4 text-white rounded-lg font-medium text-base lg:text-lg transition-opacity",style:{backgroundColor:B.atomicOrange},onMouseEnter:n=>n.currentTarget.style.opacity="0.9",onMouseLeave:n=>n.currentTarget.style.opacity="1",children:"Get Started Free"}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.9},className:"mt-8 pt-8 border-t border-gray-200",children:[u.jsx("p",{className:"text-xs lg:text-sm text-gray-500 mb-4",children:"Currently included for free:"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-3 lg:gap-4",children:["AI Matching","Expert Network","Community Access","Core Tools"].map((n,e)=>u.jsxs(X.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:1+e*.1},className:"flex items-center gap-2 px-3 py-1.5 lg:px-4 lg:py-2 bg-green-50 rounded-full",children:[u.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"text-xs lg:text-sm font-medium text-green-700",children:n})]},n))})]})]})})]})})}function AL(){const[n,e]=Me.useState(0),t=[{question:"How do I get started with NextIgnition?",answer:"Simply sign up for a free account, choose your role (Founder, Expert, Investor, or Co-founder), and complete your profile. You'll immediately have access to our community, AI tools, and expert matching features.",color:B.atomicOrange,icon:ca},{question:"Is NextIgnition really free?",answer:"Yes! NextIgnition offers a free tier that gives you access to core features including community access, basic AI tools, and expert discovery. Premium features and advanced matching are available through our paid plans.",color:B.electricBlue,icon:ca},{question:"How does the AI expert matching work?",answer:"Our AI analyzes your startup profile, industry, stage, and specific needs to match you with the most relevant experts. The algorithm considers expertise areas, availability, past success rates, and compatibility factors to ensure the best matches.",color:B.navyBlue,icon:ca},{question:"Can I switch between roles?",answer:"Absolutely! You can seamlessly switch between Founder, Expert, Investor, and Co-founder roles with just one click. Each role has its own profile and features, allowing you to engage with the platform in multiple ways.",color:B.atomicOrange,icon:ca},{question:"How do consultations work?",answer:"Browse available experts, view their profiles and availability, then book a session directly through the platform. You'll receive automatic confirmations and reminders. Sessions can be conducted via video call, and you can rate and review experts after each consultation.",color:B.electricBlue,icon:ca},{question:"What AI tools are included?",answer:"NextIgnition includes several AI-powered tools: Startup Summary Generator (turns ideas into investor-ready summaries), Profile Summarizer (optimizes your profile), Pitch Deck Summarizer (extracts key highlights), and Smart Matching Algorithm (connects you with relevant experts and opportunities).",color:B.navyBlue,icon:ca}];return u.jsxs("section",{id:"faq",className:"relative bg-white py-24 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto h-full relative px-8",children:[u.jsx("svg",{className:"absolute left-[calc(25%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(50%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})}),u.jsx("svg",{className:"absolute left-[calc(75%+2rem)] top-0 h-full w-px",preserveAspectRatio:"none",children:u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"8 4",opacity:"0.4",vectorEffect:"non-scaling-stroke"})})]})}),u.jsx(X.div,{className:"absolute top-20 right-20 w-64 h-64 rounded-full opacity-5 pointer-events-none",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{backgroundColor:B.electricBlue}}),u.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-8",children:[u.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-16",children:[u.jsxs(X.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.6,type:"spring"},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold tracking-wider mb-6",style:{backgroundColor:`${B.electricBlue}22`,color:B.electricBlue},children:[u.jsx(zv,{className:"w-4 h-4"}),"FAQ"]}),u.jsx("h2",{className:"text-5xl leading-tight tracking-tight mb-4",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl",children:"Got questions? We've got answers. If you don't see your question here, reach out to our support team."})]}),u.jsx("div",{className:"space-y-4",children:t.map((r,a)=>{const o=r.icon,c=n===a;return u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:a*.1},className:"relative",children:[u.jsxs("div",{className:"rounded-2xl overflow-hidden transition-all",style:{backgroundColor:c?"#f9fafb":"white",border:`2px solid ${c?r.color:"#e5e7eb"}`},children:[u.jsxs("button",{onClick:()=>e(c?null:a),className:"w-full px-6 py-5 flex items-center justify-between text-left transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx(X.div,{animate:{rotate:c?360:0,scale:c?1.1:1},transition:{duration:.3},className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${r.color}${c?"33":"22"}`},children:u.jsx(o,{className:"w-5 h-5",style:{color:r.color}})}),u.jsx("span",{className:"font-bold text-gray-900 text-lg pr-4",children:r.question})]}),u.jsx(X.div,{animate:{rotate:c?180:0},transition:{duration:.3},className:"flex-shrink-0",children:c?u.jsx(cb,{className:"w-6 h-6",style:{color:r.color}}):u.jsx(pb,{className:"w-6 h-6 text-gray-400 group-hover:text-gray-600"})})]}),u.jsx(Vx,{children:c&&u.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:u.jsxs("div",{className:"px-6 pb-6 pl-20",children:[u.jsx(X.p,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2,delay:.1},className:"text-gray-700 leading-relaxed",children:r.answer}),u.jsx(X.div,{initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},transition:{duration:.4,delay:.1},className:"h-1 rounded-full mt-4 origin-left",style:{backgroundColor:r.color,width:"60px"}})]})})})]}),u.jsx(Vx,{children:c&&u.jsx(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"absolute -inset-1 rounded-2xl -z-10",style:{background:`linear-gradient(135deg, ${r.color}22, transparent)`,filter:"blur(8px)"}})})]},a)})}),u.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"mt-16 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gray-50",children:[u.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 rounded-full",style:{backgroundColor:B.electricBlue}}),u.jsxs("span",{className:"text-sm text-gray-600",children:[u.jsxs("span",{className:"font-bold text-gray-900",children:[t.length," questions"]})," answered"]}),u.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.5},className:"w-2 h-2 rounded-full",style:{backgroundColor:B.atomicOrange}})]})})]})]})}const CL="/assets/744162bc82319afa7a749a9a028b8441f984363d-DGinZEHi.png";function Bv({opacity:n=.5,className:e=""}){const t=Me.useRef(null);return Me.useEffect(()=>{if(!t.current)return;const r=new rS,a=new ai(75,1,.1,1e3),o=new mS({canvas:t.current,alpha:!0,antialias:!0});o.setSize(800,800),o.setPixelRatio(window.devicePixelRatio),a.position.z=4.5;const c=new Ba(2.5,20,20),d=new Oa({color:16221189,wireframe:!0,transparent:!0,opacity:n}),h=new li(c,d);r.add(h);const p=new cS(16777215,.3);r.add(p);let m;const x=()=>{m=requestAnimationFrame(x),h.rotation.y+=.003,h.rotation.x+=.001,o.render(r,a)};return x(),()=>{cancelAnimationFrame(m),c.dispose(),d.dispose(),o.dispose()}},[n]),u.jsx("canvas",{ref:t,className:e,style:{width:"100%",height:"100%"}})}function El(){const n=[{label:"Features",href:"#features"},{label:"How it Works",href:"#how-it-works"},{label:"AI Tools",href:"#ai-tools"},{label:"Webinars",href:"#webinars"},{label:"Pricing",href:"#pricing"}],e=[{label:"Industry Community",href:"#community"},{label:"Growth Tracking",href:"#growth"},{label:"Security",href:"#security"},{label:"Testimonials",href:"#testimonials"},{label:"Why Choose Us",href:"#why-choose"}],t=[{label:"About",href:"#about"},{label:"Roles",href:"#roles"},{label:"Contact",href:"#contact"},{label:"After Signup",href:"#after-signup"},{label:"FAQ",href:"#faq"}],r=[{label:"Privacy Policy",href:"#privacy"},{label:"Terms of Service",href:"#terms"},{label:"Cookie Policy",href:"#cookie-policy"}];return u.jsxs("footer",{className:"relative bg-[#1a1a1a] text-white overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-5",children:[u.jsx(X.div,{className:"absolute top-20 left-20 w-64 h-64 rounded-full",style:{backgroundColor:B.electricBlue},animate:{scale:[1,1.2,1],opacity:[.05,.1,.05]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsx(X.div,{className:"absolute bottom-40 right-20 w-96 h-96 rounded-full",style:{backgroundColor:B.atomicOrange},animate:{scale:[1,1.3,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}})]}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8",children:[u.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"py-16 border-b border-gray-800",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("h3",{className:"text-3xl font-bold mb-3",children:"Stay in the Loop"}),u.jsx("p",{className:"text-gray-400 text-base mb-8",children:"Get startup tips, platform updates, and exclusive content delivered to your inbox."}),u.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Lu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),u.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full pl-12 pr-4 py-3.5 rounded-full bg-[#2a2a2a] border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"})]}),u.jsxs("button",{className:"px-8 py-3.5 rounded-full font-bold text-white hover:shadow-2xl transition-all group flex items-center gap-2",style:{background:`linear-gradient(135deg, ${B.atomicOrange}, ${B.electricBlue})`},children:["Subscribe",u.jsx(zn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})}),u.jsxs("div",{className:"py-16 grid grid-cols-12 gap-6 lg:gap-12 relative",children:[u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"col-span-12 lg:col-span-4 relative z-20",children:[u.jsx("div",{className:"flex items-center gap-2 mb-[32px] mt-[0px] mr-[0px] ml-[0px]",children:u.jsx("img",{src:CL,alt:"NextIgnition Logo",className:"",style:{width:"50%"}})}),u.jsxs("div",{className:"flex items-center gap-3 relative z-20",children:[u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] flex items-center justify-center transition-colors group",children:u.jsx(Lb,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] flex items-center justify-center transition-colors group",children:u.jsx(JM,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] flex items-center justify-center transition-colors group",children:u.jsx(LM,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] flex items-center justify-center transition-colors group",children:u.jsx($M,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] flex items-center justify-center transition-colors group",children:u.jsx(jM,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})})]})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"col-span-6 lg:col-span-2 relative z-20",children:[u.jsx("h4",{className:"font-bold text-sm mb-4",style:{color:B.electricBlue},children:"Product"}),u.jsx("ul",{className:"space-y-3 relative z-20",children:n.map((a,o)=>u.jsx("li",{children:u.jsxs("a",{href:a.href,className:"text-sm text-gray-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[a.label,u.jsx(zn,{className:"w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]})},o))})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"col-span-6 lg:col-span-2 relative z-20",children:[u.jsx("h4",{className:"font-bold text-sm mb-4",style:{color:B.atomicOrange},children:"Resources"}),u.jsx("ul",{className:"space-y-3 relative z-20",children:e.map((a,o)=>u.jsx("li",{children:u.jsxs("a",{href:a.href,className:"text-sm text-gray-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[a.label,u.jsx(zn,{className:"w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]})},o))})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"col-span-6 lg:col-span-2 relative z-20",children:[u.jsx("h4",{className:"font-bold text-sm mb-4",style:{color:B.electricBlue},children:"Company"}),u.jsx("ul",{className:"space-y-3 relative z-20",children:t.map((a,o)=>u.jsx("li",{children:u.jsxs("a",{href:a.href,className:"text-sm text-gray-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[a.label,u.jsx(zn,{className:"w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]})},o))})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"col-span-6 lg:col-span-2 relative z-20",children:[u.jsx("h4",{className:"font-bold text-sm mb-4",style:{color:B.atomicOrange},children:"Legal"}),u.jsx("ul",{className:"space-y-3 relative z-20",children:r.map((a,o)=>u.jsx("li",{children:u.jsxs("a",{href:a.href,className:"text-sm text-gray-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[a.label,u.jsx(zn,{className:"w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]})},o))})]})]}),u.jsxs(X.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8,delay:.5},className:"py-8 border-t border-gray-800 flex items-center justify-between relative",children:[u.jsx("div",{className:"hidden lg:block absolute w-[250px] h-[250px] lg:w-[600px] lg:h-[600px] bottom-0 right-1/2 translate-x-[-130%] translate-y-[50%] lg:right-0 z-0",children:u.jsx("div",{className:"w-full h-[400px]",children:u.jsx(Bv,{opacity:.5})})}),u.jsx("div",{className:"block lg:hidden absolute w-[320px] h-[320px] bottom-0 left-1/2 -translate-x-[130%] translate-y-[20%] z-0",children:u.jsx("div",{className:"w-full h-[400px]",children:u.jsx(Bv,{opacity:.6})})}),u.jsx("p",{className:"text-sm text-[rgb(255,255,255)] relative z-10",children:" 2026 NextIgnition. All rights reserved."}),u.jsxs("button",{className:"px-6 py-2.5 rounded-full font-bold text-sm hover:shadow-xl transition-all group flex items-center gap-2 relative z-10",style:{backgroundColor:B.atomicOrange},children:["Launch App",u.jsx(zn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})}function NL(){const[n,e]=Me.useState(""),[t,r]=Me.useState("");return u.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx(X.div,{className:"absolute top-20 right-20 w-96 h-96 rounded-full opacity-10",style:{backgroundColor:B.electricBlue},animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsx(X.div,{className:"absolute bottom-20 left-20 w-80 h-80 rounded-full opacity-10",style:{backgroundColor:B.atomicOrange},animate:{scale:[1,1.3,1],opacity:[.1,.12,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}})]}),u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Don't have an account?"}),u.jsx("a",{href:"#signup",className:"px-5 py-2 text-sm font-medium rounded-full transition-colors text-white",style:{backgroundColor:B.atomicOrange},children:"Sign Up"})]})]})}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[u.jsxs(X.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"hidden lg:block relative",children:[u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mb-[48px] text-left mt-[0px] mr-[0px] ml-[0px]",children:[u.jsx("h2",{className:"text-3xl font-bold mb-[8px] text-[40px] mt-[0px] mr-[0px] ml-[0px]",children:"Welcome Back!"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Continue your journey from idea to launch with our powerful platform."})]}),u.jsx("div",{className:"relative mt-[0px] mr-[0px] mb-[128px] ml-[0px]",children:u.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.8,delay:.2},className:"w-64 h-64 mx-auto rounded-full flex items-center justify-center relative",style:{background:`linear-gradient(135deg, ${B.atomicOrange}15, ${B.electricBlue}15)`},children:u.jsxs(X.div,{className:"w-48 h-48 rounded-full flex items-center justify-center relative",children:[u.jsx(X.div,{animate:{rotate:360},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-4 border-dashed",style:{borderColor:B.electricBlue+"20"}}),u.jsx(X.div,{animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute inset-4 rounded-full border-3 border-dotted",style:{borderColor:B.atomicOrange+"30",borderWidth:"3px"}}),u.jsx(X.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute inset-8 rounded-full border-2",style:{borderColor:B.electricBlue+"40"}}),u.jsx(X.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:u.jsx(ja,{className:"w-20 h-20",style:{color:B.atomicOrange}})})]})})})]}),u.jsxs(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},className:"w-full max-w-md mx-auto lg:mx-0",children:[u.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 lg:p-10 border border-gray-100",children:u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[u.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Log In"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Access your NextIgnition account"}),u.jsxs("form",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Lu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",id:"email",value:n,onChange:a=>e(a.target.value),placeholder:"you@example.com",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 transition-all",style:{focusRing:`2px solid ${B.electricBlue}30`}})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),u.jsx("a",{href:"#forgot",className:"text-sm transition-colors",style:{color:B.electricBlue},children:"Forgot password?"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Xp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:a=>r(a.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 transition-all"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"remember",className:"w-4 h-4 rounded border-gray-300",style:{accentColor:B.atomicOrange}}),u.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-600",children:"Remember me for 30 days"})]}),u.jsxs(X.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all group flex items-center justify-center gap-2",style:{background:`linear-gradient(135deg, ${B.atomicOrange}, ${B.electricBlue})`},children:["Log In",u.jsx(zn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),u.jsxs("div",{className:"my-8 flex items-center gap-4",children:[u.jsx("div",{className:"flex-1 h-px bg-gray-200"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Or continue with"}),u.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsx("svg",{className:"w-5 h-5",fill:"#000000",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"X"]}),u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsx("svg",{className:"w-5 h-5",fill:"#0A66C2",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})}),"LinkedIn"]})]})]})}),u.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"lg:hidden mt-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"Continue your journey from idea to launch"})})]})]})})]})}function RL(){const[n,e]=Me.useState(""),[t,r]=Me.useState(""),[a,o]=Me.useState(""),c=[{icon:wu,label:"Set Goals",color:B.atomicOrange},{icon:ja,label:"Build",color:B.electricBlue},{icon:yM,label:"Grow",color:B.atomicOrange},{icon:gl,label:"Launch",color:B.electricBlue}];return u.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx(X.div,{className:"absolute top-40 left-10 w-96 h-96 rounded-full opacity-10",style:{backgroundColor:B.atomicOrange},animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsx(X.div,{className:"absolute bottom-40 right-10 w-80 h-80 rounded-full opacity-10",style:{backgroundColor:B.electricBlue},animate:{scale:[1,1.3,1],opacity:[.1,.12,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(8)].map((d,h)=>u.jsx(X.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:h%2===0?B.atomicOrange:B.electricBlue,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[.2,.5,.2]},transition:{duration:3+h,repeat:1/0,ease:"easeInOut",delay:h*.5}},h))]}),u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Already have an account?"}),u.jsx("a",{href:"#login",className:"px-5 py-2 text-sm font-medium border border-gray-300 rounded-full hover:bg-gray-100 bg-white",children:"Log In"})]})]})}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[u.jsx(X.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"w-full max-w-md mx-auto lg:mx-0 order-2 lg:order-1",children:u.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 lg:p-10 border border-gray-100",children:u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[u.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Sign Up"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Start your startup journey today"}),u.jsxs("form",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium mb-2",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",id:"fullName",value:n,onChange:d=>e(d.target.value),placeholder:"John Doe",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Lu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",id:"email",value:t,onChange:d=>r(d.target.value),placeholder:"you@example.com",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",id:"password",value:a,onChange:d=>o(d.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 transition-all"})]}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("input",{type:"checkbox",id:"terms",className:"w-4 h-4 rounded border-gray-300 mt-1",style:{accentColor:B.atomicOrange}}),u.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",u.jsx("a",{href:"#terms",className:"underline",style:{color:B.electricBlue},children:"Terms of Service"})," ","and"," ",u.jsx("a",{href:"#privacy",className:"underline",style:{color:B.electricBlue},children:"Privacy Policy"})]})]}),u.jsxs(X.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all group flex items-center justify-center gap-2",style:{background:`linear-gradient(135deg, ${B.atomicOrange}, ${B.electricBlue})`},children:["Create Account",u.jsx(zn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),u.jsxs("div",{className:"my-8 flex items-center gap-4",children:[u.jsx("div",{className:"flex-1 h-px bg-gray-200"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Or sign up with"}),u.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsx("svg",{className:"w-5 h-5",fill:"#000000",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"X"]}),u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsx("svg",{className:"w-5 h-5",fill:"#0A66C2",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})}),"LinkedIn"]}),u.jsxs("button",{className:"py-3 px-4 rounded-xl border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium text-sm",children:[u.jsx("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})})}),u.jsx(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},className:"hidden lg:block relative order-1 lg:order-2",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative h-[500px] flex items-center justify-center",children:[u.jsx(X.div,{className:"absolute left-1/2 top-0 -translate-x-1/2 w-1 h-full rounded-full",style:{backgroundColor:B.electricBlue+"20"},children:u.jsx(X.div,{className:"w-full rounded-full",style:{backgroundColor:B.electricBlue},initial:{height:0},animate:{height:"100%"},transition:{duration:2,delay:.5,ease:"easeOut"}})}),u.jsx("div",{className:"relative w-full h-full",children:c.map((d,h)=>u.jsx(X.div,{initial:{opacity:0,x:h%2===0?-50:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.8+h*.2},className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-6",style:{top:`${h/(c.length-1)*85+5}%`},children:h%2===0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-right w-32",children:u.jsx("h3",{className:"font-bold text-lg whitespace-nowrap",children:d.label})}),u.jsx(X.div,{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-xl relative z-20 flex-shrink-0",style:{backgroundColor:d.color},whileHover:{scale:1.1},animate:{boxShadow:[`0 0 20px ${d.color}40`,`0 0 40px ${d.color}60`,`0 0 20px ${d.color}40`]},transition:{boxShadow:{duration:2,repeat:1/0,ease:"easeInOut",delay:h*.3}},children:u.jsx(d.icon,{className:"w-10 h-10 text-white"})}),u.jsx("div",{className:"w-32"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-32"}),u.jsx(X.div,{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-xl relative z-20 flex-shrink-0",style:{backgroundColor:d.color},whileHover:{scale:1.1},animate:{boxShadow:[`0 0 20px ${d.color}40`,`0 0 40px ${d.color}60`,`0 0 20px ${d.color}40`]},transition:{boxShadow:{duration:2,repeat:1/0,ease:"easeInOut",delay:h*.3}},children:u.jsx(d.icon,{className:"w-10 h-10 text-white"})}),u.jsx("div",{className:"text-left w-32",children:u.jsx("h3",{className:"font-bold text-lg whitespace-nowrap",children:d.label})})]})},h))})]}),u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.4},className:"mt-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Your Success Journey"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Join thousands of founders transforming ideas into thriving businesses"}),u.jsx("div",{className:"grid grid-cols-3 gap-6 mt-8",children:[{value:"10K+",label:"Startups"},{value:"95%",label:"Success Rate"},{value:"24/7",label:"Support"}].map((d,h)=>u.jsxs(X.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.6+h*.1},className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",style:{color:B.atomicOrange},children:d.value}),u.jsx("div",{className:"text-sm text-gray-600",children:d.label})]},h))})]})]})}),u.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"lg:hidden order-3 grid grid-cols-3 gap-4 mt-8",children:[{value:"10K+",label:"Startups"},{value:"95%",label:"Success Rate"},{value:"24/7",label:"Support"}].map((d,h)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",style:{color:B.atomicOrange},children:d.value}),u.jsx("div",{className:"text-sm text-gray-600",children:d.label})]},h))})]})})]})}function PL(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"border-b border-gray-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("a",{href:"#",className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm font-medium hover:opacity-70 transition-opacity",style:{color:B.electricBlue},children:[u.jsx(Du,{className:"w-4 h-4"}),"Back to Home"]})]})}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[u.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Terms of Service"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: January 9, 2026"}),u.jsxs("div",{className:"prose prose-lg max-w-none space-y-8",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Agreement to Terms"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'By accessing or using NextIgnition ("the Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of these terms, you may not access the Service.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. Use License"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Permission is granted to temporarily access the materials on NextIgnition for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Modify or copy the materials"}),u.jsx("li",{children:"Use the materials for any commercial purpose or for any public display"}),u.jsx("li",{children:"Attempt to decompile or reverse engineer any software contained on the Service"}),u.jsx("li",{children:"Remove any copyright or other proprietary notations from the materials"}),u.jsx("li",{children:'Transfer the materials to another person or "mirror" the materials on any other server'})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. User Accounts"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"When you create an account with us, you must provide accurate, complete, and current information at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account."}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You are responsible for safeguarding the password that you use to access the Service and for any activities or actions under your password. You agree not to disclose your password to any third party."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. Acceptable Use"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You agree not to use the Service:"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[u.jsx("li",{children:"In any way that violates any applicable national or international law or regulation"}),u.jsx("li",{children:"To transmit, or procure the sending of, any advertising or promotional material without our prior written consent"}),u.jsx("li",{children:"To impersonate or attempt to impersonate the Company, a Company employee, another user, or any other person or entity"}),u.jsx("li",{children:"In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful"}),u.jsx("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of the Service"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. Intellectual Property"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of NextIgnition and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Termination"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. Upon termination, your right to use the Service will immediately cease."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Limitation of Liability"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"In no event shall NextIgnition, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. Disclaimer"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'Your use of the Service is at your sole risk. The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement or course of performance.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Changes to Terms"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"10. Contact Us"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about these Terms, please contact us at:"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Email: ",u.jsx("a",{href:"mailto:legal@nextignition.com",className:"underline",style:{color:B.electricBlue},children:"legal@nextignition.com"})]})]})]})]})}),u.jsx(El,{})]})}function IL(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"border-b border-gray-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("a",{href:"#",className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm font-medium hover:opacity-70 transition-opacity",style:{color:B.electricBlue},children:[u.jsx(Du,{className:"w-4 h-4"}),"Back to Home"]})]})}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[u.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Privacy Policy"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: January 9, 2026"}),u.jsxs("div",{className:"prose prose-lg max-w-none space-y-8",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Introduction"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'NextIgnition ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.'}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. Information We Collect"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may collect information about you in a variety of ways. The information we may collect includes:"}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Personal Data"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Personally identifiable information, such as your name, shipping address, email address, and telephone number, and demographic information, such as your age, gender, hometown, and interests, that you voluntarily give to us when you register with the Service or when you choose to participate in various activities related to the Service."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Derivative Data"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Information our servers automatically collect when you access the Service, such as your IP address, your browser type, your operating system, your access times, and the pages you have viewed directly before and after accessing the Service."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Financial Data"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Financial information, such as data related to your payment method (e.g., valid credit card number, card brand, expiration date) that we may collect when you purchase, order, return, exchange, or request information about our services from the Service."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. Use of Your Information"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Having accurate information about you permits us to provide you with a smooth, efficient, and customized experience. Specifically, we may use information collected about you via the Service to:"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Create and manage your account"}),u.jsx("li",{children:"Process your transactions and send you related information"}),u.jsx("li",{children:"Email you regarding your account or order"}),u.jsx("li",{children:"Fulfill and manage purchases, orders, payments, and other transactions"}),u.jsx("li",{children:"Generate a personal profile about you to make future visits more personalized"}),u.jsx("li",{children:"Increase the efficiency and operation of the Service"}),u.jsx("li",{children:"Monitor and analyze usage and trends to improve your experience"}),u.jsx("li",{children:"Notify you of updates to the Service"}),u.jsx("li",{children:"Offer new products, services, and/or recommendations"}),u.jsx("li",{children:"Perform other business activities as needed"}),u.jsx("li",{children:"Prevent fraudulent transactions and protect against criminal activity"}),u.jsx("li",{children:"Request feedback and contact you about your use of the Service"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. Disclosure of Your Information"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may share information we have collected about you in certain situations. Your information may be disclosed as follows:"}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"By Law or to Protect Rights"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If we believe the release of information about you is necessary to respond to legal process, to investigate or remedy potential violations of our policies, or to protect the rights, property, and safety of others, we may share your information as permitted or required by any applicable law, rule, or regulation."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Third-Party Service Providers"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may share your information with third parties that perform services for us or on our behalf, including payment processing, data analysis, email delivery, hosting services, customer service, and marketing assistance."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Business Transfers"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may share or transfer your information in connection with, or during negotiations of, any merger, sale of company assets, financing, or acquisition of all or a portion of our business to another company."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. Security of Your Information"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We use administrative, technical, and physical security measures to help protect your personal information. While we have taken reasonable steps to secure the personal information you provide to us, please be aware that despite our efforts, no security measures are perfect or impenetrable, and no method of data transmission can be guaranteed against any interception or other type of misuse."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Policy for Children"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We do not knowingly solicit information from or market to children under the age of 13. If we learn that we have collected personal information from a child under age 13 without verification of parental consent, we will delete that information as quickly as possible."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Your Privacy Rights"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You may at any time review or change the information in your account or terminate your account by:"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Logging into your account settings and updating your account"}),u.jsx("li",{children:"Contacting us using the contact information provided below"})]}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 mt-4",children:"Upon your request to terminate your account, we will deactivate or delete your account and information from our active databases. However, some information may be retained in our files to prevent fraud, troubleshoot problems, assist with any investigations, enforce our Terms of Use and/or comply with legal requirements."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. Changes to This Privacy Policy"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'We may update this Privacy Policy from time to time in order to reflect changes to our practices or for other operational, legal, or regulatory reasons. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Contact Us"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have questions or comments about this Privacy Policy, please contact us at:"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Email: ",u.jsx("a",{href:"mailto:privacy@nextignition.com",className:"underline",style:{color:B.electricBlue},children:"privacy@nextignition.com"})]})]})]})]})}),u.jsx(El,{})]})}function DL(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"border-b border-gray-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("a",{href:"#",className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm font-medium hover:opacity-70 transition-opacity",style:{color:B.electricBlue},children:[u.jsx(Du,{className:"w-4 h-4"}),"Back to Home"]})]})}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[u.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Cookie Policy"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: January 9, 2026"}),u.jsxs("div",{className:"prose prose-lg max-w-none space-y-8",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. What Are Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Cookies are small pieces of text sent to your web browser by a website you visit. A cookie file is stored in your web browser and allows the Service or a third-party to recognize you and make your next visit easier and the Service more useful to you."}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'Cookies can be "persistent" or "session" cookies. Persistent cookies remain on your personal computer or mobile device when you go offline, while session cookies are deleted as soon as you close your web browser.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. How NextIgnition Uses Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"When you use and access the Service, we may place a number of cookies files in your web browser. We use cookies for the following purposes:"}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Essential Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We use essential cookies to authenticate users and prevent fraudulent use of user accounts. These cookies are necessary for the Service to function properly."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Preference Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We use preference cookies to remember your preferences and various settings. This helps us provide you with a more personalized experience and saves you time by not having to re-enter your preferences every time you visit."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Analytics Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We use analytics cookies to track information about how the Service is used so that we can make improvements. These cookies collect information about how visitors use our website, such as which pages they visit most often and if they receive error messages from web pages."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"Advertising Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"These cookies are used to make advertising messages more relevant to you. They perform functions like preventing the same ad from continuously reappearing, ensuring that ads are properly displayed, and in some cases selecting advertisements that are based on your interests."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. Third-Party Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"In addition to our own cookies, we may also use various third-party cookies to report usage statistics of the Service and deliver advertisements on and through the Service."}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Some of the third-party services we use include:"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Google Analytics - to understand how visitors interact with our website"}),u.jsx("li",{children:"Social Media Platforms - to enable social sharing and interactions"}),u.jsx("li",{children:"Advertising Networks - to deliver targeted advertisements"}),u.jsx("li",{children:"Payment Processors - to securely process payments"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. What Are Your Choices Regarding Cookies"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you'd like to delete cookies or instruct your web browser to delete or refuse cookies, please visit the help pages of your web browser. Please note, however, that if you delete cookies or refuse to accept them, you might not be able to use all of the features we offer, you may not be able to store your preferences, and some of our pages might not display properly."}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"For Chrome"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Visit: ",u.jsx("a",{href:"https://support.google.com/chrome/answer/95647",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:B.electricBlue},children:"Chrome Cookie Settings"})]}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"For Firefox"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Visit: ",u.jsx("a",{href:"https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:B.electricBlue},children:"Firefox Cookie Settings"})]}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"For Safari"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Visit: ",u.jsx("a",{href:"https://support.apple.com/guide/safari/manage-cookies-sfri11471/mac",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:B.electricBlue},children:"Safari Cookie Settings"})]}),u.jsx("h3",{className:"text-xl font-bold mb-3 mt-6",children:"For Edge"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Visit: ",u.jsx("a",{href:"https://support.microsoft.com/en-us/microsoft-edge/delete-cookies-in-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:B.electricBlue},children:"Edge Cookie Settings"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. Do Not Track Signals"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'We respect Do Not Track ("DNT") signals and do not track, plant cookies, or use advertising when a DNT browser mechanism is in place. DNT is a preference you can set in your web browser to inform websites that you do not want to be tracked.'}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Cookie Consent"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"By using our Service, you consent to the use of cookies as described in this Cookie Policy. When you first visit our website, you will be presented with a cookie consent banner that allows you to accept or decline non-essential cookies."}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You can change your cookie preferences at any time by accessing the cookie settings through the link in our footer or by clearing your browser cookies and revisiting our site."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Changes to This Cookie Policy"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'We may update our Cookie Policy from time to time. We will notify you of any changes by posting the new Cookie Policy on this page and updating the "Last updated" date at the top of this Cookie Policy.'}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You are advised to review this Cookie Policy periodically for any changes. Changes to this Cookie Policy are effective when they are posted on this page."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. More Information"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["For more information about cookies, including how to see what cookies have been set and how to manage and delete them, visit ",u.jsx("a",{href:"https://www.allaboutcookies.org",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:B.electricBlue},children:"www.allaboutcookies.org"}),"."]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Contact Us"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about our use of cookies or this Cookie Policy, please contact us at:"}),u.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Email: ",u.jsx("a",{href:"mailto:privacy@nextignition.com",className:"underline",style:{color:B.electricBlue},children:"privacy@nextignition.com"})]})]})]})]})}),u.jsx(El,{})]})}function LL(){const[n,e]=Me.useState({name:"",email:"",company:"",subject:"",message:""}),[t,r]=Me.useState(!1),[a,o]=Me.useState(!1),c=h=>{e({...n,[h.target.name]:h.target.value})},d=async h=>{h.preventDefault(),r(!0),await new Promise(p=>setTimeout(p,1500)),r(!1),o(!0),setTimeout(()=>{e({name:"",email:"",company:"",subject:"",message:""}),o(!1)},3e3)};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(X.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"border-b border-gray-200",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-4",children:[u.jsx("a",{href:"#",className:"flex items-center gap-2",children:u.jsx("img",{src:Bs,alt:"Next Ignition Logo",className:"h-6 lg:h-8 cursor-pointer",onClick:()=>window.location.hash="#"})}),u.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm font-medium hover:opacity-70 transition-opacity",style:{color:B.electricBlue},children:[u.jsx(Du,{className:"w-4 h-4"}),"Back to Home"]})]})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-12 lg:py-20",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16",children:[u.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:[u.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Have a question or want to learn more about NextIgnition? We'd love to hear from you. Fill out the form and our team will get back to you within 24 hours."}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${B.electricBlue}15`},children:u.jsx(Lu,{className:"w-5 h-5",style:{color:B.electricBlue}})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-1",children:"Email Us"}),u.jsx("p",{className:"text-gray-600",children:"support@nextignition.com"}),u.jsx("p",{className:"text-gray-600",children:"hello@nextignition.com"})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${B.atomicOrange}15`},children:u.jsx(fb,{className:"w-5 h-5",style:{color:B.atomicOrange}})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-1",children:"Call Us"}),u.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Fri, 9am-6pm EST"})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${B.navyBlue}15`},children:u.jsx(nb,{className:"w-5 h-5",style:{color:B.navyBlue}})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-1",children:"Visit Us"}),u.jsx("p",{className:"text-gray-600",children:"123 Innovation Street"}),u.jsx("p",{className:"text-gray-600",children:"San Francisco, CA 94102"})]})]})]}),u.jsxs("div",{className:"mt-12 p-6 rounded-2xl",style:{backgroundColor:`${B.electricBlue}08`},children:[u.jsx("h3",{className:"font-bold mb-3",children:"Quick Links"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("a",{href:"#pricing",className:"block text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" View Pricing Plans"}),u.jsx("a",{href:"#faq",className:"block text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" Frequently Asked Questions"}),u.jsx("a",{href:"#features",className:"block text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" Explore Features"})]})]})]}),u.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.8},children:u.jsxs("form",{onSubmit:d,className:"bg-gray-50 rounded-2xl p-6 lg:p-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send us a Message"}),a&&u.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg text-white",style:{backgroundColor:B.electricBlue},children:[u.jsx("p",{className:"font-medium",children:" Message sent successfully!"}),u.jsx("p",{className:"text-sm opacity-90",children:"We'll get back to you soon."})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Full Name *"}),u.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:n.name,onChange:c,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{focusRingColor:B.electricBlue},placeholder:"John Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address *"}),u.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:n.email,onChange:c,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",placeholder:"john@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"company",className:"block text-sm font-medium mb-2",children:"Company Name"}),u.jsx("input",{type:"text",id:"company",name:"company",value:n.company,onChange:c,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",placeholder:"Your Company"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",children:"Subject *"}),u.jsxs("select",{id:"subject",name:"subject",required:!0,value:n.subject,onChange:c,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all bg-white",children:[u.jsx("option",{value:"",children:"Select a subject"}),u.jsx("option",{value:"general",children:"General Inquiry"}),u.jsx("option",{value:"sales",children:"Sales & Pricing"}),u.jsx("option",{value:"support",children:"Technical Support"}),u.jsx("option",{value:"partnership",children:"Partnership Opportunities"}),u.jsx("option",{value:"feedback",children:"Feedback & Suggestions"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:"Message *"}),u.jsx("textarea",{id:"message",name:"message",required:!0,value:n.message,onChange:c,rows:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all resize-none",placeholder:"Tell us more about your inquiry..."})]}),u.jsx("button",{type:"submit",disabled:t,className:"w-full py-4 px-6 text-white font-medium rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:B.atomicOrange},onMouseEnter:h=>!t&&(h.currentTarget.style.opacity="0.9"),onMouseLeave:h=>!t&&(h.currentTarget.style.opacity="1"),children:t?u.jsxs(u.Fragment,{children:[u.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):u.jsxs(u.Fragment,{children:["Send Message",u.jsx(bb,{className:"w-4 h-4"})]})})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-4 text-center",children:["By submitting this form, you agree to our"," ",u.jsx("a",{href:"#privacy",className:"underline",style:{color:B.electricBlue},children:"Privacy Policy"})]})]})})]})}),u.jsx(El,{})]})}function kL(){const[n,e]=Me.useState("home");return Me.useEffect(()=>{const t=()=>{const r=window.location.hash.slice(1);e(r==="login"?"login":r==="signup"?"signup":r==="terms"?"terms":r==="privacy"?"privacy":r==="cookie-policy"?"cookie-policy":r==="contact"?"contact":"home"),window.scrollTo(0,0)};return window.addEventListener("hashchange",t),t(),()=>{window.removeEventListener("hashchange",t)}},[]),n==="login"?u.jsx(NL,{}):n==="signup"?u.jsx(RL,{}):n==="terms"?u.jsx(PL,{}):n==="privacy"?u.jsx(IL,{}):n==="cookie-policy"?u.jsx(DL,{}):n==="contact"?u.jsx(LL,{}):u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx(hL,{}),u.jsx(mL,{}),u.jsx(gL,{}),u.jsx(xL,{}),u.jsx(yL,{}),u.jsx(vL,{}),u.jsx(_L,{}),u.jsx(SL,{}),u.jsx(wL,{}),u.jsx(ML,{}),u.jsx(bL,{}),u.jsx(EL,{}),u.jsx(TL,{}),u.jsx(AL,{}),u.jsx(El,{})]})}nM.createRoot(document.getElementById("root")).render(u.jsx(kL,{}));
